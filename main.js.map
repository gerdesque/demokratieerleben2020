{"version":3,"sources":["/home/gm/Development/playground/demokratieerleben2020/dist/libs/data/data.esm.js","/home/gm/Development/playground/demokratieerleben2020/dist/libs/home/home.esm.js","/home/gm/Development/playground/demokratieerleben2020/dist/libs/ui/ui.esm.js","./app/app.scss","webpack:///./app/app.scss?27c8","./app/app.tsx","./app/scrollintoview.tsx","./app/usepersistedstate.tsx","./main.tsx"],"names":["API_URL","IMAGE_SUFFIX","IMAGE_SUFFIX_ALTERNATE","VIDEO_SUFFIX","Layer","ContentType","home","link","name","groups","Home","React","createElement","Chapter","Object","assign","Summary","props","React__default","className","value","title","split","map","text","index","key","clamp","min","arguments","length","undefined","max","process","console","error","concat","Math","hexToRgb","color","substr","re","RegExp","colors","match","n","parseInt","join","hslToRgb","decomposeColor","_color","values","h","s","l","a","f","k","type","rgb","round","push","recomposeColor","charAt","marker","indexOf","substring","Error","parseFloat","i","getContrastRatio","foreground","background","lumA","getLuminance","lumB","val","pow","Number","toFixed","darken","coefficient","lighten","_defineProperty","obj","defineProperty","enumerable","configurable","writable","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","keys","_objectWithoutProperties","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","_extends","hasOwnProperty","apply","_typeof","Symbol","iterator","constructor","isPlainObject","item","deepmerge","options","clone","output","forEach","specialProperty","exactProp","propTypes","unsupportedProps","filter","prop","fnNameMatchRegex","getFunctionName","fn","getFunctionComponentName","Component","fallback","displayName","getWrappedName","outerType","innerType","wrapperName","functionName","getDisplayName","$$typeof","ForwardRef","render","Memo","createBreakpoints","breakpoints","_breakpoints$values","xs","sm","md","lg","xl","_breakpoints$unit","unit","_breakpoints$step","step","other","up","down","endIndex","upperbound","between","start","end","only","width","createMixins","spacing","mixins","_toolbar","gutters","styles","paddingLeft","paddingRight","toolbar","minHeight","common","black","white","grey","A100","A200","A400","A700","indigo","pink","red","orange","blue","green","light","primary","secondary","disabled","hint","divider","paper","default","action","active","hover","hoverOpacity","selected","selectedOpacity","disabledBackground","disabledOpacity","focus","focusOpacity","activatedOpacity","dark","icon","addLightOrDark","intent","direction","shade","tonalOffset","tonalOffsetLight","tonalOffsetDark","main","createPalette","palette","_palette$primary","_palette$secondary","_palette$error","_palette$warning","warning","_palette$info","info","_palette$success","success","_palette$type","_palette$contrastThre","contrastThreshold","_palette$tonalOffset","getContrastText","contrastText","contrast","augmentColor","mainShade","lightShade","darkShade","JSON","stringify","types","paletteOutput","caseAllCaps","textTransform","defaultFontFamily","createTypography","typography","_ref","_ref$fontFamily","fontFamily","_ref$fontSize","fontSize","_ref$fontWeightLight","fontWeightLight","_ref$fontWeightRegula","fontWeightRegular","_ref$fontWeightMedium","fontWeightMedium","_ref$fontWeightBold","fontWeightBold","_ref$htmlFontSize","htmlFontSize","allVariants","pxToRem2","pxToRem","coef","size","buildVariant","fontWeight","lineHeight","letterSpacing","casing","variants","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","button","caption","overline","shadowKeyUmbraOpacity","shadowKeyPenumbraOpacity","shadowAmbientShadowOpacity","createShadow","shadows","shape","borderRadius","responsivePropType","PropTypes__default","oneOfType","number","string","object","array","_arrayLikeToArray","arr","len","arr2","Array","_arrayWithoutHoles","isArray","_iterableToArray","iter","from","_unsupportedIterableToArray","o","minLen","toString","slice","test","_nonIterableSpread","TypeError","_toConsumableArray","merge","acc","defaultBreakpoints","handleBreakpoints","propValue","styleFromPropValue","theme","themeBreakpoints","reduce","_themeBreakpoints","breakpoint","_arrayWithHoles","_iterableToArrayLimit","_arr","_n","_d","_e","_i","_s","next","done","err","_nonIterableRest","_slicedToArray","memoize","cache","arg","properties","m","p","directions","t","r","b","x","y","aliases","marginX","marginY","paddingX","paddingY","getCssProperties","_prop$split","_prop$split2","property","dir","spacingKeys","createUnarySpacing","themeSpacing","abs","getValue","transformer","transformed","getStyleFromPropValue","cssProperties","cssProperty","filterProps","warnOnce","createSpacing","spacingInput","mui","transform","_len","args","_key","argument","get","easing","easeInOut","easeOut","easeIn","sharp","duration","shortest","shorter","short","standard","complex","enteringScreen","leavingScreen","formatMs","milliseconds","transitions","create","_options$duration","durationOption","_options$easing","easingOption","_options$delay","delay","isString","isNumber","isNaN","animatedProp","getAutoHeightDuration","height","constant","zIndex","mobileStepper","speedDial","appBar","drawer","modal","snackbar","tooltip","createMuiTheme","_options$breakpoints","breakpointsInput","_options$mixins","mixinsInput","_options$palette","paletteInput","_options$typography","typographyInput","muiTheme","overrides","pseudoClasses","traverse","node","parentKey","depth","child","root","_inheritsLoose","subClass","superClass","__proto__","_assertThisInitialized","self","ReferenceError","hasSymbol","for","nested","createGenerateClassName","_options$disableGloba","disableGlobal","_options$productionPr","productionPrefix","_options$seed","seed","seedPrefix","ruleCounter","rule","styleSheet","warn","prefix","suffix","classNamePrefix","isProduction","condition","message","_typeof$1","isBrowser","window","document","nodeType","_defineProperties","descriptor","_createClass","Constructor","protoProps","staticProps","plainObjectConstrurctor","cloneStyle","style","newStyle","createRule","decl","jss","declCopy","plugins","onCreateRule","by","result","toCssValue","ignoreImportant","cssValue","indentStr","str","indent","toCss","selector","_options","_options$indent","fallbacks","_prop","_value","_prop2","_value2","allowEmpty","escapeRegex","nativeEscape","CSS","escape","replace","BaseStyleRule","isProcessed","renderer","renderable","sheet","Renderer","_proto","force","newValue","onChangeValue","isEmpty","isDefined","remove","removeProperty","setProperty","attached","StyleRule","_BaseStyleRule","_this","selectorText","id","scoped","generateId","_proto2","applyTo","json","toJSON","opts","set","hasChanged","setSelector","replaceRule","pluginStyleRule","parent","defaultToStringOptions","children","atRegExp","ConditionalRule","at","query","rules","atMatch","RuleList","add","getRule","addRule","onProcessRule","keyRegExp","pluginConditionalRule","defaultToStringOptions$1","nameRegExp","KeyframesRule","frames","nameMatch","keyRegExp$1","refRegExp","findReferencedKeyframe","keyframes","replaceRef","refKeyframe","plugin","onProcessStyle","KeyframeRule","pluginKeyframeRule","FontFaceRule","keyRegExp$2","pluginFontFaceRule","ViewportRule","pluginViewportRule","SimpleRule","keysMap","pluginSimpleRule","defaultUpdateOptions","forceUpdateOptions","raw","counter","classes","ruleOptions","_this$options","register","splice","unregister","plugins$$1","update","data","updateOne","_this$options2","styleRule","onUpdate","nextValue","prevValue","_nextValue","_prevValue","css","StyleSheet","deployed","queue","attach","deploy","detach","insertRule","addRules","added","deleteRule","_this$rules","PluginsRegistry","internal","external","registry","onProcessSheet","processedValue","use","newPlugin","SheetsRegistry","reset","_temp","sheets","globalThis","Function","ns","moduleId","maxRules","createGenerateId","jssId","String","minify","memoize$1","getPropertyValue","cssRule","attributeStyleMap","delete","getHead","querySelector","findHigherSheet","insertionPoint","findHighestSheet","findCommentNode","head","childNodes","nodeValue","trim","findPrevNode","element","parentNode","nextSibling","comment","insertStyle","nextNode","insertBefore","insertionPointElement","appendChild","getNonce","getAttribute","_insertRule","container","maxIndex","cssRules","c","_c","appendRule","createStyle","el","textContent","DomRenderer","hasInsertedRules","media","meta","setAttribute","nonce","Boolean","removeChild","insertRules","nativeParent","latestNativeParent","parentStyleSheet","ruleStr","nativeRule","getRules","instanceCounter","Jss","version","setup","createStyleSheet","removeStyleSheet","createRule$$1","getDynamicStyles","to","extracted","hasCSSTOMSupport","now","Date","fnValuesNs","fnRuleNs","functionPlugin","fnValues","fnRule","atPrefix","GlobalContainerRule","GlobalPrefixedRule","separatorRegExp","addScope","scope","parts","handleNestedGlobalContainerRule","handlePrefixedGlobalRule","jssGlobal","separatorRegExp$1","parentRegExp","refRegExp$1","jssNested","getReplaceRef","replaceParentRefs","nestedProp","parentProp","parentSelectors","nestedSelectors","j","getOptions","prevOptions","nestingLevel","isNested","isNestedConditional","uppercasePattern","msPattern","toHyphenLower","toLowerCase","hyphenateStyleName","hName","convertCase","converted","camelCase","hyphenatedProp","px","ms","percent","defaultUnits","border","margin","padding","bottom","left","top","right","motion","outline","perspective","grid","addCamelCasedVersion","regExp","toUpperCase","newObj","units","iterate","innerProp","_innerProp","defaultUnit","camelCasedOptions","js","vendor","browser","isTouch","documentElement","jsCssMap","Moz","O","Webkit","_document$createEleme","testProp","supportedKeyframes","appearence","noPrefill","supportedProperty","colorAdjust","toUpper","camelize","pascalize","mask","longhand","textOrientation","transition","writingMode","userSelect","breakPropsOld","jsProp","_jsProp","inlineLogicalOld","newProp","unprefixed","prefixed","pascalized","scrollSnap","overscrollBehavior","propMap","order","flex2012","propMap$1","flex","propKeys","prefixCss","flex2009","multiple","plugins$1","propertyDetectors","cache$1","computed","getComputedStyle","key$1","cache$1$1","transitionProperties","transPropsRegExp","el$1","prefixTransitionCallback","p1","p2","prefixedValue","supportedValue","cacheKey","jssVendorPrefixer","atRule","prefixStyle","changeProp","supportedProp","changeValue","supportedValue$$1","jssPropsSort","sort","prop0","prop1","jssPreset","mergeClasses","baseClasses","newClasses","nextClasses","multiKeyStore","key1","key2","subCache","Map","_delete","ThemeContext","createContext","useTheme","useContext","useDebugValue","generateClassName","sheetsManager","defaultOptions","disableGeneration","sheetsCache","sheetsRegistry","StylesContext","injectFirstNode","StylesProvider","_props$injectFirst","injectFirst","_props$disableGenerat","localOptions","outerOptions","context","createComment","firstChild","Provider","isRequired","bool","func","serverGenerateClassName","indexCounter","increment","noopTheme","getStylesCreator","stylesOrCreator","themingEnabled","stylesWithOverrides","getClasses","state","stylesOptions","cacheClasses","lastProp","lastJSS","generate","_ref2","stylesCreator","sheetManager","refs","staticSheet","dynamicStyles","flip","dynamicSheet","_ref3","_ref4","useSynchronousEffect","useRef","currentKey","useMemo","current","useEffect","makeStyles","classNamePrefixOption","_options$defaultTheme","defaultTheme","stylesOptions2","useStyles","instance","shouldUpdate","makeStyles$1","Rain","rain","Birds","bird","backgroundImage","backgroundSize","Fragment","_classCallCheck","_defineProperties$1","_createClass$1","_defineProperty$1","_inherits","_setPrototypeOf","_getPrototypeOf","setPrototypeOf","getPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","e","_assertThisInitialized$1","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","_slicedToArray$1","_arrayWithHoles$1","_iterableToArrayLimit$1","_unsupportedIterableToArray$1","_nonIterableRest$1","_toConsumableArray$1","_arrayWithoutHoles$1","_iterableToArray$1","_nonIterableSpread$1","_arrayLikeToArray$1","unwrapExports","__esModule","createCommonjsModule","module","exports","soundmanager2","SM2","_undefined","soundManager","SoundManager","smURL","smID","setupOptions","url","flashVersion","debugMode","debugFlash","useConsole","consoleOnly","waitForWindowLoad","bgColor","useHighPerformance","flashPollingInterval","html5PollingInterval","flashLoadTimeout","wmode","allowScriptAccess","useFlashBlock","useHTML5Audio","forceUseGlobalHTML5Audio","ignoreMobileRestrictions","html5Test","preferFlash","noSWFCache","idPrefix","autoLoad","autoPlay","loops","onid3","onerror","onload","whileloading","onplay","onpause","onresume","whileplaying","onposition","onstop","onfinish","multiShot","multiShotEvents","position","pan","playbackRate","stream","usePolicyFile","volume","flash9Options","onfailure","isMovieStar","usePeakData","useWaveformData","useEQData","onbufferchange","ondataerror","movieStarOptions","bufferTime","serverURL","onconnect","audioFormats","mp3","required","mp4","related","ogg","opus","wav","flac","movieID","debugID","debugURLParam","versionNumber","movieURL","altURL","swfLoaded","enabled","oMC","sounds","soundIDs","muted","didFlashBlock","filePattern","filePatterns","flash8","flash9","features","buffering","peakData","waveformData","eqData","movieStar","sandbox","remote","localWithFile","localWithNetwork","localTrusted","description","noRemote","noLocal","html5","usingFlash","flash","html5Only","ignoreFlash","SMSound","sm2","globalHTML5Audio","smc","ua","navigator","userAgent","wl","location","href","doc","doNothing","setProperties","init","fV","on_queue","debugOpen","debugTS","didAppend","appendSuccess","didInit","windowLoaded","_wDS","wdCount","initComplete","mixin","extraOptions","addOnEvent","processOnEvents","initUserOnload","delayWaitForEI","waitForEI","rebootIntoHTML5","setVersionInfo","handleFocus","strings","initMovie","domContentLoaded","winOnLoad","didDCLoaded","getDocument","createMovie","catchError","setPolling","initDebug","debugLevels","defaultFlashVersion","disableObject","failSafely","normalizeMovieURL","oRemoved","oRemovedHTML","flashBlockHandler","getSWFCSS","swfCSS","toggleDebug","loopFix","policyFix","complain","idCheck","waitingForEI","initPending","startTimer","stopTimer","timerExecute","h5TimerCount","h5IntervalTimer","parseURL","messages","canIgnoreFlash","needsFlash","featureCheck","html5OK","html5CanPlay","html5ErrorCodes","html5Ext","html5Unload","domContentLoadedIE","testHTML5","event","useGlobalHTML5Audio","lastGlobalHTML5URL","hasFlash","detectFlash","badSafariFix","html5_events","showSupport","flushMessages","wrapCallback","idCounter","didSetup","msecScale","is_iDevice","isAndroid","isIE","isWebkit","isSafari","isOpera","mobileHTML5","isBadSafari","hasConsole","log","isFocused","hasFocus","tryInitOnFocus","okToDisable","flashMIME","emptyURL","emptyWAV","overHTTP","protocol","http","netStreamMimeTypes","netStreamTypes","netStreamPattern","mimePattern","useAltURL","swfBox","swfDefault","swfError","swfTimedout","swfUnblocked","sm2Debug","highPerf","flashDebug","hasHTML5","Audio","opera","canPlayType","noURL","ok","globalHTML5","ignoreMobile","_wD","mobileUA","beginDelayedInit","readyState","setTimeout","supported","getMovie","movie_id","createSound","oOptions","_url","cs","cs_string","oSound","make","_setup_html5","_createSound","connected","load","play","destroySound","sID","_bFromSound","oS","stop","_iO","unload","destruct","onPosition","nPosition","oMethod","oScope","clearOnPosition","overloaded","setPlaybackRate","rate","allowOverride","setPosition","nMsecOffset","stopAll","pause","pauseAll","resume","resumeAll","togglePause","setPan","nPan","setVolume","nVol","mute","muteAll","unmute","unmuteAll","toggleMute","getMemoryUse","ram","_getMemoryUse","disable","bNoDisable","canPlayMIME","sMIME","canPlayURL","sURL","canPlayLink","oLink","getSoundById","_suppressDebug","onready","sType","ontimeout","_writeDebug","sText","sTypeOrObject","sDID","oItem","createTextNode","alert","_debug","reboot","resetEvents","excludeInit","innerHTML","fired","getMoviePercent","PercentLoaded","resetProperties","add_html5_events","remove_html5_events","stop_html5_timer","start_html5_timer","attachOnPosition","onplay_called","onPositionItems","onPositionFired","detachOnPosition","applyFromTo","lastURL","lastHTML5State","urlOmitted","time","instanceOptions","isHTML5","_a","id3","loaded","playState","_called_load","_html5_canplay","src","autobuffer","preload","_load","fatal","_unload","_bFromSM","_destroySound","_updatePlayState","fN","allowMulti","audioClone","onended","oncanplay","startOK","getAutoPlay","setAutoPlay","paused","lastIndexOf","instanceCount","_oncanplay","_start","onplayerror","_onfinish","currentTime","bAll","originalPosition","_onbufferchange","_resetOnPosition","_stop","_onTimer","_setAutoPlay","normalizedRate","position1K","offset","_setPosition","_bCallFlash","_pause","bInstanceOnly","_setPan","_bInstanceOnly","_setVolume","hasIO","method","_processOnPosition","op","retainPosition","_hasTimer","bytesLoaded","bytesTotal","durationEstimate","buffered","failures","isBuffering","metadata","bForce","isNew","_get_html5_duration","_whileplaying","d","Infinity","_apply_loop","nLoops","loop","dURL","decodeURI","sameURL","_added_events","oEvt","oFn","bCapture","addEventListener","removeEventListener","_onload","nSuccess","loadOK","_onerror","errorCode","nIsBuffering","_onsuspend","onsuspend","_onfailure","msg","level","code","_onwarning","onwarning","io_onfinish","_whileloading","nBytesLoaded","nBytesTotal","nDuration","nBufferLength","floor","bufferLength","oPeakData","oWaveformDataLeft","oWaveformDataRight","oEQData","eqLeft","leftPeak","rightPeak","leftEQ","rightEQ","_oncaptiondata","oData","captiondata","oncaptiondata","_onmetadata","oMDProps","oMDData","onmetadata","_onid3","oID3Props","oID3Data","_onconnect","bSuccess","_ondataerror","sError","body","getElementsByTagName","getElementById","oMain","oAdd","o1","o2","callback","oParent","hasParent","bonusOptions","preferFlashCheck","kind","old","attachEvent","evt","getArgs","oArgs","pop","shift","html5_event","abort","canplay","ee","canplaythrough","durationchange","ended","loadeddata","_loaded","loadedmetadata","loadstart","playing","fromCharCode","progress","progStr","isProgress","ranges","total","ratechange","suspend","stalled","timeupdate","waiting","iO","oAudio","_called_unload","mime","aF","fileExt","lookup","support","cp","canPlay","isOK","notReady","notOK","domError","spcWmode","swf404","tryDebug","checkSWF","localFail","waitFocus","waitForever","waitSWF","needFunction","badID","currentObj","waitOnload","docLoaded","onloadOK","secNote","badRemove","shutdown","smError","fbTimeout","fbLoaded","fbHandler","manURL","onURL","badFV","as2loop","noNSLoop","needfl9","mfTimeout","needFlash","gotFocus","policy","setupError","setupUndef","setupLate","sm2Loaded","sstr","sOpt","sPre","sMsg","oProp","urlParams","getTime","isDebug","bPolling","bHighPerformance","_setPolling","oD","oDebug","oTarget","oToggle","tmp","textAlign","cursor","onclick","display","e2","errorLevel","oT","sEventType","sMessage","sm2Debugger","handleEvent","ignoreInit","status","srcQueue","canRetry","hasPlugin","AX","ActiveXObject","nP","mimeTypes","enabledPlugin","flashNeeded","formats","isSpecial","urlResult","setInterval","clearInterval","_setSandboxType","sandboxType","sb","_externalInterfaceOK","swfVersion","initMsg","delimiter","remoteURL","localURL","swfTitle","extraClass","isRTL","html","oEmbed","oMovie","movieHTML","oEl","sClass","param","platform","quality","bgcolor","pluginspage","hasPriority","FlashVars","overflow","oninitmovie","loadIncomplete","cleanup","tests","wasTimeout","_externalInterfaceTest","_disableDebug","detachEvent","SM2_DEFER","soundmanager2_1","soundmanager2_2","soundmanager2Nodebug","soundmanager2Nodebug_1","soundmanager2Nodebug_2","lib","defineProperties","_react2","_interopRequireDefault","_propTypes2","pendingCalls","initialized","_require","cb","noop","playStatuses","PLAYING","STOPPED","PAUSED","Sound","_React$Component","componentDidMount","_this2","sound","updateSound","componentWillUnmount","removeSound","componentDidUpdate","prevProps","_this3","playStatus","playFromPosition","_this4","stopCreatingSound","onLoading","onPlaying","onError","onLoad","onPause","onResume","onStop","onFinishedPlaying","onBufferChange","oneOf","defaultProps","AppContext","Image","_useContext","_useContext2","character","setCharacter","chooseCharacter","option","onClick","srcSet","draggable","alt","items","Memory","_useState","useState","_useState2","list","setList","_useState3","_useState4","visibleItems","setVisibleItems","_useState5","_useState6","finishedItems","setFinishedItems","_useState7","_useState8","winner","setWinner","_useState9","_useState10","winningSound","setWinningSound","checkItems","firstIndex","secondIndex","random","Grid","Redirect","exact","card","Card","includes","dailyItems","schedule","Daily","setResult","handleClick","getItems","DragDropContainer","targetKey","dragData","label","showStatus","Box","box","boxItems","setBoxItems","handleDrop","uid","shortid","containerElem","visibility","swap","fromIndex","toIndex","kill","findIndex","DropTarget","onHit","dropData","BoxItem","stopPropagation","deleteMe","onDrop","disappearDraggedElement","dragHandleClassName","Square","role","tabIndex","lines","userSymbol","computerSymbol","TicTacToe","fill","squares","setSquares","setPlayStatus","calculateWinner","getStatus","scrollIntoView","behavior","isBoardFull","renderSquare","nextSquares","generatedSquares","generatedSquare","setGeneratedSquare","_lines$i","globals","cascade","exp","animation","effectMap","hideAll","globalHide","namespace","config","ssrFadeout","fadeOutEnabled","defaults","count","ssr","observerMode","raf","disableSsr","ie10","collapseend","IntersectionObserverEntry","IntersectionObserver","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","querySelectorAll","appVersion","performance","timing","domLoading","createEvent","initEvent","globals_1","globals_2","globals_3","globals_4","globals_5","globals_6","globals_7","globals_8","globals_9","globals_10","globals_11","globals_12","globals_13","globals_14","globals_15","RevealBase_1","return","inOut","forever","reverse","collapse","collapseEl","wait","appear","enter","exit","fraction","refProp","innerRef","onReveal","unmountOnExit","mountOnEnter","inEffect","outEffect","ssrReveal","collapseOnly","contextTypes","transitionGroup","RevealBase","isOn","when","getInitialCollapseStyle","opacity","savedChild","isShown","handleObserve","bind","revealHandler","makeHandler","reveal","resizeHandler","resize","saveRef","childRef","observe","setState","hasExited","dispatchEvent","animationEndTimeout","offsetHeight","getDimensionValue","animationDuration","animationDelay","unlisten","animationName","hasAppeared","animationIterationCount","cloneElement","getChild","animationEnd","invisible","onRevealTimeout","clearTimeout","intersectionRatio","disconnect","observer","threshold","spy","inViewport","animate","listen","isMounting","getTop","pageYOffset","innerHeight","whiteSpace","Children","toArray","onExited","ref","ticking","hidden","isListener","passive","offsetTop","offsetParent","wrap_1","wrap","in","_RevealBase2","Shake_1","Shake","out","timeout","u","animationFillMode","_wrap2","Jump_1","Jump","Suitcase","drag","setDrag","bagCounter","setBagCounter","showResult","setShowResult","lostSound","setLostSound","_useState11","_useState12","_useState13","_useState14","falseCounter","setFalseCounter","dropped","droppedFalseItem","Items","image","Title","Scrollicon","Header","chapter","boxShadow","flexDirection","Video","isPlaying","setPlaying","playVideo","controls","Fade_1","distance","big","mirror","opposite","_","v","Fade","Reveal_1","Reveal","durationOut","delayOut","countOut","foreverOut","effect","effectOut","_Fade2","Text","isRevealing","_char","dangerouslySetInnerHTML","__html","Decission","Smokingpit","Puzzle","_Component","_super","pieces","shuffled","solved","chance","img","board","shufflePieces","targetName","_this$setState","preventDefault","pieceOrder","dataTransfer","getData","pieceData","find","origin","checkWinner","handleDragStart","dt","setData","effectAllowed","finished","piece","renderPieceContainer","boardName","onDragOver","onDragStart","RedirectComponent","redirect","setRedirect","handleRedirect","avatar","Info","video","smokingpit","puzzle","memory","suitcase","summary","tictactoe","daily","decission","Group","grouped","row","contentList","content","renderBackground","renderGroupContent","chapterGroupedContent","renderContent","chapterContent","layer","Footer","Nav","renderChapterNav","chapters","NavLink","isProduction$1","prefix$1","invariant","_defineProperty$2","_extends$1","_inheritsLoose$1","_objectWithoutPropertiesLoose$1","_assertThisInitialized$2","INSTANCE_MAP","OBSERVER_MAP","ROOT_IDS","consecutiveRootId","getRootId","has","rootMargin","observerId","observerInstance","onChange","inView","thresholds","unobserve","itemsLeft","rootObserved","changes","intersection","isIntersecting","some","isPlainChildren","InView","entry","triggerOnce","observeNode","prevState","_this$props","handleChange","_this$state","handleNode","_this$props2","as","tag","renderChapterGroups","group","Ui","App","usePersistedState","renderChapter","routerProps","chapterLink","params","app","chapterObj","ScrollIntoView","prevLocation","pathname","PropTypes","withRouter","defaultValue","persistedState","localStorage","getItem","parse","setItem","ReactDOM"],"mappings":"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","file":"main.js","sourcesContent":["var API_URL = 'http://localhost:3000';\nvar IMAGE_SUFFIX = '.webp';\nvar IMAGE_SUFFIX_ALTERNATE = '.png';\nvar VIDEO_SUFFIX = '.mp4';\nvar Layer;\n\n(function (Layer) {\n  Layer[\"Fore\"] = \"fore\";\n  Layer[\"Base\"] = \"base\";\n  Layer[\"Back\"] = \"back\";\n})(Layer || (Layer = {}));\n\nvar ContentType;\n\n(function (ContentType) {\n  ContentType[\"Text\"] = \"text\";\n  ContentType[\"Redirect\"] = \"redirect\";\n  ContentType[\"Video\"] = \"video\";\n  ContentType[\"Image\"] = \"image\";\n  ContentType[\"Game\"] = \"game\";\n  ContentType[\"SmokingPit\"] = \"smokingpit\";\n  ContentType[\"Puzzle\"] = \"puzzle\";\n  ContentType[\"Suitcase\"] = \"suitcase\";\n  ContentType[\"TicTacToe\"] = \"tictactoe\";\n  ContentType[\"Daily\"] = \"daily\";\n  ContentType[\"Decission\"] = \"decission\";\n})(ContentType || (ContentType = {}));\n\nexport { API_URL, ContentType, IMAGE_SUFFIX, IMAGE_SUFFIX_ALTERNATE, Layer, VIDEO_SUFFIX };\n","import React from 'react';\nimport { Chapter } from '@gerdesque/ui';\n\nvar home = {\n  link: \"home\",\n  name: \"Demokratie erLeben\",\n  groups: [{\n    \"grouped\": false,\n    \"row\": false,\n    \"background\": \"2_31_b\",\n    \"content\": [{\n      \"type\": \"text\",\n      \"value\": \"Diese Website erzählt die Geschichte von Anna, Karl und Gerda. Alle drei entstammen der Arbeiterklasse und träumen Ende der 1920er Jahre von einer besseren Zukunft. Begleitet sie auf ihrem Weg in ein Zeltlager der sozialdemokratischen Organisation der 'Reichsarbeitsgemeinschaft der Kinderfreunde'. In dieser so genannten 'Kinderrepublik' erleben sie viele spannende Dinge, und lernen Demokratie durch eigenes Handeln kennen.\",\n      \"option\": \"reveal\"\n    }]\n  }, {\n    \"grouped\": true,\n    \"row\": false,\n    \"content\": [{\n      \"type\": \"redirect\",\n      \"value\": \"chapter/daheim\",\n      \"option\": \"big\",\n      \"title\": \"Beginne hier das Abenteuer!\"\n    }, {\n      \"type\": \"image\",\n      \"value\": \"02_1455_(114)\",\n      \"option\": \"third\"\n    }]\n  }, {\n    \"grouped\": true,\n    \"row\": false,\n    \"content\": [{\n      \"type\": \"text\",\n      \"value\": \"Die Reise zur Kinderrepublik wäre für Anna, Karl und Gerda ohne Anne Mühlich und Gerd Müller nicht möglich gewesen. Im Rahmen des Kulturhackathons 'Coding da Vinci Westfalen-Ruhrgebiet' 2019 entwickelten die beiden diese Scrollytelling-Website, die auf Fotos und Material des Archivs der Arbeiterjugendbewegung basiert. 2020 haben sie im Rahmen eines Stipendiums des Coding da Vinci die Website für die Zwecke des Archivs ergänzt und ausgebaut.\"\n    }]\n  }, {\n    \"grouped\": true,\n    \"row\": true,\n    \"content\": [{\n      \"type\": \"text\",\n      \"value\": \"Die beiden wurden unterstützt durch das wunderbare Team des Coding da Vinci, die Kolleg*innen des Archivs der Arbeiterjugendbewegung und besonders durch die tatkräftige Mitarbeit der folgenden Personen:\"\n    }, {\n      \"type\": \"image\",\n      \"value\": \"B41ABEA7-64DA-4D8E-8E1B-F55A38DD6E37\",\n      \"option\": \"second\"\n    }, {\n      \"type\": \"text\",\n      \"value\": \"Julia Kothe, Lars Tunçay, Nina Heinke, Felix Werthschulte, Luise & John\",\n      \"option\": \"third\"\n    }]\n  }, {\n    \"grouped\": true,\n    \"row\": true,\n    \"content\": [{\n      \"type\": \"text\",\n      \"value\": \"Die Website richtet sich an all jene, die sich spielerisch mit dem Thema „Kinderrepublik“ und partizipativer Jugendarbeit in der ersten Hälfte des 20. Jahrhunderts beschäftigen wollen und erfahren möchten, wie solche Zeltlager als Form früher und praktischer Demokratiebildung funktioniert haben. In Zeiten wie jetzt, wo mehr und mehr Menschen sich von den demokratischen Institutionen abwenden, lohnt es sich, einen Blick zurückzuwerfen und zu schauen, wie Demokratiebildung insbesondere für bildungsfernere Schichten in der Vergangenheit funktioniert hat und inwiefern wir dafür etwas für unsere heutige Zeit lernen können.\"\n    }]\n  }, {\n    \"grouped\": true,\n    \"row\": true,\n    \"content\": [{\n      \"type\": \"text\",\n      \"option\": \"link\",\n      \"value\": \"Diese Website entstand im Rahmen des <a href='https://codingdavinci.de/' target='_blank' rel='noopener noreferrer'>Coding da Vinci Stipendiums</a> zwischen April und Juni 2020. Die Fotografien und Bildkärtchen wurden vom <a href='https://arbeiterjugend.de/' target='_blank' rel='noopener noreferrer'>Archiv der Arbeiterjugendbewegung</a> unter einer CC BY-SA 3.0 DE Lizenz zur Verfügung gestellt. Genutzt wurden zudem Sounds aus der Sammlung des <a href='http://www.soundsofchanges.eu/' target='_blank' rel='noopener noreferrer'>Sounds of Changes</a> Projektes (CC BY 4.0 Lizenz), der <a href='https://www.hoerspielbox.de/' target='_blank' rel='noopener noreferrer'>Hörspielbox</a> sowie  dem <a href='http://bbcsfx.acropolis.org.uk/' target='_blank' rel='noopener noreferrer'>BBC Sound Effects</a> Archiv. Genutzt ildmaterial von <a href='https://commons.wikimedia.org' target='_blank' rel='noopener noreferrer'>Wikimedia Commons</a>.\"\n    }, {\n      \"type\": \"text\",\n      \"value\": \"Der Quellcode läuft unter einer MIT license. Die eigens für das Projekt erstellten Mediendateien sind unter einer CC BY-SA 3.0 Lizenz veröffentlicht.\"\n    }]\n  }]\n};\nvar Home = function Home() {\n  return React.createElement(Chapter, Object.assign({}, home));\n};\n\nexport { Home };\n","import React__default, { createContext, useContext, useState, useEffect, Component, Fragment, createElement } from 'react';\nimport PropTypes__default from 'prop-types';\nimport { Memo, ForwardRef } from 'react-is';\nimport 'react-dom';\nimport { IMAGE_SUFFIX, IMAGE_SUFFIX_ALTERNATE, VIDEO_SUFFIX } from '@gerdesque/data';\nimport { Redirect, NavLink } from 'react-router-dom';\nimport { DragDropContainer, DropTarget } from 'react-drag-drop-container';\nimport shortid from 'shortid';\n\nvar Summary = function Summary(props) {\n  return React__default.createElement(\"details\", {\n    className: \"summary\"\n  }, React__default.createElement(\"summary\", null, props.value), props.title.split(/\\n/g).map(function (text, index) {\n    return React__default.createElement(\"p\", {\n      key: index\n    }, text);\n  }));\n};\n\n/* eslint-disable no-use-before-define */\n\n/**\n * Returns a number whose value is limited to the given range.\n *\n * @param {number} value The value to be clamped\n * @param {number} min The lower boundary of the output range\n * @param {number} max The upper boundary of the output range\n * @returns {number} A number in the range [min, max]\n */\nfunction clamp(value) {\n  var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (value < min || value > max) {\n      console.error(\"Material-UI: the value provided \".concat(value, \" is out of range [\").concat(min, \", \").concat(max, \"].\"));\n    }\n  }\n\n  return Math.min(Math.max(min, value), max);\n}\n/**\n * Converts a color from CSS hex format to CSS rgb format.\n *\n * @param {string} color - Hex color, i.e. #nnn or #nnnnnn\n * @returns {string} A CSS rgb color string\n */\n\n\nfunction hexToRgb(color) {\n  color = color.substr(1);\n  var re = new RegExp(\".{1,\".concat(color.length / 3, \"}\"), 'g');\n  var colors = color.match(re);\n\n  if (colors && colors[0].length === 1) {\n    colors = colors.map(function (n) {\n      return n + n;\n    });\n  }\n\n  return colors ? \"rgb(\".concat(colors.map(function (n) {\n    return parseInt(n, 16);\n  }).join(', '), \")\") : '';\n}\n/**\n * Converts a color from hsl format to rgb format.\n *\n * @param {string} color - HSL color values\n * @returns {string} rgb color values\n */\n\nfunction hslToRgb(color) {\n  color = decomposeColor(color);\n  var _color = color,\n      values = _color.values;\n  var h = values[0];\n  var s = values[1] / 100;\n  var l = values[2] / 100;\n  var a = s * Math.min(l, 1 - l);\n\n  var f = function f(n) {\n    var k = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (n + h / 30) % 12;\n    return l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  };\n\n  var type = 'rgb';\n  var rgb = [Math.round(f(0) * 255), Math.round(f(8) * 255), Math.round(f(4) * 255)];\n\n  if (color.type === 'hsla') {\n    type += 'a';\n    rgb.push(values[3]);\n  }\n\n  return recomposeColor({\n    type: type,\n    values: rgb\n  });\n}\n/**\n * Returns an object with the type and values of a color.\n *\n * Note: Does not support rgb % values.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @returns {object} - A MUI color object: {type: string, values: number[]}\n */\n\nfunction decomposeColor(color) {\n  // Idempotent\n  if (color.type) {\n    return color;\n  }\n\n  if (color.charAt(0) === '#') {\n    return decomposeColor(hexToRgb(color));\n  }\n\n  var marker = color.indexOf('(');\n  var type = color.substring(0, marker);\n\n  if (['rgb', 'rgba', 'hsl', 'hsla'].indexOf(type) === -1) {\n    throw new Error([\"Material-UI: unsupported `\".concat(color, \"` color.\"), 'We support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla().'].join('\\n'));\n  }\n\n  var values = color.substring(marker + 1, color.length - 1).split(',');\n  values = values.map(function (value) {\n    return parseFloat(value);\n  });\n  return {\n    type: type,\n    values: values\n  };\n}\n/**\n * Converts a color object with type and values to a string.\n *\n * @param {object} color - Decomposed color\n * @param {string} color.type - One of: 'rgb', 'rgba', 'hsl', 'hsla'\n * @param {array} color.values - [n,n,n] or [n,n,n,n]\n * @returns {string} A CSS color string\n */\n\nfunction recomposeColor(color) {\n  var type = color.type;\n  var values = color.values;\n\n  if (type.indexOf('rgb') !== -1) {\n    // Only convert the first 3 values to int (i.e. not alpha)\n    values = values.map(function (n, i) {\n      return i < 3 ? parseInt(n, 10) : n;\n    });\n  } else if (type.indexOf('hsl') !== -1) {\n    values[1] = \"\".concat(values[1], \"%\");\n    values[2] = \"\".concat(values[2], \"%\");\n  }\n\n  return \"\".concat(type, \"(\").concat(values.join(', '), \")\");\n}\n/**\n * Calculates the contrast ratio between two colors.\n *\n * Formula: https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-tests\n *\n * @param {string} foreground - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {string} background - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @returns {number} A contrast ratio value in the range 0 - 21.\n */\n\nfunction getContrastRatio(foreground, background) {\n  var lumA = getLuminance(foreground);\n  var lumB = getLuminance(background);\n  return (Math.max(lumA, lumB) + 0.05) / (Math.min(lumA, lumB) + 0.05);\n}\n/**\n * The relative brightness of any point in a color space,\n * normalized to 0 for darkest black and 1 for lightest white.\n *\n * Formula: https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-tests\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @returns {number} The relative brightness of the color in the range 0 - 1\n */\n\nfunction getLuminance(color) {\n  color = decomposeColor(color);\n  var rgb = color.type === 'hsl' ? decomposeColor(hslToRgb(color)).values : color.values;\n  rgb = rgb.map(function (val) {\n    val /= 255; // normalized\n\n    return val <= 0.03928 ? val / 12.92 : Math.pow((val + 0.055) / 1.055, 2.4);\n  }); // Truncate at 3 digits\n\n  return Number((0.2126 * rgb[0] + 0.7152 * rgb[1] + 0.0722 * rgb[2]).toFixed(3));\n}\n/**\n * Darkens a color.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} coefficient - multiplier in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\nfunction darken(color, coefficient) {\n  color = decomposeColor(color);\n  coefficient = clamp(coefficient);\n\n  if (color.type.indexOf('hsl') !== -1) {\n    color.values[2] *= 1 - coefficient;\n  } else if (color.type.indexOf('rgb') !== -1) {\n    for (var i = 0; i < 3; i += 1) {\n      color.values[i] *= 1 - coefficient;\n    }\n  }\n\n  return recomposeColor(color);\n}\n/**\n * Lightens a color.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} coefficient - multiplier in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\nfunction lighten(color, coefficient) {\n  color = decomposeColor(color);\n  coefficient = clamp(coefficient);\n\n  if (color.type.indexOf('hsl') !== -1) {\n    color.values[2] += (100 - color.values[2]) * coefficient;\n  } else if (color.type.indexOf('rgb') !== -1) {\n    for (var i = 0; i < 3; i += 1) {\n      color.values[i] += (255 - color.values[i]) * coefficient;\n    }\n  }\n\n  return recomposeColor(color);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction isPlainObject(item) {\n  return item && _typeof(item) === 'object' && item.constructor === Object;\n}\nfunction deepmerge(target, source) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    clone: true\n  };\n  var output = options.clone ? _extends({}, target) : target;\n\n  if (isPlainObject(target) && isPlainObject(source)) {\n    Object.keys(source).forEach(function (key) {\n      // Avoid prototype pollution\n      if (key === '__proto__') {\n        return;\n      }\n\n      if (isPlainObject(source[key]) && key in target) {\n        output[key] = deepmerge(target[key], source[key], options);\n      } else {\n        output[key] = source[key];\n      }\n    });\n  }\n\n  return output;\n}\n\n// This module is based on https://github.com/airbnb/prop-types-exact repository.\n// However, in order to reduce the number of dependencies and to remove some extra safe checks\n// the module was forked.\n// Only exported for test purposes.\nvar specialProperty = \"exact-prop: \\u200B\";\nfunction exactProp(propTypes) {\n  if (process.env.NODE_ENV === 'production') {\n    return propTypes;\n  }\n\n  return _extends({}, propTypes, _defineProperty({}, specialProperty, function (props) {\n    var unsupportedProps = Object.keys(props).filter(function (prop) {\n      return !propTypes.hasOwnProperty(prop);\n    });\n\n    if (unsupportedProps.length > 0) {\n      return new Error(\"The following props are not supported: \".concat(unsupportedProps.map(function (prop) {\n        return \"`\".concat(prop, \"`\");\n      }).join(', '), \". Please remove them.\"));\n    }\n\n    return null;\n  }));\n}\n\n// https://github.com/JamesMGreene/Function.name/blob/58b314d4a983110c3682f1228f845d39ccca1817/Function.name.js#L3\n\nvar fnNameMatchRegex = /^\\s*function(?:\\s|\\s*\\/\\*.*\\*\\/\\s*)+([^(\\s/]*)\\s*/;\nfunction getFunctionName(fn) {\n  var match = \"\".concat(fn).match(fnNameMatchRegex);\n  var name = match && match[1];\n  return name || '';\n}\n/**\n * @param {function} Component\n * @param {string} fallback\n * @returns {string | undefined}\n */\n\nfunction getFunctionComponentName(Component) {\n  var fallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return Component.displayName || Component.name || getFunctionName(Component) || fallback;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var functionName = getFunctionComponentName(innerType);\n  return outerType.displayName || (functionName !== '' ? \"\".concat(wrapperName, \"(\").concat(functionName, \")\") : wrapperName);\n}\n/**\n * cherry-pick from\n * https://github.com/facebook/react/blob/769b1f270e1251d9dbdce0fcbd9e92e502d059b8/packages/shared/getComponentName.js\n * originally forked from recompose/getDisplayName with added IE 11 support\n *\n * @param {React.ReactType} Component\n * @returns {string | undefined}\n */\n\n\nfunction getDisplayName(Component) {\n  if (Component == null) {\n    return undefined;\n  }\n\n  if (typeof Component === 'string') {\n    return Component;\n  }\n\n  if (typeof Component === 'function') {\n    return getFunctionComponentName(Component, 'Component');\n  }\n\n  if (_typeof(Component) === 'object') {\n    switch (Component.$$typeof) {\n      case ForwardRef:\n        return getWrappedName(Component, Component.render, 'ForwardRef');\n\n      case Memo:\n        return getWrappedName(Component, Component.type, 'memo');\n\n      default:\n        return undefined;\n    }\n  }\n\n  return undefined;\n}\n\n// Sorted ASC by size. That's important.\n// It can't be configured as it's used statically for propTypes.\nvar keys = ['xs', 'sm', 'md', 'lg', 'xl']; // Keep in mind that @media is inclusive by the CSS specification.\n\nfunction createBreakpoints(breakpoints) {\n  var _breakpoints$values = breakpoints.values,\n      values = _breakpoints$values === void 0 ? {\n    xs: 0,\n    sm: 600,\n    md: 960,\n    lg: 1280,\n    xl: 1920\n  } : _breakpoints$values,\n      _breakpoints$unit = breakpoints.unit,\n      unit = _breakpoints$unit === void 0 ? 'px' : _breakpoints$unit,\n      _breakpoints$step = breakpoints.step,\n      step = _breakpoints$step === void 0 ? 5 : _breakpoints$step,\n      other = _objectWithoutProperties(breakpoints, [\"values\", \"unit\", \"step\"]);\n\n  function up(key) {\n    var value = typeof values[key] === 'number' ? values[key] : key;\n    return \"@media (min-width:\".concat(value).concat(unit, \")\");\n  }\n\n  function down(key) {\n    var endIndex = keys.indexOf(key) + 1;\n    var upperbound = values[keys[endIndex]];\n\n    if (endIndex === keys.length) {\n      // xl down applies to all sizes\n      return up('xs');\n    }\n\n    var value = typeof upperbound === 'number' && endIndex > 0 ? upperbound : key;\n    return \"@media (max-width:\".concat(value - step / 100).concat(unit, \")\");\n  }\n\n  function between(start, end) {\n    var endIndex = keys.indexOf(end);\n\n    if (endIndex === keys.length - 1) {\n      return up(start);\n    }\n\n    return \"@media (min-width:\".concat(typeof values[start] === 'number' ? values[start] : start).concat(unit, \") and \") + \"(max-width:\".concat((endIndex !== -1 && typeof values[keys[endIndex + 1]] === 'number' ? values[keys[endIndex + 1]] : end) - step / 100).concat(unit, \")\");\n  }\n\n  function only(key) {\n    return between(key, key);\n  }\n\n  function width(key) {\n    return values[key];\n  }\n\n  return _extends({\n    keys: keys,\n    values: values,\n    up: up,\n    down: down,\n    between: between,\n    only: only,\n    width: width\n  }, other);\n}\n\nfunction createMixins(breakpoints, spacing, mixins) {\n  var _toolbar;\n\n  return _extends({\n    gutters: function gutters() {\n      var styles = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      // To deprecate in v4.1\n      //       warning(\n      //         false,\n      //         [\n      //           'Material-UI: theme.mixins.gutters() is deprecated.',\n      //           'You can use the source of the mixin directly:',\n      //           `\n      // paddingLeft: theme.spacing(2),\n      // paddingRight: theme.spacing(2),\n      // [theme.breakpoints.up('sm')]: {\n      //   paddingLeft: theme.spacing(3),\n      //   paddingRight: theme.spacing(3),\n      // },\n      // `,\n      //         ].join('\\n'),\n      //       );\n      return _extends({\n        paddingLeft: spacing(2),\n        paddingRight: spacing(2)\n      }, styles, _defineProperty({}, breakpoints.up('sm'), _extends({\n        paddingLeft: spacing(3),\n        paddingRight: spacing(3)\n      }, styles[breakpoints.up('sm')])));\n    },\n    toolbar: (_toolbar = {\n      minHeight: 56\n    }, _defineProperty(_toolbar, \"\".concat(breakpoints.up('xs'), \" and (orientation: landscape)\"), {\n      minHeight: 48\n    }), _defineProperty(_toolbar, breakpoints.up('sm'), {\n      minHeight: 64\n    }), _toolbar)\n  }, mixins);\n}\n\nvar common = {\n  black: '#000',\n  white: '#fff'\n};\n\nvar grey = {\n  50: '#fafafa',\n  100: '#f5f5f5',\n  200: '#eeeeee',\n  300: '#e0e0e0',\n  400: '#bdbdbd',\n  500: '#9e9e9e',\n  600: '#757575',\n  700: '#616161',\n  800: '#424242',\n  900: '#212121',\n  A100: '#d5d5d5',\n  A200: '#aaaaaa',\n  A400: '#303030',\n  A700: '#616161'\n};\n\nvar indigo = {\n  50: '#e8eaf6',\n  100: '#c5cae9',\n  200: '#9fa8da',\n  300: '#7986cb',\n  400: '#5c6bc0',\n  500: '#3f51b5',\n  600: '#3949ab',\n  700: '#303f9f',\n  800: '#283593',\n  900: '#1a237e',\n  A100: '#8c9eff',\n  A200: '#536dfe',\n  A400: '#3d5afe',\n  A700: '#304ffe'\n};\n\nvar pink = {\n  50: '#fce4ec',\n  100: '#f8bbd0',\n  200: '#f48fb1',\n  300: '#f06292',\n  400: '#ec407a',\n  500: '#e91e63',\n  600: '#d81b60',\n  700: '#c2185b',\n  800: '#ad1457',\n  900: '#880e4f',\n  A100: '#ff80ab',\n  A200: '#ff4081',\n  A400: '#f50057',\n  A700: '#c51162'\n};\n\nvar red = {\n  50: '#ffebee',\n  100: '#ffcdd2',\n  200: '#ef9a9a',\n  300: '#e57373',\n  400: '#ef5350',\n  500: '#f44336',\n  600: '#e53935',\n  700: '#d32f2f',\n  800: '#c62828',\n  900: '#b71c1c',\n  A100: '#ff8a80',\n  A200: '#ff5252',\n  A400: '#ff1744',\n  A700: '#d50000'\n};\n\nvar orange = {\n  50: '#fff3e0',\n  100: '#ffe0b2',\n  200: '#ffcc80',\n  300: '#ffb74d',\n  400: '#ffa726',\n  500: '#ff9800',\n  600: '#fb8c00',\n  700: '#f57c00',\n  800: '#ef6c00',\n  900: '#e65100',\n  A100: '#ffd180',\n  A200: '#ffab40',\n  A400: '#ff9100',\n  A700: '#ff6d00'\n};\n\nvar blue = {\n  50: '#e3f2fd',\n  100: '#bbdefb',\n  200: '#90caf9',\n  300: '#64b5f6',\n  400: '#42a5f5',\n  500: '#2196f3',\n  600: '#1e88e5',\n  700: '#1976d2',\n  800: '#1565c0',\n  900: '#0d47a1',\n  A100: '#82b1ff',\n  A200: '#448aff',\n  A400: '#2979ff',\n  A700: '#2962ff'\n};\n\nvar green = {\n  50: '#e8f5e9',\n  100: '#c8e6c9',\n  200: '#a5d6a7',\n  300: '#81c784',\n  400: '#66bb6a',\n  500: '#4caf50',\n  600: '#43a047',\n  700: '#388e3c',\n  800: '#2e7d32',\n  900: '#1b5e20',\n  A100: '#b9f6ca',\n  A200: '#69f0ae',\n  A400: '#00e676',\n  A700: '#00c853'\n};\n\nvar light = {\n  // The colors used to style the text.\n  text: {\n    // The most important text.\n    primary: 'rgba(0, 0, 0, 0.87)',\n    // Secondary text.\n    secondary: 'rgba(0, 0, 0, 0.54)',\n    // Disabled text have even lower visual prominence.\n    disabled: 'rgba(0, 0, 0, 0.38)',\n    // Text hints.\n    hint: 'rgba(0, 0, 0, 0.38)'\n  },\n  // The color used to divide different elements.\n  divider: 'rgba(0, 0, 0, 0.12)',\n  // The background colors used to style the surfaces.\n  // Consistency between these values is important.\n  background: {\n    paper: common.white,\n    default: grey[50]\n  },\n  // The colors used to style the action elements.\n  action: {\n    // The color of an active action like an icon button.\n    active: 'rgba(0, 0, 0, 0.54)',\n    // The color of an hovered action.\n    hover: 'rgba(0, 0, 0, 0.04)',\n    hoverOpacity: 0.04,\n    // The color of a selected action.\n    selected: 'rgba(0, 0, 0, 0.08)',\n    selectedOpacity: 0.08,\n    // The color of a disabled action.\n    disabled: 'rgba(0, 0, 0, 0.26)',\n    // The background color of a disabled action.\n    disabledBackground: 'rgba(0, 0, 0, 0.12)',\n    disabledOpacity: 0.38,\n    focus: 'rgba(0, 0, 0, 0.12)',\n    focusOpacity: 0.12,\n    activatedOpacity: 0.12\n  }\n};\nvar dark = {\n  text: {\n    primary: common.white,\n    secondary: 'rgba(255, 255, 255, 0.7)',\n    disabled: 'rgba(255, 255, 255, 0.5)',\n    hint: 'rgba(255, 255, 255, 0.5)',\n    icon: 'rgba(255, 255, 255, 0.5)'\n  },\n  divider: 'rgba(255, 255, 255, 0.12)',\n  background: {\n    paper: grey[800],\n    default: '#303030'\n  },\n  action: {\n    active: common.white,\n    hover: 'rgba(255, 255, 255, 0.08)',\n    hoverOpacity: 0.08,\n    selected: 'rgba(255, 255, 255, 0.16)',\n    selectedOpacity: 0.16,\n    disabled: 'rgba(255, 255, 255, 0.3)',\n    disabledBackground: 'rgba(255, 255, 255, 0.12)',\n    disabledOpacity: 0.38,\n    focus: 'rgba(255, 255, 255, 0.12)',\n    focusOpacity: 0.12,\n    activatedOpacity: 0.24\n  }\n};\n\nfunction addLightOrDark(intent, direction, shade, tonalOffset) {\n  var tonalOffsetLight = tonalOffset.light || tonalOffset;\n  var tonalOffsetDark = tonalOffset.dark || tonalOffset * 1.5;\n\n  if (!intent[direction]) {\n    if (intent.hasOwnProperty(shade)) {\n      intent[direction] = intent[shade];\n    } else if (direction === 'light') {\n      intent.light = lighten(intent.main, tonalOffsetLight);\n    } else if (direction === 'dark') {\n      intent.dark = darken(intent.main, tonalOffsetDark);\n    }\n  }\n}\n\nfunction createPalette(palette) {\n  var _palette$primary = palette.primary,\n      primary = _palette$primary === void 0 ? {\n    light: indigo[300],\n    main: indigo[500],\n    dark: indigo[700]\n  } : _palette$primary,\n      _palette$secondary = palette.secondary,\n      secondary = _palette$secondary === void 0 ? {\n    light: pink.A200,\n    main: pink.A400,\n    dark: pink.A700\n  } : _palette$secondary,\n      _palette$error = palette.error,\n      error = _palette$error === void 0 ? {\n    light: red[300],\n    main: red[500],\n    dark: red[700]\n  } : _palette$error,\n      _palette$warning = palette.warning,\n      warning = _palette$warning === void 0 ? {\n    light: orange[300],\n    main: orange[500],\n    dark: orange[700]\n  } : _palette$warning,\n      _palette$info = palette.info,\n      info = _palette$info === void 0 ? {\n    light: blue[300],\n    main: blue[500],\n    dark: blue[700]\n  } : _palette$info,\n      _palette$success = palette.success,\n      success = _palette$success === void 0 ? {\n    light: green[300],\n    main: green[500],\n    dark: green[700]\n  } : _palette$success,\n      _palette$type = palette.type,\n      type = _palette$type === void 0 ? 'light' : _palette$type,\n      _palette$contrastThre = palette.contrastThreshold,\n      contrastThreshold = _palette$contrastThre === void 0 ? 3 : _palette$contrastThre,\n      _palette$tonalOffset = palette.tonalOffset,\n      tonalOffset = _palette$tonalOffset === void 0 ? 0.2 : _palette$tonalOffset,\n      other = _objectWithoutProperties(palette, [\"primary\", \"secondary\", \"error\", \"warning\", \"info\", \"success\", \"type\", \"contrastThreshold\", \"tonalOffset\"]); // Use the same logic as\n  // Bootstrap: https://github.com/twbs/bootstrap/blob/1d6e3710dd447de1a200f29e8fa521f8a0908f70/scss/_functions.scss#L59\n  // and material-components-web https://github.com/material-components/material-components-web/blob/ac46b8863c4dab9fc22c4c662dc6bd1b65dd652f/packages/mdc-theme/_functions.scss#L54\n\n\n  function getContrastText(background) {\n    var contrastText = getContrastRatio(background, dark.text.primary) >= contrastThreshold ? dark.text.primary : light.text.primary;\n\n    if (process.env.NODE_ENV !== 'production') {\n      var contrast = getContrastRatio(background, contrastText);\n\n      if (contrast < 3) {\n        console.error([\"Material-UI: the contrast ratio of \".concat(contrast, \":1 for \").concat(contrastText, \" on \").concat(background), 'falls below the WCAG recommended absolute minimum contrast ratio of 3:1.', 'https://www.w3.org/TR/2008/REC-WCAG20-20081211/#visual-audio-contrast-contrast'].join('\\n'));\n      }\n    }\n\n    return contrastText;\n  }\n\n  var augmentColor = function augmentColor(color) {\n    var mainShade = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n    var lightShade = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 300;\n    var darkShade = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 700;\n    color = _extends({}, color);\n\n    if (!color.main && color[mainShade]) {\n      color.main = color[mainShade];\n    }\n\n    if (!color.main) {\n      throw new Error(['Material-UI: the color provided to augmentColor(color) is invalid.', \"The color object needs to have a `main` property or a `\".concat(mainShade, \"` property.\")].join('\\n'));\n    }\n\n    if (typeof color.main !== 'string') {\n      throw new Error(['Material-UI: the color provided to augmentColor(color) is invalid.', \"`color.main` should be a string, but `\".concat(JSON.stringify(color.main), \"` was provided instead.\"), '', 'Did you intend to use one of the following approaches?', '', 'import { green } from \"@material-ui/core/colors\";', '', 'const theme1 = createMuiTheme({ palette: {', '  primary: green,', '} });', '', 'const theme2 = createMuiTheme({ palette: {', '  primary: { main: green[500] },', '} });'].join('\\n'));\n    }\n\n    addLightOrDark(color, 'light', lightShade, tonalOffset);\n    addLightOrDark(color, 'dark', darkShade, tonalOffset);\n\n    if (!color.contrastText) {\n      color.contrastText = getContrastText(color.main);\n    }\n\n    return color;\n  };\n\n  var types = {\n    dark: dark,\n    light: light\n  };\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (!types[type]) {\n      console.error(\"Material-UI: the palette type `\".concat(type, \"` is not supported.\"));\n    }\n  }\n\n  var paletteOutput = deepmerge(_extends({\n    // A collection of common colors.\n    common: common,\n    // The palette type, can be light or dark.\n    type: type,\n    // The colors used to represent primary interface elements for a user.\n    primary: augmentColor(primary),\n    // The colors used to represent secondary interface elements for a user.\n    secondary: augmentColor(secondary, 'A400', 'A200', 'A700'),\n    // The colors used to represent interface elements that the user should be made aware of.\n    error: augmentColor(error),\n    // The colors used to represent potentially dangerous actions or important messages.\n    warning: augmentColor(warning),\n    // The colors used to present information to the user that is neutral and not necessarily important.\n    info: augmentColor(info),\n    // The colors used to indicate the successful completion of an action that user triggered.\n    success: augmentColor(success),\n    // The grey colors.\n    grey: grey,\n    // Used by `getContrastText()` to maximize the contrast between\n    // the background and the text.\n    contrastThreshold: contrastThreshold,\n    // Takes a background color and returns the text color that maximizes the contrast.\n    getContrastText: getContrastText,\n    // Generate a rich color object.\n    augmentColor: augmentColor,\n    // Used by the functions below to shift a color's luminance by approximately\n    // two indexes within its tonal palette.\n    // E.g., shift from Red 500 to Red 300 or Red 700.\n    tonalOffset: tonalOffset\n  }, types[type]), other);\n  return paletteOutput;\n}\n\nfunction round(value) {\n  return Math.round(value * 1e5) / 1e5;\n}\n\nvar caseAllCaps = {\n  textTransform: 'uppercase'\n};\nvar defaultFontFamily = '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif';\n/**\n * @see @link{https://material.io/design/typography/the-type-system.html}\n * @see @link{https://material.io/design/typography/understanding-typography.html}\n */\n\nfunction createTypography(palette, typography) {\n  var _ref = typeof typography === 'function' ? typography(palette) : typography,\n      _ref$fontFamily = _ref.fontFamily,\n      fontFamily = _ref$fontFamily === void 0 ? defaultFontFamily : _ref$fontFamily,\n      _ref$fontSize = _ref.fontSize,\n      fontSize = _ref$fontSize === void 0 ? 14 : _ref$fontSize,\n      _ref$fontWeightLight = _ref.fontWeightLight,\n      fontWeightLight = _ref$fontWeightLight === void 0 ? 300 : _ref$fontWeightLight,\n      _ref$fontWeightRegula = _ref.fontWeightRegular,\n      fontWeightRegular = _ref$fontWeightRegula === void 0 ? 400 : _ref$fontWeightRegula,\n      _ref$fontWeightMedium = _ref.fontWeightMedium,\n      fontWeightMedium = _ref$fontWeightMedium === void 0 ? 500 : _ref$fontWeightMedium,\n      _ref$fontWeightBold = _ref.fontWeightBold,\n      fontWeightBold = _ref$fontWeightBold === void 0 ? 700 : _ref$fontWeightBold,\n      _ref$htmlFontSize = _ref.htmlFontSize,\n      htmlFontSize = _ref$htmlFontSize === void 0 ? 16 : _ref$htmlFontSize,\n      allVariants = _ref.allVariants,\n      pxToRem2 = _ref.pxToRem,\n      other = _objectWithoutProperties(_ref, [\"fontFamily\", \"fontSize\", \"fontWeightLight\", \"fontWeightRegular\", \"fontWeightMedium\", \"fontWeightBold\", \"htmlFontSize\", \"allVariants\", \"pxToRem\"]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof fontSize !== 'number') {\n      console.error('Material-UI: `fontSize` is required to be a number.');\n    }\n\n    if (typeof htmlFontSize !== 'number') {\n      console.error('Material-UI: `htmlFontSize` is required to be a number.');\n    }\n  }\n\n  var coef = fontSize / 14;\n\n  var pxToRem = pxToRem2 || function (size) {\n    return \"\".concat(size / htmlFontSize * coef, \"rem\");\n  };\n\n  var buildVariant = function buildVariant(fontWeight, size, lineHeight, letterSpacing, casing) {\n    return _extends({\n      fontFamily: fontFamily,\n      fontWeight: fontWeight,\n      fontSize: pxToRem(size),\n      // Unitless following https://meyerweb.com/eric/thoughts/2006/02/08/unitless-line-heights/\n      lineHeight: lineHeight\n    }, fontFamily === defaultFontFamily ? {\n      letterSpacing: \"\".concat(round(letterSpacing / size), \"em\")\n    } : {}, {}, casing, {}, allVariants);\n  };\n\n  var variants = {\n    h1: buildVariant(fontWeightLight, 96, 1.167, -1.5),\n    h2: buildVariant(fontWeightLight, 60, 1.2, -0.5),\n    h3: buildVariant(fontWeightRegular, 48, 1.167, 0),\n    h4: buildVariant(fontWeightRegular, 34, 1.235, 0.25),\n    h5: buildVariant(fontWeightRegular, 24, 1.334, 0),\n    h6: buildVariant(fontWeightMedium, 20, 1.6, 0.15),\n    subtitle1: buildVariant(fontWeightRegular, 16, 1.75, 0.15),\n    subtitle2: buildVariant(fontWeightMedium, 14, 1.57, 0.1),\n    body1: buildVariant(fontWeightRegular, 16, 1.5, 0.15),\n    body2: buildVariant(fontWeightRegular, 14, 1.43, 0.15),\n    button: buildVariant(fontWeightMedium, 14, 1.75, 0.4, caseAllCaps),\n    caption: buildVariant(fontWeightRegular, 12, 1.66, 0.4),\n    overline: buildVariant(fontWeightRegular, 12, 2.66, 1, caseAllCaps)\n  };\n  return deepmerge(_extends({\n    htmlFontSize: htmlFontSize,\n    pxToRem: pxToRem,\n    round: round,\n    // TODO v5: remove\n    fontFamily: fontFamily,\n    fontSize: fontSize,\n    fontWeightLight: fontWeightLight,\n    fontWeightRegular: fontWeightRegular,\n    fontWeightMedium: fontWeightMedium,\n    fontWeightBold: fontWeightBold\n  }, variants), other, {\n    clone: false // No need to clone deep\n\n  });\n}\n\nvar shadowKeyUmbraOpacity = 0.2;\nvar shadowKeyPenumbraOpacity = 0.14;\nvar shadowAmbientShadowOpacity = 0.12;\n\nfunction createShadow() {\n  return [\"\".concat(arguments.length <= 0 ? undefined : arguments[0], \"px \").concat(arguments.length <= 1 ? undefined : arguments[1], \"px \").concat(arguments.length <= 2 ? undefined : arguments[2], \"px \").concat(arguments.length <= 3 ? undefined : arguments[3], \"px rgba(0,0,0,\").concat(shadowKeyUmbraOpacity, \")\"), \"\".concat(arguments.length <= 4 ? undefined : arguments[4], \"px \").concat(arguments.length <= 5 ? undefined : arguments[5], \"px \").concat(arguments.length <= 6 ? undefined : arguments[6], \"px \").concat(arguments.length <= 7 ? undefined : arguments[7], \"px rgba(0,0,0,\").concat(shadowKeyPenumbraOpacity, \")\"), \"\".concat(arguments.length <= 8 ? undefined : arguments[8], \"px \").concat(arguments.length <= 9 ? undefined : arguments[9], \"px \").concat(arguments.length <= 10 ? undefined : arguments[10], \"px \").concat(arguments.length <= 11 ? undefined : arguments[11], \"px rgba(0,0,0,\").concat(shadowAmbientShadowOpacity, \")\")].join(',');\n} // Values from https://github.com/material-components/material-components-web/blob/be8747f94574669cb5e7add1a7c54fa41a89cec7/packages/mdc-elevation/_variables.scss\n\n\nvar shadows = ['none', createShadow(0, 2, 1, -1, 0, 1, 1, 0, 0, 1, 3, 0), createShadow(0, 3, 1, -2, 0, 2, 2, 0, 0, 1, 5, 0), createShadow(0, 3, 3, -2, 0, 3, 4, 0, 0, 1, 8, 0), createShadow(0, 2, 4, -1, 0, 4, 5, 0, 0, 1, 10, 0), createShadow(0, 3, 5, -1, 0, 5, 8, 0, 0, 1, 14, 0), createShadow(0, 3, 5, -1, 0, 6, 10, 0, 0, 1, 18, 0), createShadow(0, 4, 5, -2, 0, 7, 10, 1, 0, 2, 16, 1), createShadow(0, 5, 5, -3, 0, 8, 10, 1, 0, 3, 14, 2), createShadow(0, 5, 6, -3, 0, 9, 12, 1, 0, 3, 16, 2), createShadow(0, 6, 6, -3, 0, 10, 14, 1, 0, 4, 18, 3), createShadow(0, 6, 7, -4, 0, 11, 15, 1, 0, 4, 20, 3), createShadow(0, 7, 8, -4, 0, 12, 17, 2, 0, 5, 22, 4), createShadow(0, 7, 8, -4, 0, 13, 19, 2, 0, 5, 24, 4), createShadow(0, 7, 9, -4, 0, 14, 21, 2, 0, 5, 26, 4), createShadow(0, 8, 9, -5, 0, 15, 22, 2, 0, 6, 28, 5), createShadow(0, 8, 10, -5, 0, 16, 24, 2, 0, 6, 30, 5), createShadow(0, 8, 11, -5, 0, 17, 26, 2, 0, 6, 32, 5), createShadow(0, 9, 11, -5, 0, 18, 28, 2, 0, 7, 34, 6), createShadow(0, 9, 12, -6, 0, 19, 29, 2, 0, 7, 36, 6), createShadow(0, 10, 13, -6, 0, 20, 31, 3, 0, 8, 38, 7), createShadow(0, 10, 13, -6, 0, 21, 33, 3, 0, 8, 40, 7), createShadow(0, 10, 14, -6, 0, 22, 35, 3, 0, 8, 42, 7), createShadow(0, 11, 14, -7, 0, 23, 36, 3, 0, 9, 44, 8), createShadow(0, 11, 15, -7, 0, 24, 38, 3, 0, 9, 46, 8)];\n\nvar shape = {\n  borderRadius: 4\n};\n\nvar responsivePropType = process.env.NODE_ENV !== 'production' ? PropTypes__default.oneOfType([PropTypes__default.number, PropTypes__default.string, PropTypes__default.object, PropTypes__default.array]) : {};\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction merge(acc, item) {\n  if (!item) {\n    return acc;\n  }\n\n  return deepmerge(acc, item, {\n    clone: false // No need to clone deep, it's way faster.\n\n  });\n}\n\n// For instance with the first breakpoint xs: [xs, sm[.\n\nvar values = {\n  xs: 0,\n  sm: 600,\n  md: 960,\n  lg: 1280,\n  xl: 1920\n};\nvar defaultBreakpoints = {\n  // Sorted ASC by size. That's important.\n  // It can't be configured as it's used statically for propTypes.\n  keys: ['xs', 'sm', 'md', 'lg', 'xl'],\n  up: function up(key) {\n    return \"@media (min-width:\".concat(values[key], \"px)\");\n  }\n};\nfunction handleBreakpoints(props, propValue, styleFromPropValue) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!props.theme) {\n      console.error('@material-ui/system: you are calling a style function without a theme value.');\n    }\n  }\n\n  if (Array.isArray(propValue)) {\n    var themeBreakpoints = props.theme.breakpoints || defaultBreakpoints;\n    return propValue.reduce(function (acc, item, index) {\n      acc[themeBreakpoints.up(themeBreakpoints.keys[index])] = styleFromPropValue(propValue[index]);\n      return acc;\n    }, {});\n  }\n\n  if (_typeof(propValue) === 'object') {\n    var _themeBreakpoints = props.theme.breakpoints || defaultBreakpoints;\n\n    return Object.keys(propValue).reduce(function (acc, breakpoint) {\n      acc[_themeBreakpoints.up(breakpoint)] = styleFromPropValue(propValue[breakpoint]);\n      return acc;\n    }, {});\n  }\n\n  var output = styleFromPropValue(propValue);\n  return output;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction memoize(fn) {\n  var cache = {};\n  return function (arg) {\n    if (cache[arg] === undefined) {\n      cache[arg] = fn(arg);\n    }\n\n    return cache[arg];\n  };\n}\n\nvar properties = {\n  m: 'margin',\n  p: 'padding'\n};\nvar directions = {\n  t: 'Top',\n  r: 'Right',\n  b: 'Bottom',\n  l: 'Left',\n  x: ['Left', 'Right'],\n  y: ['Top', 'Bottom']\n};\nvar aliases = {\n  marginX: 'mx',\n  marginY: 'my',\n  paddingX: 'px',\n  paddingY: 'py'\n}; // memoize() impact:\n// From 300,000 ops/sec\n// To 350,000 ops/sec\n\nvar getCssProperties = memoize(function (prop) {\n  // It's not a shorthand notation.\n  if (prop.length > 2) {\n    if (aliases[prop]) {\n      prop = aliases[prop];\n    } else {\n      return [prop];\n    }\n  }\n\n  var _prop$split = prop.split(''),\n      _prop$split2 = _slicedToArray(_prop$split, 2),\n      a = _prop$split2[0],\n      b = _prop$split2[1];\n\n  var property = properties[a];\n  var direction = directions[b] || '';\n  return Array.isArray(direction) ? direction.map(function (dir) {\n    return property + dir;\n  }) : [property + direction];\n});\nvar spacingKeys = ['m', 'mt', 'mr', 'mb', 'ml', 'mx', 'my', 'p', 'pt', 'pr', 'pb', 'pl', 'px', 'py', 'margin', 'marginTop', 'marginRight', 'marginBottom', 'marginLeft', 'marginX', 'marginY', 'padding', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', 'paddingX', 'paddingY'];\nfunction createUnarySpacing(theme) {\n  var themeSpacing = theme.spacing || 8;\n\n  if (typeof themeSpacing === 'number') {\n    return function (abs) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (typeof abs !== 'number') {\n          console.error(\"@material-ui/system: expected spacing argument to be a number, got \".concat(abs, \".\"));\n        }\n      }\n\n      return themeSpacing * abs;\n    };\n  }\n\n  if (Array.isArray(themeSpacing)) {\n    return function (abs) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (abs > themeSpacing.length - 1) {\n          console.error([\"@material-ui/system: the value provided (\".concat(abs, \") overflows.\"), \"The supported values are: \".concat(JSON.stringify(themeSpacing), \".\"), \"\".concat(abs, \" > \").concat(themeSpacing.length - 1, \", you need to add the missing values.\")].join('\\n'));\n        }\n      }\n\n      return themeSpacing[abs];\n    };\n  }\n\n  if (typeof themeSpacing === 'function') {\n    return themeSpacing;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    console.error([\"@material-ui/system: the `theme.spacing` value (\".concat(themeSpacing, \") is invalid.\"), 'It should be a number, an array or a function.'].join('\\n'));\n  }\n\n  return function () {\n    return undefined;\n  };\n}\n\nfunction getValue(transformer, propValue) {\n  if (typeof propValue === 'string') {\n    return propValue;\n  }\n\n  var abs = Math.abs(propValue);\n  var transformed = transformer(abs);\n\n  if (propValue >= 0) {\n    return transformed;\n  }\n\n  if (typeof transformed === 'number') {\n    return -transformed;\n  }\n\n  return \"-\".concat(transformed);\n}\n\nfunction getStyleFromPropValue(cssProperties, transformer) {\n  return function (propValue) {\n    return cssProperties.reduce(function (acc, cssProperty) {\n      acc[cssProperty] = getValue(transformer, propValue);\n      return acc;\n    }, {});\n  };\n}\n\nfunction spacing(props) {\n  var theme = props.theme;\n  var transformer = createUnarySpacing(theme);\n  return Object.keys(props).map(function (prop) {\n    // Using a hash computation over an array iteration could be faster, but with only 28 items,\n    // it's doesn't worth the bundle size.\n    if (spacingKeys.indexOf(prop) === -1) {\n      return null;\n    }\n\n    var cssProperties = getCssProperties(prop);\n    var styleFromPropValue = getStyleFromPropValue(cssProperties, transformer);\n    var propValue = props[prop];\n    return handleBreakpoints(props, propValue, styleFromPropValue);\n  }).reduce(merge, {});\n}\n\nspacing.propTypes = process.env.NODE_ENV !== 'production' ? spacingKeys.reduce(function (obj, key) {\n  obj[key] = responsivePropType;\n  return obj;\n}, {}) : {};\nspacing.filterProps = spacingKeys;\n\nvar warnOnce;\nfunction createSpacing() {\n  var spacingInput = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 8;\n\n  // Already transformed.\n  if (spacingInput.mui) {\n    return spacingInput;\n  } // Material Design layouts are visually balanced. Most measurements align to an 8dp grid applied, which aligns both spacing and the overall layout.\n  // Smaller components, such as icons and type, can align to a 4dp grid.\n  // https://material.io/design/layout/understanding-layout.html#usage\n\n\n  var transform = createUnarySpacing({\n    spacing: spacingInput\n  });\n\n  var spacing = function spacing() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!(args.length <= 4)) {\n        console.error(\"Material-UI: Too many arguments provided, expected between 0 and 4, got \".concat(args.length));\n      }\n    }\n\n    if (args.length === 0) {\n      return transform(1);\n    }\n\n    if (args.length === 1) {\n      return transform(args[0]);\n    }\n\n    return args.map(function (argument) {\n      if (typeof argument === 'string') {\n        return argument;\n      }\n\n      var output = transform(argument);\n      return typeof output === 'number' ? \"\".concat(output, \"px\") : output;\n    }).join(' ');\n  }; // Backward compatibility, to remove in v5.\n\n\n  Object.defineProperty(spacing, 'unit', {\n    get: function get() {\n      if (process.env.NODE_ENV !== 'production') {\n        if (!warnOnce || process.env.NODE_ENV === 'test') {\n          console.error(['Material-UI: theme.spacing.unit usage has been deprecated.', 'It will be removed in v5.', 'You can replace `theme.spacing.unit * y` with `theme.spacing(y)`.', '', 'You can use the `https://github.com/mui-org/material-ui/tree/master/packages/material-ui-codemod/README.md#theme-spacing-api` migration helper to make the process smoother.'].join('\\n'));\n        }\n\n        warnOnce = true;\n      }\n\n      return spacingInput;\n    }\n  });\n  spacing.mui = true;\n  return spacing;\n}\n\n// Follow https://material.google.com/motion/duration-easing.html#duration-easing-natural-easing-curves\n// to learn the context in which each easing should be used.\nvar easing = {\n  // This is the most common easing curve.\n  easeInOut: 'cubic-bezier(0.4, 0, 0.2, 1)',\n  // Objects enter the screen at full velocity from off-screen and\n  // slowly decelerate to a resting point.\n  easeOut: 'cubic-bezier(0.0, 0, 0.2, 1)',\n  // Objects leave the screen at full velocity. They do not decelerate when off-screen.\n  easeIn: 'cubic-bezier(0.4, 0, 1, 1)',\n  // The sharp curve is used by objects that may return to the screen at any time.\n  sharp: 'cubic-bezier(0.4, 0, 0.6, 1)'\n}; // Follow https://material.io/guidelines/motion/duration-easing.html#duration-easing-common-durations\n// to learn when use what timing\n\nvar duration = {\n  shortest: 150,\n  shorter: 200,\n  short: 250,\n  // most basic recommended timing\n  standard: 300,\n  // this is to be used in complex animations\n  complex: 375,\n  // recommended when something is entering screen\n  enteringScreen: 225,\n  // recommended when something is leaving screen\n  leavingScreen: 195\n};\n\nfunction formatMs(milliseconds) {\n  return \"\".concat(Math.round(milliseconds), \"ms\");\n}\n/**\n * @param {string|Array} props\n * @param {object} param\n * @param {string} param.prop\n * @param {number} param.duration\n * @param {string} param.easing\n * @param {number} param.delay\n */\n\n\nvar transitions = {\n  easing: easing,\n  duration: duration,\n  create: function create() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['all'];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var _options$duration = options.duration,\n        durationOption = _options$duration === void 0 ? duration.standard : _options$duration,\n        _options$easing = options.easing,\n        easingOption = _options$easing === void 0 ? easing.easeInOut : _options$easing,\n        _options$delay = options.delay,\n        delay = _options$delay === void 0 ? 0 : _options$delay,\n        other = _objectWithoutProperties(options, [\"duration\", \"easing\", \"delay\"]);\n\n    if (process.env.NODE_ENV !== 'production') {\n      var isString = function isString(value) {\n        return typeof value === 'string';\n      };\n\n      var isNumber = function isNumber(value) {\n        return !isNaN(parseFloat(value));\n      };\n\n      if (!isString(props) && !Array.isArray(props)) {\n        console.error('Material-UI: argument \"props\" must be a string or Array.');\n      }\n\n      if (!isNumber(durationOption) && !isString(durationOption)) {\n        console.error(\"Material-UI: argument \\\"duration\\\" must be a number or a string but found \".concat(durationOption, \".\"));\n      }\n\n      if (!isString(easingOption)) {\n        console.error('Material-UI: argument \"easing\" must be a string.');\n      }\n\n      if (!isNumber(delay) && !isString(delay)) {\n        console.error('Material-UI: argument \"delay\" must be a number or a string.');\n      }\n\n      if (Object.keys(other).length !== 0) {\n        console.error(\"Material-UI: unrecognized argument(s) [\".concat(Object.keys(other).join(','), \"]\"));\n      }\n    }\n\n    return (Array.isArray(props) ? props : [props]).map(function (animatedProp) {\n      return \"\".concat(animatedProp, \" \").concat(typeof durationOption === 'string' ? durationOption : formatMs(durationOption), \" \").concat(easingOption, \" \").concat(typeof delay === 'string' ? delay : formatMs(delay));\n    }).join(',');\n  },\n  getAutoHeightDuration: function getAutoHeightDuration(height) {\n    if (!height) {\n      return 0;\n    }\n\n    var constant = height / 36; // https://www.wolframalpha.com/input/?i=(4+%2B+15+*+(x+%2F+36+)+**+0.25+%2B+(x+%2F+36)+%2F+5)+*+10\n\n    return Math.round((4 + 15 * Math.pow(constant, 0.25) + constant / 5) * 10);\n  }\n};\n\n// We need to centralize the zIndex definitions as they work\n// like global values in the browser.\nvar zIndex = {\n  mobileStepper: 1000,\n  speedDial: 1050,\n  appBar: 1100,\n  drawer: 1200,\n  modal: 1300,\n  snackbar: 1400,\n  tooltip: 1500\n};\n\nfunction createMuiTheme() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options$breakpoints = options.breakpoints,\n      breakpointsInput = _options$breakpoints === void 0 ? {} : _options$breakpoints,\n      _options$mixins = options.mixins,\n      mixinsInput = _options$mixins === void 0 ? {} : _options$mixins,\n      _options$palette = options.palette,\n      paletteInput = _options$palette === void 0 ? {} : _options$palette,\n      spacingInput = options.spacing,\n      _options$typography = options.typography,\n      typographyInput = _options$typography === void 0 ? {} : _options$typography,\n      other = _objectWithoutProperties(options, [\"breakpoints\", \"mixins\", \"palette\", \"spacing\", \"typography\"]);\n\n  var palette = createPalette(paletteInput);\n  var breakpoints = createBreakpoints(breakpointsInput);\n  var spacing = createSpacing(spacingInput);\n  var muiTheme = deepmerge({\n    breakpoints: breakpoints,\n    direction: 'ltr',\n    mixins: createMixins(breakpoints, spacing, mixinsInput),\n    overrides: {},\n    // Inject custom styles\n    palette: palette,\n    props: {},\n    // Provide default props\n    shadows: shadows,\n    typography: createTypography(palette, typographyInput),\n    spacing: spacing,\n    shape: shape,\n    transitions: transitions,\n    zIndex: zIndex\n  }, other);\n\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  muiTheme = args.reduce(function (acc, argument) {\n    return deepmerge(acc, argument);\n  }, muiTheme);\n\n  if (process.env.NODE_ENV !== 'production') {\n    var pseudoClasses = ['checked', 'disabled', 'error', 'focused', 'focusVisible', 'required', 'expanded', 'selected'];\n\n    var traverse = function traverse(node, parentKey) {\n      var depth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      var key; // eslint-disable-next-line guard-for-in, no-restricted-syntax\n\n      for (key in node) {\n        var child = node[key];\n\n        if (depth === 1) {\n          if (key.indexOf('Mui') === 0 && child) {\n            traverse(child, key, depth + 1);\n          }\n        } else if (pseudoClasses.indexOf(key) !== -1 && Object.keys(child).length > 0) {\n          if (process.env.NODE_ENV !== 'production') {\n            console.error([\"Material-UI: the `\".concat(parentKey, \"` component increases \") + \"the CSS specificity of the `\".concat(key, \"` internal state.\"), 'You can not override it like this: ', JSON.stringify(node, null, 2), '', 'Instead, you need to use the $ruleName syntax:', JSON.stringify({\n              root: _defineProperty({}, \"&$\".concat(key), child)\n            }, null, 2), '', 'https://material-ui.com/r/pseudo-classes-guide'].join('\\n'));\n          } // Remove the style to prevent global conflicts.\n\n\n          node[key] = {};\n        }\n      }\n    };\n\n    traverse(muiTheme.overrides);\n  }\n\n  return muiTheme;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar nested = hasSymbol ? Symbol.for('mui.nested') : '__THEME_NESTED__';\n\n/**\n * This is the list of the style rule name we use as drop in replacement for the built-in\n * pseudo classes (:checked, :disabled, :focused, etc.).\n *\n * Why do they exist in the first place?\n * These classes are used at a specificity of 2.\n * It allows them to override previously definied styles as well as\n * being untouched by simple user overrides.\n */\n\nvar pseudoClasses = ['checked', 'disabled', 'error', 'focused', 'focusVisible', 'required', 'expanded', 'selected']; // Returns a function which generates unique class names based on counters.\n// When new generator function is created, rule counter is reset.\n// We need to reset the rule counter for SSR for each request.\n//\n// It's inspired by\n// https://github.com/cssinjs/jss/blob/4e6a05dd3f7b6572fdd3ab216861d9e446c20331/src/utils/createGenerateClassName.js\n\nfunction createGenerateClassName() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$disableGloba = options.disableGlobal,\n      disableGlobal = _options$disableGloba === void 0 ? false : _options$disableGloba,\n      _options$productionPr = options.productionPrefix,\n      productionPrefix = _options$productionPr === void 0 ? 'jss' : _options$productionPr,\n      _options$seed = options.seed,\n      seed = _options$seed === void 0 ? '' : _options$seed;\n  var seedPrefix = seed === '' ? '' : \"\".concat(seed, \"-\");\n  var ruleCounter = 0;\n  return function (rule, styleSheet) {\n    ruleCounter += 1;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (ruleCounter >= 1e10) {\n        console.warn(['Material-UI: you might have a memory leak.', 'The ruleCounter is not supposed to grow that much.'].join(''));\n      }\n    }\n\n    var name = styleSheet.options.name; // Is a global static MUI style?\n\n    if (name && name.indexOf('Mui') === 0 && !styleSheet.options.link && !disableGlobal) {\n      // We can use a shorthand class name, we never use the keys to style the components.\n      if (pseudoClasses.indexOf(rule.key) !== -1) {\n        return \"Mui-\".concat(rule.key);\n      }\n\n      var prefix = \"\".concat(seedPrefix).concat(name, \"-\").concat(rule.key);\n\n      if (!styleSheet.options.theme[nested] || seed !== '') {\n        return prefix;\n      }\n\n      return \"\".concat(prefix, \"-\").concat(ruleCounter);\n    }\n\n    if (process.env.NODE_ENV === 'production') {\n      return \"\".concat(seedPrefix).concat(productionPrefix).concat(ruleCounter);\n    }\n\n    var suffix = \"\".concat(rule.key, \"-\").concat(ruleCounter); // Help with debuggability.\n\n    if (styleSheet.options.classNamePrefix) {\n      return \"\".concat(seedPrefix).concat(styleSheet.options.classNamePrefix, \"-\").concat(suffix);\n    }\n\n    return \"\".concat(seedPrefix).concat(suffix);\n  };\n}\n\nvar isProduction = process.env.NODE_ENV === 'production';\nfunction warning(condition, message) {\n  if (!isProduction) {\n    if (condition) {\n      return;\n    }\n\n    var text = \"Warning: \" + message;\n\n    if (typeof console !== 'undefined') {\n      console.warn(text);\n    }\n\n    try {\n      throw Error(text);\n    } catch (x) {}\n  }\n}\n\nvar _typeof$1 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar isBrowser = (typeof window === \"undefined\" ? \"undefined\" : _typeof$1(window)) === \"object\" && (typeof document === \"undefined\" ? \"undefined\" : _typeof$1(document)) === 'object' && document.nodeType === 9;\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar plainObjectConstrurctor = {}.constructor;\nfunction cloneStyle(style) {\n  if (style == null || typeof style !== 'object') return style;\n  if (Array.isArray(style)) return style.map(cloneStyle);\n  if (style.constructor !== plainObjectConstrurctor) return style;\n  var newStyle = {};\n\n  for (var name in style) {\n    newStyle[name] = cloneStyle(style[name]);\n  }\n\n  return newStyle;\n}\n\n/**\n * Create a rule instance.\n */\n\nfunction createRule(name, decl, options) {\n  if (name === void 0) {\n    name = 'unnamed';\n  }\n\n  var jss = options.jss;\n  var declCopy = cloneStyle(decl);\n  var rule = jss.plugins.onCreateRule(name, declCopy, options);\n  if (rule) return rule; // It is an at-rule and it has no instance.\n\n  if (name[0] === '@') {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Unknown rule \" + name) : void 0;\n  }\n\n  return null;\n}\n\nvar join = function join(value, by) {\n  var result = '';\n\n  for (var i = 0; i < value.length; i++) {\n    // Remove !important from the value, it will be readded later.\n    if (value[i] === '!important') break;\n    if (result) result += by;\n    result += value[i];\n  }\n\n  return result;\n};\n/**\n * Converts array values to string.\n *\n * `margin: [['5px', '10px']]` > `margin: 5px 10px;`\n * `border: ['1px', '2px']` > `border: 1px, 2px;`\n * `margin: [['5px', '10px'], '!important']` > `margin: 5px 10px !important;`\n * `color: ['red', !important]` > `color: red !important;`\n */\n\n\nfunction toCssValue(value, ignoreImportant) {\n  if (ignoreImportant === void 0) {\n    ignoreImportant = false;\n  }\n\n  if (!Array.isArray(value)) return value;\n  var cssValue = ''; // Support space separated values via `[['5px', '10px']]`.\n\n  if (Array.isArray(value[0])) {\n    for (var i = 0; i < value.length; i++) {\n      if (value[i] === '!important') break;\n      if (cssValue) cssValue += ', ';\n      cssValue += join(value[i], ' ');\n    }\n  } else cssValue = join(value, ', '); // Add !important, because it was ignored.\n\n\n  if (!ignoreImportant && value[value.length - 1] === '!important') {\n    cssValue += ' !important';\n  }\n\n  return cssValue;\n}\n\n/**\n * Indent a string.\n * http://jsperf.com/array-join-vs-for\n */\nfunction indentStr(str, indent) {\n  var result = '';\n\n  for (var index = 0; index < indent; index++) {\n    result += '  ';\n  }\n\n  return result + str;\n}\n/**\n * Converts a Rule to CSS string.\n */\n\n\nfunction toCss(selector, style, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var result = '';\n  if (!style) return result;\n  var _options = options,\n      _options$indent = _options.indent,\n      indent = _options$indent === void 0 ? 0 : _options$indent;\n  var fallbacks = style.fallbacks;\n  if (selector) indent++; // Apply fallbacks first.\n\n  if (fallbacks) {\n    // Array syntax {fallbacks: [{prop: value}]}\n    if (Array.isArray(fallbacks)) {\n      for (var index = 0; index < fallbacks.length; index++) {\n        var fallback = fallbacks[index];\n\n        for (var prop in fallback) {\n          var value = fallback[prop];\n\n          if (value != null) {\n            if (result) result += '\\n';\n            result += \"\" + indentStr(prop + \": \" + toCssValue(value) + \";\", indent);\n          }\n        }\n      }\n    } else {\n      // Object syntax {fallbacks: {prop: value}}\n      for (var _prop in fallbacks) {\n        var _value = fallbacks[_prop];\n\n        if (_value != null) {\n          if (result) result += '\\n';\n          result += \"\" + indentStr(_prop + \": \" + toCssValue(_value) + \";\", indent);\n        }\n      }\n    }\n  }\n\n  for (var _prop2 in style) {\n    var _value2 = style[_prop2];\n\n    if (_value2 != null && _prop2 !== 'fallbacks') {\n      if (result) result += '\\n';\n      result += \"\" + indentStr(_prop2 + \": \" + toCssValue(_value2) + \";\", indent);\n    }\n  } // Allow empty style in this case, because properties will be added dynamically.\n\n\n  if (!result && !options.allowEmpty) return result; // When rule is being stringified before selector was defined.\n\n  if (!selector) return result;\n  indent--;\n  if (result) result = \"\\n\" + result + \"\\n\";\n  return indentStr(selector + \" {\" + result, indent) + indentStr('}', indent);\n}\n\nvar escapeRegex = /([[\\].#*$><+~=|^:(),\"'`\\s])/g;\nvar nativeEscape = typeof CSS !== 'undefined' && CSS.escape;\nvar escape = (function (str) {\n  return nativeEscape ? nativeEscape(str) : str.replace(escapeRegex, '\\\\$1');\n});\n\nvar BaseStyleRule =\n/*#__PURE__*/\nfunction () {\n  function BaseStyleRule(key, style, options) {\n    this.type = 'style';\n    this.key = void 0;\n    this.isProcessed = false;\n    this.style = void 0;\n    this.renderer = void 0;\n    this.renderable = void 0;\n    this.options = void 0;\n    var sheet = options.sheet,\n        Renderer = options.Renderer;\n    this.key = key;\n    this.options = options;\n    this.style = style;\n    if (sheet) this.renderer = sheet.renderer;else if (Renderer) this.renderer = new Renderer();\n  }\n  /**\n   * Get or set a style property.\n   */\n\n\n  var _proto = BaseStyleRule.prototype;\n\n  _proto.prop = function prop(name, value, options) {\n    // It's a getter.\n    if (value === undefined) return this.style[name]; // Don't do anything if the value has not changed.\n\n    var force = options ? options.force : false;\n    if (!force && this.style[name] === value) return this;\n    var newValue = value;\n\n    if (!options || options.process !== false) {\n      newValue = this.options.jss.plugins.onChangeValue(value, name, this);\n    }\n\n    var isEmpty = newValue == null || newValue === false;\n    var isDefined = name in this.style; // Value is empty and wasn't defined before.\n\n    if (isEmpty && !isDefined && !force) return this; // We are going to remove this value.\n\n    var remove = isEmpty && isDefined;\n    if (remove) delete this.style[name];else this.style[name] = newValue; // Renderable is defined if StyleSheet option `link` is true.\n\n    if (this.renderable && this.renderer) {\n      if (remove) this.renderer.removeProperty(this.renderable, name);else this.renderer.setProperty(this.renderable, name, newValue);\n      return this;\n    }\n\n    var sheet = this.options.sheet;\n\n    if (sheet && sheet.attached) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, '[JSS] Rule is not linked. Missing sheet option \"link: true\".') : void 0;\n    }\n\n    return this;\n  };\n\n  return BaseStyleRule;\n}();\nvar StyleRule =\n/*#__PURE__*/\nfunction (_BaseStyleRule) {\n  _inheritsLoose(StyleRule, _BaseStyleRule);\n\n  function StyleRule(key, style, options) {\n    var _this;\n\n    _this = _BaseStyleRule.call(this, key, style, options) || this;\n    _this.selectorText = void 0;\n    _this.id = void 0;\n    _this.renderable = void 0;\n    var selector = options.selector,\n        scoped = options.scoped,\n        sheet = options.sheet,\n        generateId = options.generateId;\n\n    if (selector) {\n      _this.selectorText = selector;\n    } else if (scoped !== false) {\n      _this.id = generateId(_assertThisInitialized(_assertThisInitialized(_this)), sheet);\n      _this.selectorText = \".\" + escape(_this.id);\n    }\n\n    return _this;\n  }\n  /**\n   * Set selector string.\n   * Attention: use this with caution. Most browsers didn't implement\n   * selectorText setter, so this may result in rerendering of entire Style Sheet.\n   */\n\n\n  var _proto2 = StyleRule.prototype;\n\n  /**\n   * Apply rule to an element inline.\n   */\n  _proto2.applyTo = function applyTo(renderable) {\n    var renderer = this.renderer;\n\n    if (renderer) {\n      var json = this.toJSON();\n\n      for (var prop in json) {\n        renderer.setProperty(renderable, prop, json[prop]);\n      }\n    }\n\n    return this;\n  }\n  /**\n   * Returns JSON representation of the rule.\n   * Fallbacks are not supported.\n   * Useful for inline styles.\n   */\n  ;\n\n  _proto2.toJSON = function toJSON() {\n    var json = {};\n\n    for (var prop in this.style) {\n      var value = this.style[prop];\n      if (typeof value !== 'object') json[prop] = value;else if (Array.isArray(value)) json[prop] = toCssValue(value);\n    }\n\n    return json;\n  }\n  /**\n   * Generates a CSS string.\n   */\n  ;\n\n  _proto2.toString = function toString(options) {\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n    var opts = link ? _extends({}, options, {\n      allowEmpty: true\n    }) : options;\n    return toCss(this.selectorText, this.style, opts);\n  };\n\n  _createClass(StyleRule, [{\n    key: \"selector\",\n    set: function set(selector) {\n      if (selector === this.selectorText) return;\n      this.selectorText = selector;\n      var renderer = this.renderer,\n          renderable = this.renderable;\n      if (!renderable || !renderer) return;\n      var hasChanged = renderer.setSelector(renderable, selector); // If selector setter is not implemented, rerender the rule.\n\n      if (!hasChanged) {\n        renderer.replaceRule(renderable, this);\n      }\n    }\n    /**\n     * Get selector string.\n     */\n    ,\n    get: function get() {\n      return this.selectorText;\n    }\n  }]);\n\n  return StyleRule;\n}(BaseStyleRule);\nvar pluginStyleRule = {\n  onCreateRule: function onCreateRule(name, style, options) {\n    if (name[0] === '@' || options.parent && options.parent.type === 'keyframes') {\n      return null;\n    }\n\n    return new StyleRule(name, style, options);\n  }\n};\n\nvar defaultToStringOptions = {\n  indent: 1,\n  children: true\n};\nvar atRegExp = /@([\\w-]+)/;\n/**\n * Conditional rule for @media, @supports\n */\n\nvar ConditionalRule =\n/*#__PURE__*/\nfunction () {\n  function ConditionalRule(key, styles, options) {\n    this.type = 'conditional';\n    this.at = void 0;\n    this.key = void 0;\n    this.query = void 0;\n    this.rules = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key; // Key might contain a unique suffix in case the `name` passed by user was duplicate.\n\n    this.query = options.name;\n    var atMatch = key.match(atRegExp);\n    this.at = atMatch ? atMatch[1] : 'unknown';\n    this.options = options;\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Get a rule.\n   */\n\n\n  var _proto = ConditionalRule.prototype;\n\n  _proto.getRule = function getRule(name) {\n    return this.rules.get(name);\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Create and register rule, run plugins.\n   */\n  ;\n\n  _proto.addRule = function addRule(name, style, options) {\n    var rule = this.rules.add(name, style, options);\n    if (!rule) return null;\n    this.options.jss.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Generates a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(options) {\n    if (options === void 0) {\n      options = defaultToStringOptions;\n    }\n\n    if (options.indent == null) options.indent = defaultToStringOptions.indent;\n    if (options.children == null) options.children = defaultToStringOptions.children;\n\n    if (options.children === false) {\n      return this.query + \" {}\";\n    }\n\n    var children = this.rules.toString(options);\n    return children ? this.query + \" {\\n\" + children + \"\\n}\" : '';\n  };\n\n  return ConditionalRule;\n}();\nvar keyRegExp = /@media|@supports\\s+/;\nvar pluginConditionalRule = {\n  onCreateRule: function onCreateRule(key, styles, options) {\n    return keyRegExp.test(key) ? new ConditionalRule(key, styles, options) : null;\n  }\n};\n\nvar defaultToStringOptions$1 = {\n  indent: 1,\n  children: true\n};\nvar nameRegExp = /@keyframes\\s+([\\w-]+)/;\n/**\n * Rule for @keyframes\n */\n\nvar KeyframesRule =\n/*#__PURE__*/\nfunction () {\n  function KeyframesRule(key, frames, options) {\n    this.type = 'keyframes';\n    this.at = '@keyframes';\n    this.key = void 0;\n    this.name = void 0;\n    this.id = void 0;\n    this.rules = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    var nameMatch = key.match(nameRegExp);\n\n    if (nameMatch && nameMatch[1]) {\n      this.name = nameMatch[1];\n    } else {\n      this.name = 'noname';\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Bad keyframes name \" + key) : void 0;\n    }\n\n    this.key = this.type + \"-\" + this.name;\n    this.options = options;\n    var scoped = options.scoped,\n        sheet = options.sheet,\n        generateId = options.generateId;\n    this.id = scoped === false ? this.name : escape(generateId(this, sheet));\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var name in frames) {\n      this.rules.add(name, frames[name], _extends({}, options, {\n        parent: this\n      }));\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n\n  var _proto = KeyframesRule.prototype;\n\n  _proto.toString = function toString(options) {\n    if (options === void 0) {\n      options = defaultToStringOptions$1;\n    }\n\n    if (options.indent == null) options.indent = defaultToStringOptions$1.indent;\n    if (options.children == null) options.children = defaultToStringOptions$1.children;\n\n    if (options.children === false) {\n      return this.at + \" \" + this.id + \" {}\";\n    }\n\n    var children = this.rules.toString(options);\n    if (children) children = \"\\n\" + children + \"\\n\";\n    return this.at + \" \" + this.id + \" {\" + children + \"}\";\n  };\n\n  return KeyframesRule;\n}();\nvar keyRegExp$1 = /@keyframes\\s+/;\nvar refRegExp = /\\$([\\w-]+)/g;\n\nvar findReferencedKeyframe = function findReferencedKeyframe(val, keyframes) {\n  if (typeof val === 'string') {\n    return val.replace(refRegExp, function (match, name) {\n      if (name in keyframes) {\n        return keyframes[name];\n      }\n\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Referenced keyframes rule \\\"\" + name + \"\\\" is not defined.\") : void 0;\n      return match;\n    });\n  }\n\n  return val;\n};\n/**\n * Replace the reference for a animation name.\n */\n\n\nvar replaceRef = function replaceRef(style, prop, keyframes) {\n  var value = style[prop];\n  var refKeyframe = findReferencedKeyframe(value, keyframes);\n\n  if (refKeyframe !== value) {\n    style[prop] = refKeyframe;\n  }\n};\n\nvar plugin = {\n  onCreateRule: function onCreateRule(key, frames, options) {\n    return typeof key === 'string' && keyRegExp$1.test(key) ? new KeyframesRule(key, frames, options) : null;\n  },\n  // Animation name ref replacer.\n  onProcessStyle: function onProcessStyle(style, rule, sheet) {\n    if (rule.type !== 'style' || !sheet) return style;\n    if ('animation-name' in style) replaceRef(style, 'animation-name', sheet.keyframes);\n    if ('animation' in style) replaceRef(style, 'animation', sheet.keyframes);\n    return style;\n  },\n  onChangeValue: function onChangeValue(val, prop, rule) {\n    var sheet = rule.options.sheet;\n\n    if (!sheet) {\n      return val;\n    }\n\n    switch (prop) {\n      case 'animation':\n        return findReferencedKeyframe(val, sheet.keyframes);\n\n      case 'animation-name':\n        return findReferencedKeyframe(val, sheet.keyframes);\n\n      default:\n        return val;\n    }\n  }\n};\n\nvar KeyframeRule =\n/*#__PURE__*/\nfunction (_BaseStyleRule) {\n  _inheritsLoose(KeyframeRule, _BaseStyleRule);\n\n  function KeyframeRule() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _BaseStyleRule.call.apply(_BaseStyleRule, [this].concat(args)) || this;\n    _this.renderable = void 0;\n    return _this;\n  }\n\n  var _proto = KeyframeRule.prototype;\n\n  /**\n   * Generates a CSS string.\n   */\n  _proto.toString = function toString(options) {\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n    var opts = link ? _extends({}, options, {\n      allowEmpty: true\n    }) : options;\n    return toCss(this.key, this.style, opts);\n  };\n\n  return KeyframeRule;\n}(BaseStyleRule);\nvar pluginKeyframeRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    if (options.parent && options.parent.type === 'keyframes') {\n      return new KeyframeRule(key, style, options);\n    }\n\n    return null;\n  }\n};\n\nvar FontFaceRule =\n/*#__PURE__*/\nfunction () {\n  function FontFaceRule(key, style, options) {\n    this.type = 'font-face';\n    this.at = '@font-face';\n    this.key = void 0;\n    this.style = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n\n  var _proto = FontFaceRule.prototype;\n\n  _proto.toString = function toString(options) {\n    if (Array.isArray(this.style)) {\n      var str = '';\n\n      for (var index = 0; index < this.style.length; index++) {\n        str += toCss(this.at, this.style[index]);\n        if (this.style[index + 1]) str += '\\n';\n      }\n\n      return str;\n    }\n\n    return toCss(this.at, this.style, options);\n  };\n\n  return FontFaceRule;\n}();\nvar keyRegExp$2 = /@font-face/;\nvar pluginFontFaceRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    return keyRegExp$2.test(key) ? new FontFaceRule(key, style, options) : null;\n  }\n};\n\nvar ViewportRule =\n/*#__PURE__*/\nfunction () {\n  function ViewportRule(key, style, options) {\n    this.type = 'viewport';\n    this.at = '@viewport';\n    this.key = void 0;\n    this.style = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n\n  var _proto = ViewportRule.prototype;\n\n  _proto.toString = function toString(options) {\n    return toCss(this.key, this.style, options);\n  };\n\n  return ViewportRule;\n}();\nvar pluginViewportRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    return key === '@viewport' || key === '@-ms-viewport' ? new ViewportRule(key, style, options) : null;\n  }\n};\n\nvar SimpleRule =\n/*#__PURE__*/\nfunction () {\n  function SimpleRule(key, value, options) {\n    this.type = 'simple';\n    this.key = void 0;\n    this.value = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    this.value = value;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n  // eslint-disable-next-line no-unused-vars\n\n\n  var _proto = SimpleRule.prototype;\n\n  _proto.toString = function toString(options) {\n    if (Array.isArray(this.value)) {\n      var str = '';\n\n      for (var index = 0; index < this.value.length; index++) {\n        str += this.key + \" \" + this.value[index] + \";\";\n        if (this.value[index + 1]) str += '\\n';\n      }\n\n      return str;\n    }\n\n    return this.key + \" \" + this.value + \";\";\n  };\n\n  return SimpleRule;\n}();\nvar keysMap = {\n  '@charset': true,\n  '@import': true,\n  '@namespace': true\n};\nvar pluginSimpleRule = {\n  onCreateRule: function onCreateRule(key, value, options) {\n    return key in keysMap ? new SimpleRule(key, value, options) : null;\n  }\n};\n\nvar plugins = [pluginStyleRule, pluginConditionalRule, plugin, pluginKeyframeRule, pluginFontFaceRule, pluginViewportRule, pluginSimpleRule];\n\nvar defaultUpdateOptions = {\n  process: true\n};\nvar forceUpdateOptions = {\n  force: true,\n  process: true\n  /**\n   * Contains rules objects and allows adding/removing etc.\n   * Is used for e.g. by `StyleSheet` or `ConditionalRule`.\n   */\n\n};\n\nvar RuleList =\n/*#__PURE__*/\nfunction () {\n  // Rules registry for access by .get() method.\n  // It contains the same rule registered by name and by selector.\n  // Original styles object.\n  // Used to ensure correct rules order.\n  function RuleList(options) {\n    this.map = {};\n    this.raw = {};\n    this.index = [];\n    this.counter = 0;\n    this.options = void 0;\n    this.classes = void 0;\n    this.keyframes = void 0;\n    this.options = options;\n    this.classes = options.classes;\n    this.keyframes = options.keyframes;\n  }\n  /**\n   * Create and register rule.\n   *\n   * Will not render after Style Sheet was rendered the first time.\n   */\n\n\n  var _proto = RuleList.prototype;\n\n  _proto.add = function add(name, decl, ruleOptions) {\n    var _this$options = this.options,\n        parent = _this$options.parent,\n        sheet = _this$options.sheet,\n        jss = _this$options.jss,\n        Renderer = _this$options.Renderer,\n        generateId = _this$options.generateId,\n        scoped = _this$options.scoped;\n\n    var options = _extends({\n      classes: this.classes,\n      parent: parent,\n      sheet: sheet,\n      jss: jss,\n      Renderer: Renderer,\n      generateId: generateId,\n      scoped: scoped,\n      name: name\n    }, ruleOptions); // When user uses .createStyleSheet(), duplicate names are not possible, but\n    // `sheet.addRule()` opens the door for any duplicate rule name. When this happens\n    // we need to make the key unique within this RuleList instance scope.\n\n\n    var key = name;\n\n    if (name in this.raw) {\n      key = name + \"-d\" + this.counter++;\n    } // We need to save the original decl before creating the rule\n    // because cache plugin needs to use it as a key to return a cached rule.\n\n\n    this.raw[key] = decl;\n\n    if (key in this.classes) {\n      // E.g. rules inside of @media container\n      options.selector = \".\" + escape(this.classes[key]);\n    }\n\n    var rule = createRule(key, decl, options);\n    if (!rule) return null;\n    this.register(rule);\n    var index = options.index === undefined ? this.index.length : options.index;\n    this.index.splice(index, 0, rule);\n    return rule;\n  }\n  /**\n   * Get a rule.\n   */\n  ;\n\n  _proto.get = function get(name) {\n    return this.map[name];\n  }\n  /**\n   * Delete a rule.\n   */\n  ;\n\n  _proto.remove = function remove(rule) {\n    this.unregister(rule);\n    delete this.raw[rule.key];\n    this.index.splice(this.index.indexOf(rule), 1);\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.index.indexOf(rule);\n  }\n  /**\n   * Run `onProcessRule()` plugins on every rule.\n   */\n  ;\n\n  _proto.process = function process() {\n    var plugins$$1 = this.options.jss.plugins; // We need to clone array because if we modify the index somewhere else during a loop\n    // we end up with very hard-to-track-down side effects.\n\n    this.index.slice(0).forEach(plugins$$1.onProcessRule, plugins$$1);\n  }\n  /**\n   * Register a rule in `.map`, `.classes` and `.keyframes` maps.\n   */\n  ;\n\n  _proto.register = function register(rule) {\n    this.map[rule.key] = rule;\n\n    if (rule instanceof StyleRule) {\n      this.map[rule.selector] = rule;\n      if (rule.id) this.classes[rule.key] = rule.id;\n    } else if (rule instanceof KeyframesRule && this.keyframes) {\n      this.keyframes[rule.name] = rule.id;\n    }\n  }\n  /**\n   * Unregister a rule.\n   */\n  ;\n\n  _proto.unregister = function unregister(rule) {\n    delete this.map[rule.key];\n\n    if (rule instanceof StyleRule) {\n      delete this.map[rule.selector];\n      delete this.classes[rule.key];\n    } else if (rule instanceof KeyframesRule) {\n      delete this.keyframes[rule.name];\n    }\n  }\n  /**\n   * Update the function values with a new data.\n   */\n  ;\n\n  _proto.update = function update() {\n    var name;\n    var data;\n    var options;\n\n    if (typeof (arguments.length <= 0 ? undefined : arguments[0]) === 'string') {\n      name = arguments.length <= 0 ? undefined : arguments[0]; // $FlowFixMe\n\n      data = arguments.length <= 1 ? undefined : arguments[1]; // $FlowFixMe\n\n      options = arguments.length <= 2 ? undefined : arguments[2];\n    } else {\n      data = arguments.length <= 0 ? undefined : arguments[0]; // $FlowFixMe\n\n      options = arguments.length <= 1 ? undefined : arguments[1];\n      name = null;\n    }\n\n    if (name) {\n      this.updateOne(this.map[name], data, options);\n    } else {\n      for (var index = 0; index < this.index.length; index++) {\n        this.updateOne(this.index[index], data, options);\n      }\n    }\n  }\n  /**\n   * Execute plugins, update rule props.\n   */\n  ;\n\n  _proto.updateOne = function updateOne(rule, data, options) {\n    if (options === void 0) {\n      options = defaultUpdateOptions;\n    }\n\n    var _this$options2 = this.options,\n        plugins$$1 = _this$options2.jss.plugins,\n        sheet = _this$options2.sheet; // It is a rules container like for e.g. ConditionalRule.\n\n    if (rule.rules instanceof RuleList) {\n      rule.rules.update(data, options);\n      return;\n    }\n\n    var styleRule = rule;\n    var style = styleRule.style;\n    plugins$$1.onUpdate(data, rule, sheet, options); // We rely on a new `style` ref in case it was mutated during onUpdate hook.\n\n    if (options.process && style && style !== styleRule.style) {\n      // We need to run the plugins in case new `style` relies on syntax plugins.\n      plugins$$1.onProcessStyle(styleRule.style, styleRule, sheet); // Update and add props.\n\n      for (var prop in styleRule.style) {\n        var nextValue = styleRule.style[prop];\n        var prevValue = style[prop]; // We need to use `force: true` because `rule.style` has been updated during onUpdate hook, so `rule.prop()` will not update the CSSOM rule.\n        // We do this comparison to avoid unneeded `rule.prop()` calls, since we have the old `style` object here.\n\n        if (nextValue !== prevValue) {\n          styleRule.prop(prop, nextValue, forceUpdateOptions);\n        }\n      } // Remove props.\n\n\n      for (var _prop in style) {\n        var _nextValue = styleRule.style[_prop];\n        var _prevValue = style[_prop]; // We need to use `force: true` because `rule.style` has been updated during onUpdate hook, so `rule.prop()` will not update the CSSOM rule.\n        // We do this comparison to avoid unneeded `rule.prop()` calls, since we have the old `style` object here.\n\n        if (_nextValue == null && _nextValue !== _prevValue) {\n          styleRule.prop(_prop, null, forceUpdateOptions);\n        }\n      }\n    }\n  }\n  /**\n   * Convert rules to a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(options) {\n    var str = '';\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n\n    for (var index = 0; index < this.index.length; index++) {\n      var rule = this.index[index];\n      var css = rule.toString(options); // No need to render an empty rule.\n\n      if (!css && !link) continue;\n      if (str) str += '\\n';\n      str += css;\n    }\n\n    return str;\n  };\n\n  return RuleList;\n}();\n\nvar StyleSheet =\n/*#__PURE__*/\nfunction () {\n  function StyleSheet(styles, options) {\n    this.options = void 0;\n    this.deployed = void 0;\n    this.attached = void 0;\n    this.rules = void 0;\n    this.renderer = void 0;\n    this.classes = void 0;\n    this.keyframes = void 0;\n    this.queue = void 0;\n    this.attached = false;\n    this.deployed = false;\n    this.classes = {};\n    this.keyframes = {};\n    this.options = _extends({}, options, {\n      sheet: this,\n      parent: this,\n      classes: this.classes,\n      keyframes: this.keyframes\n    });\n\n    if (options.Renderer) {\n      this.renderer = new options.Renderer(this);\n    }\n\n    this.rules = new RuleList(this.options);\n\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Attach renderable to the render tree.\n   */\n\n\n  var _proto = StyleSheet.prototype;\n\n  _proto.attach = function attach() {\n    if (this.attached) return this;\n    if (this.renderer) this.renderer.attach();\n    this.attached = true; // Order is important, because we can't use insertRule API if style element is not attached.\n\n    if (!this.deployed) this.deploy();\n    return this;\n  }\n  /**\n   * Remove renderable from render tree.\n   */\n  ;\n\n  _proto.detach = function detach() {\n    if (!this.attached) return this;\n    if (this.renderer) this.renderer.detach();\n    this.attached = false;\n    return this;\n  }\n  /**\n   * Add a rule to the current stylesheet.\n   * Will insert a rule also after the stylesheet has been rendered first time.\n   */\n  ;\n\n  _proto.addRule = function addRule(name, decl, options) {\n    var queue = this.queue; // Plugins can create rules.\n    // In order to preserve the right order, we need to queue all `.addRule` calls,\n    // which happen after the first `rules.add()` call.\n\n    if (this.attached && !queue) this.queue = [];\n    var rule = this.rules.add(name, decl, options);\n    if (!rule) return null;\n    this.options.jss.plugins.onProcessRule(rule);\n\n    if (this.attached) {\n      if (!this.deployed) return rule; // Don't insert rule directly if there is no stringified version yet.\n      // It will be inserted all together when .attach is called.\n\n      if (queue) queue.push(rule);else {\n        this.insertRule(rule);\n\n        if (this.queue) {\n          this.queue.forEach(this.insertRule, this);\n          this.queue = undefined;\n        }\n      }\n      return rule;\n    } // We can't add rules to a detached style node.\n    // We will redeploy the sheet once user will attach it.\n\n\n    this.deployed = false;\n    return rule;\n  }\n  /**\n   * Insert rule into the StyleSheet\n   */\n  ;\n\n  _proto.insertRule = function insertRule(rule) {\n    if (this.renderer) {\n      this.renderer.insertRule(rule);\n    }\n  }\n  /**\n   * Create and add rules.\n   * Will render also after Style Sheet was rendered the first time.\n   */\n  ;\n\n  _proto.addRules = function addRules(styles, options) {\n    var added = [];\n\n    for (var name in styles) {\n      var rule = this.addRule(name, styles[name], options);\n      if (rule) added.push(rule);\n    }\n\n    return added;\n  }\n  /**\n   * Get a rule by name.\n   */\n  ;\n\n  _proto.getRule = function getRule(name) {\n    return this.rules.get(name);\n  }\n  /**\n   * Delete a rule by name.\n   * Returns `true`: if rule has been deleted from the DOM.\n   */\n  ;\n\n  _proto.deleteRule = function deleteRule(name) {\n    var rule = typeof name === 'object' ? name : this.rules.get(name);\n    if (!rule) return false;\n    this.rules.remove(rule);\n\n    if (this.attached && rule.renderable && this.renderer) {\n      return this.renderer.deleteRule(rule.renderable);\n    }\n\n    return true;\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Deploy pure CSS string to a renderable.\n   */\n  ;\n\n  _proto.deploy = function deploy() {\n    if (this.renderer) this.renderer.deploy();\n    this.deployed = true;\n    return this;\n  }\n  /**\n   * Update the function values with a new data.\n   */\n  ;\n\n  _proto.update = function update() {\n    var _this$rules;\n\n    (_this$rules = this.rules).update.apply(_this$rules, arguments);\n\n    return this;\n  }\n  /**\n   * Updates a single rule.\n   */\n  ;\n\n  _proto.updateOne = function updateOne(rule, data, options) {\n    this.rules.updateOne(rule, data, options);\n    return this;\n  }\n  /**\n   * Convert rules to a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(options) {\n    return this.rules.toString(options);\n  };\n\n  return StyleSheet;\n}();\n\nvar PluginsRegistry =\n/*#__PURE__*/\nfunction () {\n  function PluginsRegistry() {\n    this.plugins = {\n      internal: [],\n      external: []\n    };\n    this.registry = void 0;\n  }\n\n  var _proto = PluginsRegistry.prototype;\n\n  /**\n   * Call `onCreateRule` hooks and return an object if returned by a hook.\n   */\n  _proto.onCreateRule = function onCreateRule(name, decl, options) {\n    for (var i = 0; i < this.registry.onCreateRule.length; i++) {\n      var rule = this.registry.onCreateRule[i](name, decl, options);\n      if (rule) return rule;\n    }\n\n    return null;\n  }\n  /**\n   * Call `onProcessRule` hooks.\n   */\n  ;\n\n  _proto.onProcessRule = function onProcessRule(rule) {\n    if (rule.isProcessed) return;\n    var sheet = rule.options.sheet;\n\n    for (var i = 0; i < this.registry.onProcessRule.length; i++) {\n      this.registry.onProcessRule[i](rule, sheet);\n    }\n\n    if (rule.style) this.onProcessStyle(rule.style, rule, sheet);\n    rule.isProcessed = true;\n  }\n  /**\n   * Call `onProcessStyle` hooks.\n   */\n  ;\n\n  _proto.onProcessStyle = function onProcessStyle(style, rule, sheet) {\n    for (var i = 0; i < this.registry.onProcessStyle.length; i++) {\n      // $FlowFixMe\n      rule.style = this.registry.onProcessStyle[i](rule.style, rule, sheet);\n    }\n  }\n  /**\n   * Call `onProcessSheet` hooks.\n   */\n  ;\n\n  _proto.onProcessSheet = function onProcessSheet(sheet) {\n    for (var i = 0; i < this.registry.onProcessSheet.length; i++) {\n      this.registry.onProcessSheet[i](sheet);\n    }\n  }\n  /**\n   * Call `onUpdate` hooks.\n   */\n  ;\n\n  _proto.onUpdate = function onUpdate(data, rule, sheet, options) {\n    for (var i = 0; i < this.registry.onUpdate.length; i++) {\n      this.registry.onUpdate[i](data, rule, sheet, options);\n    }\n  }\n  /**\n   * Call `onChangeValue` hooks.\n   */\n  ;\n\n  _proto.onChangeValue = function onChangeValue(value, prop, rule) {\n    var processedValue = value;\n\n    for (var i = 0; i < this.registry.onChangeValue.length; i++) {\n      processedValue = this.registry.onChangeValue[i](processedValue, prop, rule);\n    }\n\n    return processedValue;\n  }\n  /**\n   * Register a plugin.\n   */\n  ;\n\n  _proto.use = function use(newPlugin, options) {\n    if (options === void 0) {\n      options = {\n        queue: 'external'\n      };\n    }\n\n    var plugins = this.plugins[options.queue]; // Avoids applying same plugin twice, at least based on ref.\n\n    if (plugins.indexOf(newPlugin) !== -1) {\n      return;\n    }\n\n    plugins.push(newPlugin);\n    this.registry = [].concat(this.plugins.external, this.plugins.internal).reduce(function (registry, plugin) {\n      for (var name in plugin) {\n        if (name in registry) {\n          registry[name].push(plugin[name]);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Unknown hook \\\"\" + name + \"\\\".\") : void 0;\n        }\n      }\n\n      return registry;\n    }, {\n      onCreateRule: [],\n      onProcessRule: [],\n      onProcessStyle: [],\n      onProcessSheet: [],\n      onChangeValue: [],\n      onUpdate: []\n    });\n  };\n\n  return PluginsRegistry;\n}();\n\n/**\n * Sheets registry to access them all at one place.\n */\nvar SheetsRegistry =\n/*#__PURE__*/\nfunction () {\n  function SheetsRegistry() {\n    this.registry = [];\n  }\n\n  var _proto = SheetsRegistry.prototype;\n\n  /**\n   * Register a Style Sheet.\n   */\n  _proto.add = function add(sheet) {\n    var registry = this.registry;\n    var index = sheet.options.index;\n    if (registry.indexOf(sheet) !== -1) return;\n\n    if (registry.length === 0 || index >= this.index) {\n      registry.push(sheet);\n      return;\n    } // Find a position.\n\n\n    for (var i = 0; i < registry.length; i++) {\n      if (registry[i].options.index > index) {\n        registry.splice(i, 0, sheet);\n        return;\n      }\n    }\n  }\n  /**\n   * Reset the registry.\n   */\n  ;\n\n  _proto.reset = function reset() {\n    this.registry = [];\n  }\n  /**\n   * Remove a Style Sheet.\n   */\n  ;\n\n  _proto.remove = function remove(sheet) {\n    var index = this.registry.indexOf(sheet);\n    this.registry.splice(index, 1);\n  }\n  /**\n   * Convert all attached sheets to a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        attached = _ref.attached,\n        options = _objectWithoutPropertiesLoose(_ref, [\"attached\"]);\n\n    var css = '';\n\n    for (var i = 0; i < this.registry.length; i++) {\n      var sheet = this.registry[i];\n\n      if (attached != null && sheet.attached !== attached) {\n        continue;\n      }\n\n      if (css) css += '\\n';\n      css += sheet.toString(options);\n    }\n\n    return css;\n  };\n\n  _createClass(SheetsRegistry, [{\n    key: \"index\",\n\n    /**\n     * Current highest index number.\n     */\n    get: function get() {\n      return this.registry.length === 0 ? 0 : this.registry[this.registry.length - 1].options.index;\n    }\n  }]);\n\n  return SheetsRegistry;\n}();\n\n/**\n * This is a global sheets registry. Only DomRenderer will add sheets to it.\n * On the server one should use an own SheetsRegistry instance and add the\n * sheets to it, because you need to make sure to create a new registry for\n * each request in order to not leak sheets across requests.\n */\n\nvar sheets = new SheetsRegistry();\n\n/* eslint-disable */\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar globalThis = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\nvar ns = '2f1acc6c3a606b082e5eef5e54414ffb';\nif (globalThis[ns] == null) globalThis[ns] = 0; // Bundle may contain multiple JSS versions at the same time. In order to identify\n// the current version with just one short number and use it for classes generation\n// we use a counter. Also it is more accurate, because user can manually reevaluate\n// the module.\n\nvar moduleId = globalThis[ns]++;\n\nvar maxRules = 1e10;\n\n/**\n * Returns a function which generates unique class names based on counters.\n * When new generator function is created, rule counter is reseted.\n * We need to reset the rule counter for SSR for each request.\n */\nvar createGenerateId = function createGenerateId(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var ruleCounter = 0;\n  return function (rule, sheet) {\n    ruleCounter += 1;\n\n    if (ruleCounter > maxRules) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] You might have a memory leak. Rule counter is at \" + ruleCounter + \".\") : void 0;\n    }\n\n    var jssId = '';\n    var prefix = '';\n\n    if (sheet) {\n      if (sheet.options.classNamePrefix) {\n        prefix = sheet.options.classNamePrefix;\n      }\n\n      if (sheet.options.jss.id != null) {\n        jssId = String(sheet.options.jss.id);\n      }\n    }\n\n    if (options.minify) {\n      // Using \"c\" because a number can't be the first char in a class name.\n      return \"\" + (prefix || 'c') + moduleId + jssId + ruleCounter;\n    }\n\n    return prefix + rule.key + \"-\" + moduleId + (jssId ? \"-\" + jssId : '') + \"-\" + ruleCounter;\n  };\n};\n\n/**\n * Cache the value from the first time a function is called.\n */\nvar memoize$1 = function memoize(fn) {\n  var value;\n  return function () {\n    if (!value) value = fn();\n    return value;\n  };\n};\n/**\n * Get a style property value.\n */\n\n\nfunction getPropertyValue(cssRule, prop) {\n  try {\n    // Support CSSTOM.\n    if (cssRule.attributeStyleMap) {\n      return cssRule.attributeStyleMap.get(prop);\n    }\n\n    return cssRule.style.getPropertyValue(prop);\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return '';\n  }\n}\n/**\n * Set a style property.\n */\n\n\nfunction setProperty(cssRule, prop, value) {\n  try {\n    var cssValue = value;\n\n    if (Array.isArray(value)) {\n      cssValue = toCssValue(value, true);\n\n      if (value[value.length - 1] === '!important') {\n        cssRule.style.setProperty(prop, cssValue, 'important');\n        return true;\n      }\n    } // Support CSSTOM.\n\n\n    if (cssRule.attributeStyleMap) {\n      cssRule.attributeStyleMap.set(prop, cssValue);\n    } else {\n      cssRule.style.setProperty(prop, cssValue);\n    }\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return false;\n  }\n\n  return true;\n}\n/**\n * Remove a style property.\n */\n\n\nfunction removeProperty(cssRule, prop) {\n  try {\n    // Support CSSTOM.\n    if (cssRule.attributeStyleMap) {\n      cssRule.attributeStyleMap.delete(prop);\n    } else {\n      cssRule.style.removeProperty(prop);\n    }\n  } catch (err) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] DOMException \\\"\" + err.message + \"\\\" was thrown. Tried to remove property \\\"\" + prop + \"\\\".\") : void 0;\n  }\n}\n/**\n * Set the selector.\n */\n\n\nfunction setSelector(cssRule, selectorText) {\n  cssRule.selectorText = selectorText; // Return false if setter was not successful.\n  // Currently works in chrome only.\n\n  return cssRule.selectorText === selectorText;\n}\n/**\n * Gets the `head` element upon the first call and caches it.\n * We assume it can't be null.\n */\n\n\nvar getHead = memoize$1(function () {\n  return document.querySelector('head');\n});\n/**\n * Find attached sheet with an index higher than the passed one.\n */\n\nfunction findHigherSheet(registry, options) {\n  for (var i = 0; i < registry.length; i++) {\n    var sheet = registry[i];\n\n    if (sheet.attached && sheet.options.index > options.index && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n\n  return null;\n}\n/**\n * Find attached sheet with the highest index.\n */\n\n\nfunction findHighestSheet(registry, options) {\n  for (var i = registry.length - 1; i >= 0; i--) {\n    var sheet = registry[i];\n\n    if (sheet.attached && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n\n  return null;\n}\n/**\n * Find a comment with \"jss\" inside.\n */\n\n\nfunction findCommentNode(text) {\n  var head = getHead();\n\n  for (var i = 0; i < head.childNodes.length; i++) {\n    var node = head.childNodes[i];\n\n    if (node.nodeType === 8 && node.nodeValue.trim() === text) {\n      return node;\n    }\n  }\n\n  return null;\n}\n\n/**\n * Find a node before which we can insert the sheet.\n */\nfunction findPrevNode(options) {\n  var registry = sheets.registry;\n\n  if (registry.length > 0) {\n    // Try to insert before the next higher sheet.\n    var sheet = findHigherSheet(registry, options);\n\n    if (sheet && sheet.renderer) {\n      return {\n        parent: sheet.renderer.element.parentNode,\n        node: sheet.renderer.element\n      };\n    } // Otherwise insert after the last attached.\n\n\n    sheet = findHighestSheet(registry, options);\n\n    if (sheet && sheet.renderer) {\n      return {\n        parent: sheet.renderer.element.parentNode,\n        node: sheet.renderer.element.nextSibling\n      };\n    }\n  } // Try to find a comment placeholder if registry is empty.\n\n\n  var insertionPoint = options.insertionPoint;\n\n  if (insertionPoint && typeof insertionPoint === 'string') {\n    var comment = findCommentNode(insertionPoint);\n\n    if (comment) {\n      return {\n        parent: comment.parentNode,\n        node: comment.nextSibling\n      };\n    } // If user specifies an insertion point and it can't be found in the document -\n    // bad specificity issues may appear.\n\n\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Insertion point \\\"\" + insertionPoint + \"\\\" not found.\") : void 0;\n  }\n\n  return false;\n}\n/**\n * Insert style element into the DOM.\n */\n\n\nfunction insertStyle(style, options) {\n  var insertionPoint = options.insertionPoint;\n  var nextNode = findPrevNode(options);\n\n  if (nextNode !== false && nextNode.parent) {\n    nextNode.parent.insertBefore(style, nextNode.node);\n    return;\n  } // Works with iframes and any node types.\n\n\n  if (insertionPoint && typeof insertionPoint.nodeType === 'number') {\n    // https://stackoverflow.com/questions/41328728/force-casting-in-flow\n    var insertionPointElement = insertionPoint;\n    var parentNode = insertionPointElement.parentNode;\n    if (parentNode) parentNode.insertBefore(style, insertionPointElement.nextSibling);else process.env.NODE_ENV !== \"production\" ? warning(false, '[JSS] Insertion point is not in the DOM.') : void 0;\n    return;\n  }\n\n  getHead().appendChild(style);\n}\n/**\n * Read jss nonce setting from the page if the user has set it.\n */\n\n\nvar getNonce = memoize$1(function () {\n  var node = document.querySelector('meta[property=\"csp-nonce\"]');\n  return node ? node.getAttribute('content') : null;\n});\n\nvar _insertRule = function insertRule(container, rule, index) {\n  var maxIndex = container.cssRules.length; // In case previous insertion fails, passed index might be wrong\n\n  if (index === undefined || index > maxIndex) {\n    // eslint-disable-next-line no-param-reassign\n    index = maxIndex;\n  }\n\n  try {\n    if ('insertRule' in container) {\n      var c = container;\n      c.insertRule(rule, index);\n    } // Keyframes rule.\n    else if ('appendRule' in container) {\n        var _c = container;\n\n        _c.appendRule(rule);\n      }\n  } catch (err) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] \" + err.message) : void 0;\n    return false;\n  }\n\n  return container.cssRules[index];\n};\n\nvar createStyle = function createStyle() {\n  var el = document.createElement('style'); // Without it, IE will have a broken source order specificity if we\n  // insert rules after we insert the style tag.\n  // It seems to kick-off the source order specificity algorithm.\n\n  el.textContent = '\\n';\n  return el;\n};\n\nvar DomRenderer =\n/*#__PURE__*/\nfunction () {\n  // HTMLStyleElement needs fixing https://github.com/facebook/flow/issues/2696\n  function DomRenderer(sheet) {\n    this.getPropertyValue = getPropertyValue;\n    this.setProperty = setProperty;\n    this.removeProperty = removeProperty;\n    this.setSelector = setSelector;\n    this.element = void 0;\n    this.sheet = void 0;\n    this.hasInsertedRules = false;\n    // There is no sheet when the renderer is used from a standalone StyleRule.\n    if (sheet) sheets.add(sheet);\n    this.sheet = sheet;\n\n    var _ref = this.sheet ? this.sheet.options : {},\n        media = _ref.media,\n        meta = _ref.meta,\n        element = _ref.element;\n\n    this.element = element || createStyle();\n    this.element.setAttribute('data-jss', '');\n    if (media) this.element.setAttribute('media', media);\n    if (meta) this.element.setAttribute('data-meta', meta);\n    var nonce = getNonce();\n    if (nonce) this.element.setAttribute('nonce', nonce);\n  }\n  /**\n   * Insert style element into render tree.\n   */\n\n\n  var _proto = DomRenderer.prototype;\n\n  _proto.attach = function attach() {\n    // In the case the element node is external and it is already in the DOM.\n    if (this.element.parentNode || !this.sheet) return;\n    insertStyle(this.element, this.sheet.options); // When rules are inserted using `insertRule` API, after `sheet.detach().attach()`\n    // most browsers create a new CSSStyleSheet, except of all IEs.\n\n    var deployed = Boolean(this.sheet && this.sheet.deployed);\n\n    if (this.hasInsertedRules && deployed) {\n      this.hasInsertedRules = false;\n      this.deploy();\n    }\n  }\n  /**\n   * Remove style element from render tree.\n   */\n  ;\n\n  _proto.detach = function detach() {\n    var parentNode = this.element.parentNode;\n    if (parentNode) parentNode.removeChild(this.element);\n  }\n  /**\n   * Inject CSS string into element.\n   */\n  ;\n\n  _proto.deploy = function deploy() {\n    var sheet = this.sheet;\n    if (!sheet) return;\n\n    if (sheet.options.link) {\n      this.insertRules(sheet.rules);\n      return;\n    }\n\n    this.element.textContent = \"\\n\" + sheet.toString() + \"\\n\";\n  }\n  /**\n   * Insert RuleList into an element.\n   */\n  ;\n\n  _proto.insertRules = function insertRules(rules, nativeParent) {\n    for (var i = 0; i < rules.index.length; i++) {\n      this.insertRule(rules.index[i], i, nativeParent);\n    }\n  }\n  /**\n   * Insert a rule into element.\n   */\n  ;\n\n  _proto.insertRule = function insertRule(rule, index, nativeParent) {\n    if (nativeParent === void 0) {\n      nativeParent = this.element.sheet;\n    }\n\n    if (rule.rules) {\n      var parent = rule;\n      var latestNativeParent = nativeParent;\n\n      if (rule.type === 'conditional' || rule.type === 'keyframes') {\n        // We need to render the container without children first.\n        latestNativeParent = _insertRule(nativeParent, parent.toString({\n          children: false\n        }), index);\n\n        if (latestNativeParent === false) {\n          return false;\n        }\n      }\n\n      this.insertRules(parent.rules, latestNativeParent);\n      return latestNativeParent;\n    } // IE keeps the CSSStyleSheet after style node has been reattached,\n    // so we need to check if the `renderable` reference the right style sheet and not\n    // rerender those rules.\n\n\n    if (rule.renderable && rule.renderable.parentStyleSheet === this.element.sheet) {\n      return rule.renderable;\n    }\n\n    var ruleStr = rule.toString();\n    if (!ruleStr) return false;\n\n    var nativeRule = _insertRule(nativeParent, ruleStr, index);\n\n    if (nativeRule === false) {\n      return false;\n    }\n\n    this.hasInsertedRules = true;\n    rule.renderable = nativeRule;\n    return nativeRule;\n  }\n  /**\n   * Delete a rule.\n   */\n  ;\n\n  _proto.deleteRule = function deleteRule(cssRule) {\n    var sheet = this.element.sheet;\n    var index = this.indexOf(cssRule);\n    if (index === -1) return false;\n    sheet.deleteRule(index);\n    return true;\n  }\n  /**\n   * Get index of a CSS Rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(cssRule) {\n    var cssRules = this.element.sheet.cssRules;\n\n    for (var index = 0; index < cssRules.length; index++) {\n      if (cssRule === cssRules[index]) return index;\n    }\n\n    return -1;\n  }\n  /**\n   * Generate a new CSS rule and replace the existing one.\n   *\n   * Only used for some old browsers because they can't set a selector.\n   */\n  ;\n\n  _proto.replaceRule = function replaceRule(cssRule, rule) {\n    var index = this.indexOf(cssRule);\n    if (index === -1) return false;\n    this.element.sheet.deleteRule(index);\n    return this.insertRule(rule, index);\n  }\n  /**\n   * Get all rules elements.\n   */\n  ;\n\n  _proto.getRules = function getRules() {\n    return this.element.sheet.cssRules;\n  };\n\n  return DomRenderer;\n}();\n\nvar instanceCounter = 0;\n\nvar Jss =\n/*#__PURE__*/\nfunction () {\n  function Jss(options) {\n    this.id = instanceCounter++;\n    this.version = \"10.1.1\";\n    this.plugins = new PluginsRegistry();\n    this.options = {\n      id: {\n        minify: false\n      },\n      createGenerateId: createGenerateId,\n      Renderer: isBrowser ? DomRenderer : null,\n      plugins: []\n    };\n    this.generateId = createGenerateId({\n      minify: false\n    });\n\n    for (var i = 0; i < plugins.length; i++) {\n      this.plugins.use(plugins[i], {\n        queue: 'internal'\n      });\n    }\n\n    this.setup(options);\n  }\n  /**\n   * Prepares various options, applies plugins.\n   * Should not be used twice on the same instance, because there is no plugins\n   * deduplication logic.\n   */\n\n\n  var _proto = Jss.prototype;\n\n  _proto.setup = function setup(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (options.createGenerateId) {\n      this.options.createGenerateId = options.createGenerateId;\n    }\n\n    if (options.id) {\n      this.options.id = _extends({}, this.options.id, options.id);\n    }\n\n    if (options.createGenerateId || options.id) {\n      this.generateId = this.options.createGenerateId(this.options.id);\n    }\n\n    if (options.insertionPoint != null) this.options.insertionPoint = options.insertionPoint;\n\n    if ('Renderer' in options) {\n      this.options.Renderer = options.Renderer;\n    } // eslint-disable-next-line prefer-spread\n\n\n    if (options.plugins) this.use.apply(this, options.plugins);\n    return this;\n  }\n  /**\n   * Create a Style Sheet.\n   */\n  ;\n\n  _proto.createStyleSheet = function createStyleSheet(styles, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _options = options,\n        index = _options.index;\n\n    if (typeof index !== 'number') {\n      index = sheets.index === 0 ? 0 : sheets.index + 1;\n    }\n\n    var sheet = new StyleSheet(styles, _extends({}, options, {\n      jss: this,\n      generateId: options.generateId || this.generateId,\n      insertionPoint: this.options.insertionPoint,\n      Renderer: this.options.Renderer,\n      index: index\n    }));\n    this.plugins.onProcessSheet(sheet);\n    return sheet;\n  }\n  /**\n   * Detach the Style Sheet and remove it from the registry.\n   */\n  ;\n\n  _proto.removeStyleSheet = function removeStyleSheet(sheet) {\n    sheet.detach();\n    sheets.remove(sheet);\n    return this;\n  }\n  /**\n   * Create a rule without a Style Sheet.\n   * [Deprecated] will be removed in the next major version.\n   */\n  ;\n\n  _proto.createRule = function createRule$$1(name, style, options) {\n    if (style === void 0) {\n      style = {};\n    }\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    // Enable rule without name for inline styles.\n    if (typeof name === 'object') {\n      return this.createRule(undefined, name, style);\n    }\n\n    var ruleOptions = _extends({}, options, {\n      name: name,\n      jss: this,\n      Renderer: this.options.Renderer\n    });\n\n    if (!ruleOptions.generateId) ruleOptions.generateId = this.generateId;\n    if (!ruleOptions.classes) ruleOptions.classes = {};\n    if (!ruleOptions.keyframes) ruleOptions.keyframes = {};\n\n    var rule = createRule(name, style, ruleOptions);\n\n    if (rule) this.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Register plugin. Passed function will be invoked with a rule instance.\n   */\n  ;\n\n  _proto.use = function use() {\n    var _this = this;\n\n    for (var _len = arguments.length, plugins$$1 = new Array(_len), _key = 0; _key < _len; _key++) {\n      plugins$$1[_key] = arguments[_key];\n    }\n\n    plugins$$1.forEach(function (plugin) {\n      _this.plugins.use(plugin);\n    });\n    return this;\n  };\n\n  return Jss;\n}();\n\n/**\n * Extracts a styles object with only props that contain function values.\n */\nfunction getDynamicStyles(styles) {\n  var to = null;\n\n  for (var key in styles) {\n    var value = styles[key];\n    var type = typeof value;\n\n    if (type === 'function') {\n      if (!to) to = {};\n      to[key] = value;\n    } else if (type === 'object' && value !== null && !Array.isArray(value)) {\n      var extracted = getDynamicStyles(value);\n\n      if (extracted) {\n        if (!to) to = {};\n        to[key] = extracted;\n      }\n    }\n  }\n\n  return to;\n}\n\n/**\n * A better abstraction over CSS.\n *\n * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present\n * @website https://github.com/cssinjs/jss\n * @license MIT\n */\n\n/**\n * Export a constant indicating if this browser has CSSTOM support.\n * https://developers.google.com/web/updates/2018/03/cssom\n */\nvar hasCSSTOMSupport = typeof CSS !== 'undefined' && CSS && 'number' in CSS;\n/**\n * Creates a new instance of Jss.\n */\n\nvar create = function create(options) {\n  return new Jss(options);\n};\n/**\n * A global Jss instance.\n */\n\nvar index = create();\n\nvar now = Date.now();\nvar fnValuesNs = \"fnValues\" + now;\nvar fnRuleNs = \"fnStyle\" + ++now;\nfunction functionPlugin() {\n  return {\n    onCreateRule: function onCreateRule(name, decl, options) {\n      if (typeof decl !== 'function') return null;\n      var rule = createRule(name, {}, options);\n      rule[fnRuleNs] = decl;\n      return rule;\n    },\n    onProcessStyle: function onProcessStyle(style, rule) {\n      // We need to extract function values from the declaration, so that we can keep core unaware of them.\n      // We need to do that only once.\n      // We don't need to extract functions on each style update, since this can happen only once.\n      // We don't support function values inside of function rules.\n      if (fnValuesNs in rule || fnRuleNs in rule) return style;\n      var fnValues = {};\n\n      for (var prop in style) {\n        var value = style[prop];\n        if (typeof value !== 'function') continue;\n        delete style[prop];\n        fnValues[prop] = value;\n      } // $FlowFixMe\n\n\n      rule[fnValuesNs] = fnValues;\n      return style;\n    },\n    onUpdate: function onUpdate(data, rule, sheet, options) {\n      var styleRule = rule;\n      var fnRule = styleRule[fnRuleNs]; // If we have a style function, the entire rule is dynamic and style object\n      // will be returned from that function.\n\n      if (fnRule) {\n        // Empty object will remove all currently defined props\n        // in case function rule returns a falsy value.\n        styleRule.style = fnRule(data) || {};\n\n        if (process.env.NODE_ENV === 'development') {\n          for (var prop in styleRule.style) {\n            if (typeof styleRule.style[prop] === 'function') {\n              process.env.NODE_ENV !== \"production\" ? warning(false, '[JSS] Function values inside function rules are not supported.') : void 0;\n              break;\n            }\n          }\n        }\n      }\n\n      var fnValues = styleRule[fnValuesNs]; // If we have a fn values map, it is a rule with function values.\n\n      if (fnValues) {\n        for (var _prop in fnValues) {\n          styleRule.prop(_prop, fnValues[_prop](data), options);\n        }\n      }\n    }\n  };\n}\n\nvar at = '@global';\nvar atPrefix = '@global ';\n\nvar GlobalContainerRule =\n/*#__PURE__*/\nfunction () {\n  function GlobalContainerRule(key, styles, options) {\n    this.type = 'global';\n    this.at = at;\n    this.rules = void 0;\n    this.options = void 0;\n    this.key = void 0;\n    this.isProcessed = false;\n    this.key = key;\n    this.options = options;\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var selector in styles) {\n      this.rules.add(selector, styles[selector]);\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Get a rule.\n   */\n\n\n  var _proto = GlobalContainerRule.prototype;\n\n  _proto.getRule = function getRule(name) {\n    return this.rules.get(name);\n  }\n  /**\n   * Create and register rule, run plugins.\n   */\n  ;\n\n  _proto.addRule = function addRule(name, style, options) {\n    var rule = this.rules.add(name, style, options);\n    this.options.jss.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Generates a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString() {\n    return this.rules.toString();\n  };\n\n  return GlobalContainerRule;\n}();\n\nvar GlobalPrefixedRule =\n/*#__PURE__*/\nfunction () {\n  function GlobalPrefixedRule(key, style, options) {\n    this.type = 'global';\n    this.at = at;\n    this.options = void 0;\n    this.rule = void 0;\n    this.isProcessed = false;\n    this.key = void 0;\n    this.key = key;\n    this.options = options;\n    var selector = key.substr(atPrefix.length);\n    this.rule = options.jss.createRule(selector, style, _extends({}, options, {\n      parent: this\n    }));\n  }\n\n  var _proto2 = GlobalPrefixedRule.prototype;\n\n  _proto2.toString = function toString(options) {\n    return this.rule ? this.rule.toString(options) : '';\n  };\n\n  return GlobalPrefixedRule;\n}();\n\nvar separatorRegExp = /\\s*,\\s*/g;\n\nfunction addScope(selector, scope) {\n  var parts = selector.split(separatorRegExp);\n  var scoped = '';\n\n  for (var i = 0; i < parts.length; i++) {\n    scoped += scope + \" \" + parts[i].trim();\n    if (parts[i + 1]) scoped += ', ';\n  }\n\n  return scoped;\n}\n\nfunction handleNestedGlobalContainerRule(rule) {\n  var options = rule.options,\n      style = rule.style;\n  var rules = style ? style[at] : null;\n  if (!rules) return;\n\n  for (var name in rules) {\n    options.sheet.addRule(name, rules[name], _extends({}, options, {\n      selector: addScope(name, rule.selector)\n    }));\n  }\n\n  delete style[at];\n}\n\nfunction handlePrefixedGlobalRule(rule) {\n  var options = rule.options,\n      style = rule.style;\n\n  for (var prop in style) {\n    if (prop[0] !== '@' || prop.substr(0, at.length) !== at) continue;\n    var selector = addScope(prop.substr(at.length), rule.selector);\n    options.sheet.addRule(selector, style[prop], _extends({}, options, {\n      selector: selector\n    }));\n    delete style[prop];\n  }\n}\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\n\n\nfunction jssGlobal() {\n  function onCreateRule(name, styles, options) {\n    if (!name) return null;\n\n    if (name === at) {\n      return new GlobalContainerRule(name, styles, options);\n    }\n\n    if (name[0] === '@' && name.substr(0, atPrefix.length) === atPrefix) {\n      return new GlobalPrefixedRule(name, styles, options);\n    }\n\n    var parent = options.parent;\n\n    if (parent) {\n      if (parent.type === 'global' || parent.options.parent && parent.options.parent.type === 'global') {\n        options.scoped = false;\n      }\n    }\n\n    if (options.scoped === false) {\n      options.selector = name;\n    }\n\n    return null;\n  }\n\n  function onProcessRule(rule) {\n    if (rule.type !== 'style') return;\n    handleNestedGlobalContainerRule(rule);\n    handlePrefixedGlobalRule(rule);\n  }\n\n  return {\n    onCreateRule: onCreateRule,\n    onProcessRule: onProcessRule\n  };\n}\n\nvar separatorRegExp$1 = /\\s*,\\s*/g;\nvar parentRegExp = /&/g;\nvar refRegExp$1 = /\\$([\\w-]+)/g;\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\n\nfunction jssNested() {\n  // Get a function to be used for $ref replacement.\n  function getReplaceRef(container, sheet) {\n    return function (match, key) {\n      var rule = container.getRule(key) || sheet && sheet.getRule(key);\n\n      if (rule) {\n        rule = rule;\n        return rule.selector;\n      }\n\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Could not find the referenced rule \\\"\" + key + \"\\\" in \\\"\" + (container.options.meta || container.toString()) + \"\\\".\") : void 0;\n      return key;\n    };\n  }\n\n  function replaceParentRefs(nestedProp, parentProp) {\n    var parentSelectors = parentProp.split(separatorRegExp$1);\n    var nestedSelectors = nestedProp.split(separatorRegExp$1);\n    var result = '';\n\n    for (var i = 0; i < parentSelectors.length; i++) {\n      var parent = parentSelectors[i];\n\n      for (var j = 0; j < nestedSelectors.length; j++) {\n        var nested = nestedSelectors[j];\n        if (result) result += ', '; // Replace all & by the parent or prefix & with the parent.\n\n        result += nested.indexOf('&') !== -1 ? nested.replace(parentRegExp, parent) : parent + \" \" + nested;\n      }\n    }\n\n    return result;\n  }\n\n  function getOptions(rule, container, prevOptions) {\n    // Options has been already created, now we only increase index.\n    if (prevOptions) return _extends({}, prevOptions, {\n      index: prevOptions.index + 1\n    });\n    var nestingLevel = rule.options.nestingLevel;\n    nestingLevel = nestingLevel === undefined ? 1 : nestingLevel + 1;\n\n    var options = _extends({}, rule.options, {\n      nestingLevel: nestingLevel,\n      index: container.indexOf(rule) + 1 // We don't need the parent name to be set options for chlid.\n\n    });\n\n    delete options.name;\n    return options;\n  }\n\n  function onProcessStyle(style, rule, sheet) {\n    if (rule.type !== 'style') return style;\n    var styleRule = rule;\n    var container = styleRule.options.parent;\n    var options;\n    var replaceRef;\n\n    for (var prop in style) {\n      var isNested = prop.indexOf('&') !== -1;\n      var isNestedConditional = prop[0] === '@';\n      if (!isNested && !isNestedConditional) continue;\n      options = getOptions(styleRule, container, options);\n\n      if (isNested) {\n        var selector = replaceParentRefs(prop, styleRule.selector); // Lazily create the ref replacer function just once for\n        // all nested rules within the sheet.\n\n        if (!replaceRef) replaceRef = getReplaceRef(container, sheet); // Replace all $refs.\n\n        selector = selector.replace(refRegExp$1, replaceRef);\n        container.addRule(selector, style[prop], _extends({}, options, {\n          selector: selector\n        }));\n      } else if (isNestedConditional) {\n        // Place conditional right after the parent rule to ensure right ordering.\n        container.addRule(prop, {}, options) // Flow expects more options but they aren't required\n        // And flow doesn't know this will always be a StyleRule which has the addRule method\n        // $FlowFixMe\n        .addRule(styleRule.key, style[prop], {\n          selector: styleRule.selector\n        });\n      }\n\n      delete style[prop];\n    }\n\n    return style;\n  }\n\n  return {\n    onProcessStyle: onProcessStyle\n  };\n}\n\n/* eslint-disable no-var, prefer-template */\nvar uppercasePattern = /[A-Z]/g;\nvar msPattern = /^ms-/;\nvar cache = {};\n\nfunction toHyphenLower(match) {\n  return '-' + match.toLowerCase()\n}\n\nfunction hyphenateStyleName(name) {\n  if (cache.hasOwnProperty(name)) {\n    return cache[name]\n  }\n\n  var hName = name.replace(uppercasePattern, toHyphenLower);\n  return (cache[name] = msPattern.test(hName) ? '-' + hName : hName)\n}\n\n/**\n * Convert camel cased property names to dash separated.\n *\n * @param {Object} style\n * @return {Object}\n */\n\nfunction convertCase(style) {\n  var converted = {};\n\n  for (var prop in style) {\n    var key = prop.indexOf('--') === 0 ? prop : hyphenateStyleName(prop);\n    converted[key] = style[prop];\n  }\n\n  if (style.fallbacks) {\n    if (Array.isArray(style.fallbacks)) converted.fallbacks = style.fallbacks.map(convertCase);else converted.fallbacks = convertCase(style.fallbacks);\n  }\n\n  return converted;\n}\n/**\n * Allow camel cased property names by converting them back to dasherized.\n *\n * @param {Rule} rule\n */\n\n\nfunction camelCase() {\n  function onProcessStyle(style) {\n    if (Array.isArray(style)) {\n      // Handle rules like @font-face, which can have multiple styles in an array\n      for (var index = 0; index < style.length; index++) {\n        style[index] = convertCase(style[index]);\n      }\n\n      return style;\n    }\n\n    return convertCase(style);\n  }\n\n  function onChangeValue(value, prop, rule) {\n    if (prop.indexOf('--') === 0) {\n      return value;\n    }\n\n    var hyphenatedProp = hyphenateStyleName(prop); // There was no camel case in place\n\n    if (prop === hyphenatedProp) return value;\n    rule.prop(hyphenatedProp, value); // Core will ignore that property value we set the proper one above.\n\n    return null;\n  }\n\n  return {\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\n\nvar px = hasCSSTOMSupport && CSS ? CSS.px : 'px';\nvar ms = hasCSSTOMSupport && CSS ? CSS.ms : 'ms';\nvar percent = hasCSSTOMSupport && CSS ? CSS.percent : '%';\n/**\n * Generated jss-plugin-default-unit CSS property units\n *\n * @type object\n */\n\nvar defaultUnits = {\n  // Animation properties\n  'animation-delay': ms,\n  'animation-duration': ms,\n  // Background properties\n  'background-position': px,\n  'background-position-x': px,\n  'background-position-y': px,\n  'background-size': px,\n  // Border Properties\n  border: px,\n  'border-bottom': px,\n  'border-bottom-left-radius': px,\n  'border-bottom-right-radius': px,\n  'border-bottom-width': px,\n  'border-left': px,\n  'border-left-width': px,\n  'border-radius': px,\n  'border-right': px,\n  'border-right-width': px,\n  'border-top': px,\n  'border-top-left-radius': px,\n  'border-top-right-radius': px,\n  'border-top-width': px,\n  'border-width': px,\n  // Margin properties\n  margin: px,\n  'margin-bottom': px,\n  'margin-left': px,\n  'margin-right': px,\n  'margin-top': px,\n  // Padding properties\n  padding: px,\n  'padding-bottom': px,\n  'padding-left': px,\n  'padding-right': px,\n  'padding-top': px,\n  // Mask properties\n  'mask-position-x': px,\n  'mask-position-y': px,\n  'mask-size': px,\n  // Width and height properties\n  height: px,\n  width: px,\n  'min-height': px,\n  'max-height': px,\n  'min-width': px,\n  'max-width': px,\n  // Position properties\n  bottom: px,\n  left: px,\n  top: px,\n  right: px,\n  // Shadow properties\n  'box-shadow': px,\n  'text-shadow': px,\n  // Column properties\n  'column-gap': px,\n  'column-rule': px,\n  'column-rule-width': px,\n  'column-width': px,\n  // Font and text properties\n  'font-size': px,\n  'font-size-delta': px,\n  'letter-spacing': px,\n  'text-indent': px,\n  'text-stroke': px,\n  'text-stroke-width': px,\n  'word-spacing': px,\n  // Motion properties\n  motion: px,\n  'motion-offset': px,\n  // Outline properties\n  outline: px,\n  'outline-offset': px,\n  'outline-width': px,\n  // Perspective properties\n  perspective: px,\n  'perspective-origin-x': percent,\n  'perspective-origin-y': percent,\n  // Transform properties\n  'transform-origin': percent,\n  'transform-origin-x': percent,\n  'transform-origin-y': percent,\n  'transform-origin-z': percent,\n  // Transition properties\n  'transition-delay': ms,\n  'transition-duration': ms,\n  // Alignment properties\n  'vertical-align': px,\n  'flex-basis': px,\n  // Some random properties\n  'shape-margin': px,\n  size: px,\n  // Grid properties\n  grid: px,\n  'grid-gap': px,\n  'grid-row-gap': px,\n  'grid-column-gap': px,\n  'grid-template-rows': px,\n  'grid-template-columns': px,\n  'grid-auto-rows': px,\n  'grid-auto-columns': px,\n  // Not existing properties.\n  // Used to avoid issues with jss-plugin-expand integration.\n  'box-shadow-x': px,\n  'box-shadow-y': px,\n  'box-shadow-blur': px,\n  'box-shadow-spread': px,\n  'font-line-height': px,\n  'text-shadow-x': px,\n  'text-shadow-y': px,\n  'text-shadow-blur': px\n};\n\n/**\n * Clones the object and adds a camel cased property version.\n */\nfunction addCamelCasedVersion(obj) {\n  var regExp = /(-[a-z])/g;\n\n  var replace = function replace(str) {\n    return str[1].toUpperCase();\n  };\n\n  var newObj = {};\n\n  for (var _key in obj) {\n    newObj[_key] = obj[_key];\n    newObj[_key.replace(regExp, replace)] = obj[_key];\n  }\n\n  return newObj;\n}\n\nvar units = addCamelCasedVersion(defaultUnits);\n/**\n * Recursive deep style passing function\n */\n\nfunction iterate(prop, value, options) {\n  if (!value) return value;\n\n  if (Array.isArray(value)) {\n    for (var i = 0; i < value.length; i++) {\n      value[i] = iterate(prop, value[i], options);\n    }\n  } else if (typeof value === 'object') {\n    if (prop === 'fallbacks') {\n      for (var innerProp in value) {\n        value[innerProp] = iterate(innerProp, value[innerProp], options);\n      }\n    } else {\n      for (var _innerProp in value) {\n        value[_innerProp] = iterate(prop + \"-\" + _innerProp, value[_innerProp], options);\n      }\n    }\n  } else if (typeof value === 'number') {\n    var unit = options[prop] || units[prop];\n\n    if (unit) {\n      return typeof unit === 'function' ? unit(value).toString() : \"\" + value + unit;\n    }\n\n    return value.toString();\n  }\n\n  return value;\n}\n/**\n * Add unit to numeric values.\n */\n\n\nfunction defaultUnit(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var camelCasedOptions = addCamelCasedVersion(options);\n\n  function onProcessStyle(style, rule) {\n    if (rule.type !== 'style') return style;\n\n    for (var prop in style) {\n      style[prop] = iterate(prop, style[prop], camelCasedOptions);\n    }\n\n    return style;\n  }\n\n  function onChangeValue(value, prop) {\n    return iterate(prop, value, camelCasedOptions);\n  }\n\n  return {\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\n\n// Export javascript style and css style vendor prefixes.\nvar js = '';\nvar css = '';\nvar vendor = '';\nvar browser = '';\nvar isTouch = isBrowser && 'ontouchstart' in document.documentElement; // We should not do anything if required serverside.\n\nif (isBrowser) {\n  // Order matters. We need to check Webkit the last one because\n  // other vendors use to add Webkit prefixes to some properties\n  var jsCssMap = {\n    Moz: '-moz-',\n    ms: '-ms-',\n    O: '-o-',\n    Webkit: '-webkit-'\n  };\n\n  var _document$createEleme = document.createElement('p'),\n      style = _document$createEleme.style;\n\n  var testProp = 'Transform';\n\n  for (var key in jsCssMap) {\n    if (key + testProp in style) {\n      js = key;\n      css = jsCssMap[key];\n      break;\n    }\n  } // Correctly detect the Edge browser.\n\n\n  if (js === 'Webkit' && 'msHyphens' in style) {\n    js = 'ms';\n    css = jsCssMap.ms;\n    browser = 'edge';\n  } // Correctly detect the Safari browser.\n\n\n  if (js === 'Webkit' && '-apple-trailing-word' in style) {\n    vendor = 'apple';\n  }\n}\n/**\n * Vendor prefix string for the current browser.\n *\n * @type {{js: String, css: String, vendor: String, browser: String}}\n * @api public\n */\n\n\nvar prefix = {\n  js: js,\n  css: css,\n  vendor: vendor,\n  browser: browser,\n  isTouch: isTouch\n};\n\n/**\n * Test if a keyframe at-rule should be prefixed or not\n *\n * @param {String} vendor prefix string for the current browser.\n * @return {String}\n * @api public\n */\n\nfunction supportedKeyframes(key) {\n  // Keyframes is already prefixed. e.g. key = '@-webkit-keyframes a'\n  if (key[1] === '-') return key; // No need to prefix IE/Edge. Older browsers will ignore unsupported rules.\n  // https://caniuse.com/#search=keyframes\n\n  if (prefix.js === 'ms') return key;\n  return \"@\" + prefix.css + \"keyframes\" + key.substr(10);\n}\n\n// https://caniuse.com/#search=appearance\n\nvar appearence = {\n  noPrefill: ['appearance'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'appearance') return false;\n    if (prefix.js === 'ms') return \"-webkit-\" + prop;\n    return prefix.css + prop;\n  }\n};\n\n// https://caniuse.com/#search=color-adjust\n\nvar colorAdjust = {\n  noPrefill: ['color-adjust'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'color-adjust') return false;\n    if (prefix.js === 'Webkit') return prefix.css + \"print-\" + prop;\n    return prop;\n  }\n};\n\nvar regExp = /[-\\s]+(.)?/g;\n/**\n * Replaces the letter with the capital letter\n *\n * @param {String} match\n * @param {String} c\n * @return {String}\n * @api private\n */\n\nfunction toUpper(match, c) {\n  return c ? c.toUpperCase() : '';\n}\n/**\n * Convert dash separated strings to camel-cased.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\n\nfunction camelize(str) {\n  return str.replace(regExp, toUpper);\n}\n\n/**\n * Convert dash separated strings to pascal cased.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction pascalize(str) {\n  return camelize(\"-\" + str);\n}\n\n// but we can use a longhand property instead.\n// https://caniuse.com/#search=mask\n\nvar mask = {\n  noPrefill: ['mask'],\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^mask/.test(prop)) return false;\n\n    if (prefix.js === 'Webkit') {\n      var longhand = 'mask-image';\n\n      if (camelize(longhand) in style) {\n        return prop;\n      }\n\n      if (prefix.js + pascalize(longhand) in style) {\n        return prefix.css + prop;\n      }\n    }\n\n    return prop;\n  }\n};\n\n// https://caniuse.com/#search=text-orientation\n\nvar textOrientation = {\n  noPrefill: ['text-orientation'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'text-orientation') return false;\n\n    if (prefix.vendor === 'apple' && !prefix.isTouch) {\n      return prefix.css + prop;\n    }\n\n    return prop;\n  }\n};\n\n// https://caniuse.com/#search=transform\n\nvar transform = {\n  noPrefill: ['transform'],\n  supportedProperty: function supportedProperty(prop, style, options) {\n    if (prop !== 'transform') return false;\n\n    if (options.transform) {\n      return prop;\n    }\n\n    return prefix.css + prop;\n  }\n};\n\n// https://caniuse.com/#search=transition\n\nvar transition = {\n  noPrefill: ['transition'],\n  supportedProperty: function supportedProperty(prop, style, options) {\n    if (prop !== 'transition') return false;\n\n    if (options.transition) {\n      return prop;\n    }\n\n    return prefix.css + prop;\n  }\n};\n\n// https://caniuse.com/#search=writing-mode\n\nvar writingMode = {\n  noPrefill: ['writing-mode'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'writing-mode') return false;\n\n    if (prefix.js === 'Webkit' || prefix.js === 'ms' && prefix.browser !== 'edge') {\n      return prefix.css + prop;\n    }\n\n    return prop;\n  }\n};\n\n// https://caniuse.com/#search=user-select\n\nvar userSelect = {\n  noPrefill: ['user-select'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'user-select') return false;\n\n    if (prefix.js === 'Moz' || prefix.js === 'ms' || prefix.vendor === 'apple') {\n      return prefix.css + prop;\n    }\n\n    return prop;\n  }\n};\n\n// https://caniuse.com/#search=multicolumn\n// https://github.com/postcss/autoprefixer/issues/491\n// https://github.com/postcss/autoprefixer/issues/177\n\nvar breakPropsOld = {\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^break-/.test(prop)) return false;\n\n    if (prefix.js === 'Webkit') {\n      var jsProp = \"WebkitColumn\" + pascalize(prop);\n      return jsProp in style ? prefix.css + \"column-\" + prop : false;\n    }\n\n    if (prefix.js === 'Moz') {\n      var _jsProp = \"page\" + pascalize(prop);\n\n      return _jsProp in style ? \"page-\" + prop : false;\n    }\n\n    return false;\n  }\n};\n\n// See https://github.com/postcss/autoprefixer/issues/324.\n\nvar inlineLogicalOld = {\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^(border|margin|padding)-inline/.test(prop)) return false;\n    if (prefix.js === 'Moz') return prop;\n    var newProp = prop.replace('-inline', '');\n    return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n  }\n};\n\n// Camelization is required because we can't test using.\n// CSS syntax for e.g. in FF.\n\nvar unprefixed = {\n  supportedProperty: function supportedProperty(prop, style) {\n    return camelize(prop) in style ? prop : false;\n  }\n};\n\nvar prefixed = {\n  supportedProperty: function supportedProperty(prop, style) {\n    var pascalized = pascalize(prop); // Return custom CSS variable without prefixing.\n\n    if (prop[0] === '-') return prop; // Return already prefixed value without prefixing.\n\n    if (prop[0] === '-' && prop[1] === '-') return prop;\n    if (prefix.js + pascalized in style) return prefix.css + prop; // Try webkit fallback.\n\n    if (prefix.js !== 'Webkit' && \"Webkit\" + pascalized in style) return \"-webkit-\" + prop;\n    return false;\n  }\n};\n\n// https://caniuse.com/#search=scroll-snap\n\nvar scrollSnap = {\n  supportedProperty: function supportedProperty(prop) {\n    if (prop.substring(0, 11) !== 'scroll-snap') return false;\n\n    if (prefix.js === 'ms') {\n      return \"\" + prefix.css + prop;\n    }\n\n    return prop;\n  }\n};\n\n// https://caniuse.com/#search=overscroll-behavior\n\nvar overscrollBehavior = {\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'overscroll-behavior') return false;\n\n    if (prefix.js === 'ms') {\n      return prefix.css + \"scroll-chaining\";\n    }\n\n    return prop;\n  }\n};\n\nvar propMap = {\n  'flex-grow': 'flex-positive',\n  'flex-shrink': 'flex-negative',\n  'flex-basis': 'flex-preferred-size',\n  'justify-content': 'flex-pack',\n  order: 'flex-order',\n  'align-items': 'flex-align',\n  'align-content': 'flex-line-pack' // 'align-self' is handled by 'align-self' plugin.\n\n}; // Support old flex spec from 2012.\n\nvar flex2012 = {\n  supportedProperty: function supportedProperty(prop, style) {\n    var newProp = propMap[prop];\n    if (!newProp) return false;\n    return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n  }\n};\n\nvar propMap$1 = {\n  flex: 'box-flex',\n  'flex-grow': 'box-flex',\n  'flex-direction': ['box-orient', 'box-direction'],\n  order: 'box-ordinal-group',\n  'align-items': 'box-align',\n  'flex-flow': ['box-orient', 'box-direction'],\n  'justify-content': 'box-pack'\n};\nvar propKeys = Object.keys(propMap$1);\n\nvar prefixCss = function prefixCss(p) {\n  return prefix.css + p;\n}; // Support old flex spec from 2009.\n\n\nvar flex2009 = {\n  supportedProperty: function supportedProperty(prop, style, _ref) {\n    var multiple = _ref.multiple;\n\n    if (propKeys.indexOf(prop) > -1) {\n      var newProp = propMap$1[prop];\n\n      if (!Array.isArray(newProp)) {\n        return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n      }\n\n      if (!multiple) return false;\n\n      for (var i = 0; i < newProp.length; i++) {\n        if (!(prefix.js + pascalize(newProp[0]) in style)) {\n          return false;\n        }\n      }\n\n      return newProp.map(prefixCss);\n    }\n\n    return false;\n  }\n};\n\n// plugins = [\n//   ...plugins,\n//    breakPropsOld,\n//    inlineLogicalOld,\n//    unprefixed,\n//    prefixed,\n//    scrollSnap,\n//    flex2012,\n//    flex2009\n// ]\n// Plugins without 'noPrefill' value, going last.\n// 'flex-*' plugins should be at the bottom.\n// 'flex2009' going after 'flex2012'.\n// 'prefixed' going after 'unprefixed'\n\nvar plugins$1 = [appearence, colorAdjust, mask, textOrientation, transform, transition, writingMode, userSelect, breakPropsOld, inlineLogicalOld, unprefixed, prefixed, scrollSnap, overscrollBehavior, flex2012, flex2009];\nvar propertyDetectors = plugins$1.filter(function (p) {\n  return p.supportedProperty;\n}).map(function (p) {\n  return p.supportedProperty;\n});\nvar noPrefill = plugins$1.filter(function (p) {\n  return p.noPrefill;\n}).reduce(function (a, p) {\n  a.push.apply(a, _toConsumableArray(p.noPrefill));\n  return a;\n}, []);\n\nvar el;\nvar cache$1 = {};\n\nif (isBrowser) {\n  el = document.createElement('p'); // We test every property on vendor prefix requirement.\n  // Once tested, result is cached. It gives us up to 70% perf boost.\n  // http://jsperf.com/element-style-object-access-vs-plain-object\n  //\n  // Prefill cache with known css properties to reduce amount of\n  // properties we need to feature test at runtime.\n  // http://davidwalsh.name/vendor-prefix\n\n  var computed = window.getComputedStyle(document.documentElement, '');\n\n  for (var key$1 in computed) {\n    // eslint-disable-next-line no-restricted-globals\n    if (!isNaN(key$1)) cache$1[computed[key$1]] = computed[key$1];\n  } // Properties that cannot be correctly detected using the\n  // cache prefill method.\n\n\n  noPrefill.forEach(function (x) {\n    return delete cache$1[x];\n  });\n}\n/**\n * Test if a property is supported, returns supported property with vendor\n * prefix if required. Returns `false` if not supported.\n *\n * @param {String} prop dash separated\n * @param {Object} [options]\n * @return {String|Boolean}\n * @api public\n */\n\n\nfunction supportedProperty(prop, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  // For server-side rendering.\n  if (!el) return prop; // Remove cache for benchmark tests or return property from the cache.\n\n  if (process.env.NODE_ENV !== 'benchmark' && cache$1[prop] != null) {\n    return cache$1[prop];\n  } // Check if 'transition' or 'transform' natively supported in browser.\n\n\n  if (prop === 'transition' || prop === 'transform') {\n    options[prop] = prop in el.style;\n  } // Find a plugin for current prefix property.\n\n\n  for (var i = 0; i < propertyDetectors.length; i++) {\n    cache$1[prop] = propertyDetectors[i](prop, el.style, options); // Break loop, if value found.\n\n    if (cache$1[prop]) break;\n  } // Reset styles for current property.\n  // Firefox can even throw an error for invalid properties, e.g., \"0\".\n\n\n  try {\n    el.style[prop] = '';\n  } catch (err) {\n    return false;\n  }\n\n  return cache$1[prop];\n}\n\nvar cache$1$1 = {};\nvar transitionProperties = {\n  transition: 1,\n  'transition-property': 1,\n  '-webkit-transition': 1,\n  '-webkit-transition-property': 1\n};\nvar transPropsRegExp = /(^\\s*[\\w-]+)|, (\\s*[\\w-]+)(?![^()]*\\))/g;\nvar el$1;\n/**\n * Returns prefixed value transition/transform if needed.\n *\n * @param {String} match\n * @param {String} p1\n * @param {String} p2\n * @return {String}\n * @api private\n */\n\nfunction prefixTransitionCallback(match, p1, p2) {\n  if (p1 === 'var') return 'var';\n  if (p1 === 'all') return 'all';\n  if (p2 === 'all') return ', all';\n  var prefixedValue = p1 ? supportedProperty(p1) : \", \" + supportedProperty(p2);\n  if (!prefixedValue) return p1 || p2;\n  return prefixedValue;\n}\n\nif (isBrowser) el$1 = document.createElement('p');\n/**\n * Returns prefixed value if needed. Returns `false` if value is not supported.\n *\n * @param {String} property\n * @param {String} value\n * @return {String|Boolean}\n * @api public\n */\n\nfunction supportedValue(property, value) {\n  // For server-side rendering.\n  var prefixedValue = value;\n  if (!el$1 || property === 'content') return value; // It is a string or a number as a string like '1'.\n  // We want only prefixable values here.\n  // eslint-disable-next-line no-restricted-globals\n\n  if (typeof prefixedValue !== 'string' || !isNaN(parseInt(prefixedValue, 10))) {\n    return prefixedValue;\n  } // Create cache key for current value.\n\n\n  var cacheKey = property + prefixedValue; // Remove cache for benchmark tests or return value from cache.\n\n  if (process.env.NODE_ENV !== 'benchmark' && cache$1$1[cacheKey] != null) {\n    return cache$1$1[cacheKey];\n  } // IE can even throw an error in some cases, for e.g. style.content = 'bar'.\n\n\n  try {\n    // Test value as it is.\n    el$1.style[property] = prefixedValue;\n  } catch (err) {\n    // Return false if value not supported.\n    cache$1$1[cacheKey] = false;\n    return false;\n  } // If 'transition' or 'transition-property' property.\n\n\n  if (transitionProperties[property]) {\n    prefixedValue = prefixedValue.replace(transPropsRegExp, prefixTransitionCallback);\n  } else if (el$1.style[property] === '') {\n    // Value with a vendor prefix.\n    prefixedValue = prefix.css + prefixedValue; // Hardcode test to convert \"flex\" to \"-ms-flexbox\" for IE10.\n\n    if (prefixedValue === '-ms-flex') el$1.style[property] = '-ms-flexbox'; // Test prefixed value.\n\n    el$1.style[property] = prefixedValue; // Return false if value not supported.\n\n    if (el$1.style[property] === '') {\n      cache$1$1[cacheKey] = false;\n      return false;\n    }\n  } // Reset styles for current property.\n\n\n  el$1.style[property] = ''; // Write current value to cache.\n\n  cache$1$1[cacheKey] = prefixedValue;\n  return cache$1$1[cacheKey];\n}\n\n/**\n * Add vendor prefix to a property name when needed.\n *\n * @api public\n */\n\nfunction jssVendorPrefixer() {\n  function onProcessRule(rule) {\n    if (rule.type === 'keyframes') {\n      var atRule = rule;\n      atRule.at = supportedKeyframes(atRule.at);\n    }\n  }\n\n  function prefixStyle(style) {\n    for (var prop in style) {\n      var value = style[prop];\n\n      if (prop === 'fallbacks' && Array.isArray(value)) {\n        style[prop] = value.map(prefixStyle);\n        continue;\n      }\n\n      var changeProp = false;\n      var supportedProp = supportedProperty(prop);\n      if (supportedProp && supportedProp !== prop) changeProp = true;\n      var changeValue = false;\n      var supportedValue$$1 = supportedValue(supportedProp, toCssValue(value));\n      if (supportedValue$$1 && supportedValue$$1 !== value) changeValue = true;\n\n      if (changeProp || changeValue) {\n        if (changeProp) delete style[prop];\n        style[supportedProp || prop] = supportedValue$$1 || value;\n      }\n    }\n\n    return style;\n  }\n\n  function onProcessStyle(style, rule) {\n    if (rule.type !== 'style') return style;\n    return prefixStyle(style);\n  }\n\n  function onChangeValue(value, prop) {\n    return supportedValue(prop, toCssValue(value)) || value;\n  }\n\n  return {\n    onProcessRule: onProcessRule,\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\n\n/**\n * Sort props by length.\n */\nfunction jssPropsSort() {\n  var sort = function sort(prop0, prop1) {\n    if (prop0.length === prop1.length) {\n      return prop0 > prop1 ? 1 : -1;\n    }\n\n    return prop0.length - prop1.length;\n  };\n\n  return {\n    onProcessStyle: function onProcessStyle(style, rule) {\n      if (rule.type !== 'style') return style;\n      var newStyle = {};\n      var props = Object.keys(style).sort(sort);\n\n      for (var i = 0; i < props.length; i++) {\n        newStyle[props[i]] = style[props[i]];\n      }\n\n      return newStyle;\n    }\n  };\n}\n\nfunction jssPreset() {\n  return {\n    plugins: [functionPlugin(), jssGlobal(), jssNested(), camelCase(), defaultUnit(), // Disable the vendor prefixer server-side, it does nothing.\n    // This way, we can get a performance boost.\n    // In the documentation, we are using `autoprefixer` to solve this problem.\n    typeof window === 'undefined' ? null : jssVendorPrefixer(), jssPropsSort()]\n  };\n}\n\nfunction mergeClasses() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var baseClasses = options.baseClasses,\n      newClasses = options.newClasses,\n      Component = options.Component;\n\n  if (!newClasses) {\n    return baseClasses;\n  }\n\n  var nextClasses = _extends({}, baseClasses);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof newClasses === 'string') {\n      console.error([\"Material-UI: the value `\".concat(newClasses, \"` \") + \"provided to the classes prop of \".concat(getDisplayName(Component), \" is incorrect.\"), 'You might want to use the className prop instead.'].join('\\n'));\n      return baseClasses;\n    }\n  }\n\n  Object.keys(newClasses).forEach(function (key) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!baseClasses[key] && newClasses[key]) {\n        console.error([\"Material-UI: the key `\".concat(key, \"` \") + \"provided to the classes prop is not implemented in \".concat(getDisplayName(Component), \".\"), \"You can only override one of the following: \".concat(Object.keys(baseClasses).join(','), \".\")].join('\\n'));\n      }\n\n      if (newClasses[key] && typeof newClasses[key] !== 'string') {\n        console.error([\"Material-UI: the key `\".concat(key, \"` \") + \"provided to the classes prop is not valid for \".concat(getDisplayName(Component), \".\"), \"You need to provide a non empty string instead of: \".concat(newClasses[key], \".\")].join('\\n'));\n      }\n    }\n\n    if (newClasses[key]) {\n      nextClasses[key] = \"\".concat(baseClasses[key], \" \").concat(newClasses[key]);\n    }\n  });\n  return nextClasses;\n}\n\n// Used https://github.com/thinkloop/multi-key-cache as inspiration\nvar multiKeyStore = {\n  set: function set(cache, key1, key2, value) {\n    var subCache = cache.get(key1);\n\n    if (!subCache) {\n      subCache = new Map();\n      cache.set(key1, subCache);\n    }\n\n    subCache.set(key2, value);\n  },\n  get: function get(cache, key1, key2) {\n    var subCache = cache.get(key1);\n    return subCache ? subCache.get(key2) : undefined;\n  },\n  delete: function _delete(cache, key1, key2) {\n    var subCache = cache.get(key1);\n    subCache.delete(key2);\n  }\n};\n\nvar ThemeContext = React__default.createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  ThemeContext.displayName = 'ThemeContext';\n}\n\nfunction useTheme() {\n  var theme = React__default.useContext(ThemeContext);\n\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React__default.useDebugValue(theme);\n  }\n\n  return theme;\n}\n\nvar jss = create(jssPreset()); // Use a singleton or the provided one by the context.\n//\n// The counter-based approach doesn't tolerate any mistake.\n// It's much safer to use the same counter everywhere.\n\nvar generateClassName = createGenerateClassName(); // Exported for test purposes\n\nvar sheetsManager = new Map();\nvar defaultOptions = {\n  disableGeneration: false,\n  generateClassName: generateClassName,\n  jss: jss,\n  sheetsCache: null,\n  sheetsManager: sheetsManager,\n  sheetsRegistry: null\n};\nvar StylesContext = React__default.createContext(defaultOptions);\n\nif (process.env.NODE_ENV !== 'production') {\n  StylesContext.displayName = 'StylesContext';\n}\n\nvar injectFirstNode;\nfunction StylesProvider(props) {\n  var children = props.children,\n      _props$injectFirst = props.injectFirst,\n      injectFirst = _props$injectFirst === void 0 ? false : _props$injectFirst,\n      _props$disableGenerat = props.disableGeneration,\n      disableGeneration = _props$disableGenerat === void 0 ? false : _props$disableGenerat,\n      localOptions = _objectWithoutProperties(props, [\"children\", \"injectFirst\", \"disableGeneration\"]);\n\n  var outerOptions = React__default.useContext(StylesContext);\n\n  var context = _extends({}, outerOptions, {\n    disableGeneration: disableGeneration\n  }, localOptions);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof window === 'undefined' && !context.sheetsManager) {\n      console.error('Material-UI: you need to use the ServerStyleSheets API when rendering on the server.');\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (context.jss.options.insertionPoint && injectFirst) {\n      console.error('Material-UI: you cannot use a custom insertionPoint and <StylesContext injectFirst> at the same time.');\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (injectFirst && localOptions.jss) {\n      console.error('Material-UI: you cannot use the jss and injectFirst props at the same time.');\n    }\n  }\n\n  if (!context.jss.options.insertionPoint && injectFirst && typeof window !== 'undefined') {\n    if (!injectFirstNode) {\n      var head = document.head;\n      injectFirstNode = document.createComment('mui-inject-first');\n      head.insertBefore(injectFirstNode, head.firstChild);\n    }\n\n    context.jss = create({\n      plugins: jssPreset().plugins,\n      insertionPoint: injectFirstNode\n    });\n  }\n\n  return /*#__PURE__*/React__default.createElement(StylesContext.Provider, {\n    value: context\n  }, children);\n}\nprocess.env.NODE_ENV !== \"production\" ? StylesProvider.propTypes = {\n  /**\n   * Your component tree.\n   */\n  children: PropTypes__default.node.isRequired,\n\n  /**\n   * You can disable the generation of the styles with this option.\n   * It can be useful when traversing the React tree outside of the HTML\n   * rendering step on the server.\n   * Let's say you are using react-apollo to extract all\n   * the queries made by the interface server-side - you can significantly speed up the traversal with this prop.\n   */\n  disableGeneration: PropTypes__default.bool,\n\n  /**\n   * JSS's class name generator.\n   */\n  generateClassName: PropTypes__default.func,\n\n  /**\n   * By default, the styles are injected last in the <head> element of the page.\n   * As a result, they gain more specificity than any other style sheet.\n   * If you want to override Material-UI's styles, set this prop.\n   */\n  injectFirst: PropTypes__default.bool,\n\n  /**\n   * JSS's instance.\n   */\n  jss: PropTypes__default.object,\n\n  /**\n   * @ignore\n   */\n  serverGenerateClassName: PropTypes__default.func,\n\n  /**\n   * @ignore\n   *\n   * Beta feature.\n   *\n   * Cache for the sheets.\n   */\n  sheetsCache: PropTypes__default.object,\n\n  /**\n   * @ignore\n   *\n   * The sheetsManager is used to deduplicate style sheet injection in the page.\n   * It's deduplicating using the (theme, styles) couple.\n   * On the server, you should provide a new instance for each request.\n   */\n  sheetsManager: PropTypes__default.object,\n\n  /**\n   * @ignore\n   *\n   * Collect the sheets.\n   */\n  sheetsRegistry: PropTypes__default.object\n} : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  process.env.NODE_ENV !== \"production\" ? StylesProvider.propTypes = exactProp(StylesProvider.propTypes) : void 0;\n}\n\n/* eslint-disable import/prefer-default-export */\n// Global index counter to preserve source order.\n// We create the style sheet during at the creation of the component,\n// children are handled after the parents, so the order of style elements would be parent->child.\n// It is a problem though when a parent passes a className\n// which needs to override any child's styles.\n// StyleSheet of the child has a higher specificity, because of the source order.\n// So our solution is to render sheets them in the reverse order child->sheet, so\n// that parent has a higher specificity.\nvar indexCounter = -1e9;\nfunction increment() {\n  indexCounter += 1;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (indexCounter >= 0) {\n      console.warn(['Material-UI: you might have a memory leak.', 'The indexCounter is not supposed to grow that much.'].join('\\n'));\n    }\n  }\n\n  return indexCounter;\n}\n\n// We use the same empty object to ref count the styles that don't need a theme object.\nvar noopTheme = {};\n\nfunction getStylesCreator(stylesOrCreator) {\n  var themingEnabled = typeof stylesOrCreator === 'function';\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (_typeof(stylesOrCreator) !== 'object' && !themingEnabled) {\n      console.error(['Material-UI: the `styles` argument provided is invalid.', 'You need to provide a function generating the styles or a styles object.'].join('\\n'));\n    }\n  }\n\n  return {\n    create: function create(theme, name) {\n      var styles;\n\n      try {\n        styles = themingEnabled ? stylesOrCreator(theme) : stylesOrCreator;\n      } catch (err) {\n        if (process.env.NODE_ENV !== 'production') {\n          if (themingEnabled === true && theme === noopTheme) {\n            // TODO: prepend error message/name instead\n            console.error(['Material-UI: the `styles` argument provided is invalid.', 'You are providing a function without a theme in the context.', 'One of the parent elements needs to use a ThemeProvider.'].join('\\n'));\n          }\n        }\n\n        throw err;\n      }\n\n      if (!name || !theme.overrides || !theme.overrides[name]) {\n        return styles;\n      }\n\n      var overrides = theme.overrides[name];\n\n      var stylesWithOverrides = _extends({}, styles);\n\n      Object.keys(overrides).forEach(function (key) {\n        if (process.env.NODE_ENV !== 'production') {\n          if (!stylesWithOverrides[key]) {\n            console.warn(['Material-UI: you are trying to override a style that does not exist.', \"Fix the `\".concat(key, \"` key of `theme.overrides.\").concat(name, \"`.\")].join('\\n'));\n          }\n        }\n\n        stylesWithOverrides[key] = deepmerge(stylesWithOverrides[key], overrides[key]);\n      });\n      return stylesWithOverrides;\n    },\n    options: {}\n  };\n}\n\nfunction getClasses(_ref, classes, Component) {\n  var state = _ref.state,\n      stylesOptions = _ref.stylesOptions;\n\n  if (stylesOptions.disableGeneration) {\n    return classes || {};\n  }\n\n  if (!state.cacheClasses) {\n    state.cacheClasses = {\n      // Cache for the finalized classes value.\n      value: null,\n      // Cache for the last used classes prop pointer.\n      lastProp: null,\n      // Cache for the last used rendered classes pointer.\n      lastJSS: {}\n    };\n  } // Tracks if either the rendered classes or classes prop has changed,\n  // requiring the generation of a new finalized classes object.\n\n\n  var generate = false;\n\n  if (state.classes !== state.cacheClasses.lastJSS) {\n    state.cacheClasses.lastJSS = state.classes;\n    generate = true;\n  }\n\n  if (classes !== state.cacheClasses.lastProp) {\n    state.cacheClasses.lastProp = classes;\n    generate = true;\n  }\n\n  if (generate) {\n    state.cacheClasses.value = mergeClasses({\n      baseClasses: state.cacheClasses.lastJSS,\n      newClasses: classes,\n      Component: Component\n    });\n  }\n\n  return state.cacheClasses.value;\n}\n\nfunction attach(_ref2, props) {\n  var state = _ref2.state,\n      theme = _ref2.theme,\n      stylesOptions = _ref2.stylesOptions,\n      stylesCreator = _ref2.stylesCreator,\n      name = _ref2.name;\n\n  if (stylesOptions.disableGeneration) {\n    return;\n  }\n\n  var sheetManager = multiKeyStore.get(stylesOptions.sheetsManager, stylesCreator, theme);\n\n  if (!sheetManager) {\n    sheetManager = {\n      refs: 0,\n      staticSheet: null,\n      dynamicStyles: null\n    };\n    multiKeyStore.set(stylesOptions.sheetsManager, stylesCreator, theme, sheetManager);\n  }\n\n  var options = _extends({}, stylesCreator.options, {}, stylesOptions, {\n    theme: theme,\n    flip: typeof stylesOptions.flip === 'boolean' ? stylesOptions.flip : theme.direction === 'rtl'\n  });\n\n  options.generateId = options.serverGenerateClassName || options.generateClassName;\n  var sheetsRegistry = stylesOptions.sheetsRegistry;\n\n  if (sheetManager.refs === 0) {\n    var staticSheet;\n\n    if (stylesOptions.sheetsCache) {\n      staticSheet = multiKeyStore.get(stylesOptions.sheetsCache, stylesCreator, theme);\n    }\n\n    var styles = stylesCreator.create(theme, name);\n\n    if (!staticSheet) {\n      staticSheet = stylesOptions.jss.createStyleSheet(styles, _extends({\n        link: false\n      }, options));\n      staticSheet.attach();\n\n      if (stylesOptions.sheetsCache) {\n        multiKeyStore.set(stylesOptions.sheetsCache, stylesCreator, theme, staticSheet);\n      }\n    }\n\n    if (sheetsRegistry) {\n      sheetsRegistry.add(staticSheet);\n    }\n\n    sheetManager.staticSheet = staticSheet;\n    sheetManager.dynamicStyles = getDynamicStyles(styles);\n  }\n\n  if (sheetManager.dynamicStyles) {\n    var dynamicSheet = stylesOptions.jss.createStyleSheet(sheetManager.dynamicStyles, _extends({\n      link: true\n    }, options));\n    dynamicSheet.update(props);\n    dynamicSheet.attach();\n    state.dynamicSheet = dynamicSheet;\n    state.classes = mergeClasses({\n      baseClasses: sheetManager.staticSheet.classes,\n      newClasses: dynamicSheet.classes\n    });\n\n    if (sheetsRegistry) {\n      sheetsRegistry.add(dynamicSheet);\n    }\n  } else {\n    state.classes = sheetManager.staticSheet.classes;\n  }\n\n  sheetManager.refs += 1;\n}\n\nfunction update(_ref3, props) {\n  var state = _ref3.state;\n\n  if (state.dynamicSheet) {\n    state.dynamicSheet.update(props);\n  }\n}\n\nfunction detach(_ref4) {\n  var state = _ref4.state,\n      theme = _ref4.theme,\n      stylesOptions = _ref4.stylesOptions,\n      stylesCreator = _ref4.stylesCreator;\n\n  if (stylesOptions.disableGeneration) {\n    return;\n  }\n\n  var sheetManager = multiKeyStore.get(stylesOptions.sheetsManager, stylesCreator, theme);\n  sheetManager.refs -= 1;\n  var sheetsRegistry = stylesOptions.sheetsRegistry;\n\n  if (sheetManager.refs === 0) {\n    multiKeyStore.delete(stylesOptions.sheetsManager, stylesCreator, theme);\n    stylesOptions.jss.removeStyleSheet(sheetManager.staticSheet);\n\n    if (sheetsRegistry) {\n      sheetsRegistry.remove(sheetManager.staticSheet);\n    }\n  }\n\n  if (state.dynamicSheet) {\n    stylesOptions.jss.removeStyleSheet(state.dynamicSheet);\n\n    if (sheetsRegistry) {\n      sheetsRegistry.remove(state.dynamicSheet);\n    }\n  }\n}\n\nfunction useSynchronousEffect(func, values) {\n  var key = React__default.useRef([]);\n  var output; // Store \"generation\" key. Just returns a new object every time\n\n  var currentKey = React__default.useMemo(function () {\n    return {};\n  }, values); // eslint-disable-line react-hooks/exhaustive-deps\n  // \"the first render\", or \"memo dropped the value\"\n\n  if (key.current !== currentKey) {\n    key.current = currentKey;\n    output = func();\n  }\n\n  React__default.useEffect(function () {\n    return function () {\n      if (output) {\n        output();\n      }\n    };\n  }, [currentKey] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n}\n\nfunction makeStyles(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var name = options.name,\n      classNamePrefixOption = options.classNamePrefix,\n      Component = options.Component,\n      _options$defaultTheme = options.defaultTheme,\n      defaultTheme = _options$defaultTheme === void 0 ? noopTheme : _options$defaultTheme,\n      stylesOptions2 = _objectWithoutProperties(options, [\"name\", \"classNamePrefix\", \"Component\", \"defaultTheme\"]);\n\n  var stylesCreator = getStylesCreator(stylesOrCreator);\n  var classNamePrefix = name || classNamePrefixOption || 'makeStyles';\n  stylesCreator.options = {\n    index: increment(),\n    name: name,\n    meta: classNamePrefix,\n    classNamePrefix: classNamePrefix\n  };\n\n  var useStyles = function useStyles() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var theme = useTheme() || defaultTheme;\n\n    var stylesOptions = _extends({}, React__default.useContext(StylesContext), {}, stylesOptions2);\n\n    var instance = React__default.useRef();\n    var shouldUpdate = React__default.useRef();\n    useSynchronousEffect(function () {\n      var current = {\n        name: name,\n        state: {},\n        stylesCreator: stylesCreator,\n        stylesOptions: stylesOptions,\n        theme: theme\n      };\n      attach(current, props);\n      shouldUpdate.current = false;\n      instance.current = current;\n      return function () {\n        detach(current);\n      };\n    }, [theme, stylesCreator]);\n    React__default.useEffect(function () {\n      if (shouldUpdate.current) {\n        update(instance.current, props);\n      }\n\n      shouldUpdate.current = true;\n    });\n    var classes = getClasses(instance.current, props.classes, Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      React__default.useDebugValue(classes);\n    }\n\n    return classes;\n  };\n\n  return useStyles;\n}\n\nvar defaultTheme = createMuiTheme();\n\nfunction makeStyles$1(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return makeStyles(stylesOrCreator, _extends({\n    defaultTheme: defaultTheme\n  }, options));\n}\n\nfunction Rain() {\n  var useStyles = makeStyles$1(function () {\n    return {\n      rain: {\n        background: \"url(./assets/rain\".concat(IMAGE_SUFFIX, \")\")\n      }\n    };\n  });\n  var classes = useStyles();\n  return React__default.createElement(\"div\", {\n    className: \"rain \".concat(classes.rain)\n  });\n}\n\nfunction Birds() {\n  var useStyles = makeStyles$1(function () {\n    return {\n      bird: {\n        backgroundImage: 'url(./assets/bird-cells.svg)',\n        backgroundSize: 'auto 100%'\n      }\n    };\n  });\n  var classes = useStyles();\n  return React__default.createElement(React__default.Fragment, null, React__default.createElement(\"div\", {\n    className: 'bird-container bird-container--one'\n  }, React__default.createElement(\"div\", {\n    className: \"bird bird--one \".concat(classes.bird)\n  })), React__default.createElement(\"div\", {\n    className: 'bird-container bird-container--two'\n  }, React__default.createElement(\"div\", {\n    className: \"bird bird--two \".concat(classes.bird)\n  })), React__default.createElement(\"div\", {\n    className: 'bird-container bird-container--three'\n  }, React__default.createElement(\"div\", {\n    className: \"bird bird--three \".concat(classes.bird)\n  })), React__default.createElement(\"div\", {\n    className: 'bird-container bird-container--four'\n  }, React__default.createElement(\"div\", {\n    className: \"bird bird--four \".concat(classes.bird)\n  })));\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties$1(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass$1(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties$1(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties$1(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized$1(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized$1(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _slicedToArray$1(arr, i) {\n  return _arrayWithHoles$1(arr) || _iterableToArrayLimit$1(arr, i) || _unsupportedIterableToArray$1(arr, i) || _nonIterableRest$1();\n}\n\nfunction _toConsumableArray$1(arr) {\n  return _arrayWithoutHoles$1(arr) || _iterableToArray$1(arr) || _unsupportedIterableToArray$1(arr) || _nonIterableSpread$1();\n}\n\nfunction _arrayWithoutHoles$1(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray$1(arr);\n}\n\nfunction _arrayWithHoles$1(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray$1(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit$1(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray$1(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\n\nfunction _arrayLikeToArray$1(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread$1() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest$1() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar soundmanager2 = createCommonjsModule(function (module) {\n/** @license\r\n *\r\n * SoundManager 2: JavaScript Sound for the Web\r\n * ----------------------------------------------\r\n * http://schillmania.com/projects/soundmanager2/\r\n *\r\n * Copyright (c) 2007, Scott Schiller. All rights reserved.\r\n * Code provided under the BSD License:\r\n * http://schillmania.com/projects/soundmanager2/license.txt\r\n *\r\n * V2.97a.20170601\r\n */\r\n\r\n/**\r\n * About this file\r\n * -------------------------------------------------------------------------------------\r\n * This is the fully-commented source version of the SoundManager 2 API,\r\n * recommended for use during development and testing.\r\n *\r\n * See soundmanager2-nodebug-jsmin.js for an optimized build (~11KB with gzip.)\r\n * http://schillmania.com/projects/soundmanager2/doc/getstarted/#basic-inclusion\r\n * Alternately, serve this file with gzip for 75% compression savings (~30KB over HTTP.)\r\n *\r\n * You may notice <d> and </d> comments in this source; these are delimiters for\r\n * debug blocks which are removed in the -nodebug builds, further optimizing code size.\r\n *\r\n * Also, as you may note: Whoa, reliable cross-platform/device audio support is hard! ;)\r\n */\r\n\r\n(function SM2(window, _undefined) {\r\n\r\nif (!window || !window.document) {\r\n\r\n  // Don't cross the [environment] streams. SM2 expects to be running in a browser, not under node.js etc.\r\n  // Additionally, if a browser somehow manages to fail this test, as Egon said: \"It would be bad.\"\r\n\r\n  throw new Error('SoundManager requires a browser with window and document objects.');\r\n\r\n}\r\n\r\nvar soundManager = null;\r\n\r\n/**\r\n * The SoundManager constructor.\r\n *\r\n * @constructor\r\n * @param {string} smURL Optional: Path to SWF files\r\n * @param {string} smID Optional: The ID to use for the SWF container element\r\n * @this {SoundManager}\r\n * @return {SoundManager} The new SoundManager instance\r\n */\r\n\r\nfunction SoundManager(smURL, smID) {\r\n\r\n  /**\r\n   * soundManager configuration options list\r\n   * defines top-level configuration properties to be applied to the soundManager instance (eg. soundManager.flashVersion)\r\n   * to set these properties, use the setup() method - eg., soundManager.setup({url: '/swf/', flashVersion: 9})\r\n   */\r\n\r\n  this.setupOptions = {\r\n\r\n    url: (smURL || null),             // path (directory) where SoundManager 2 SWFs exist, eg., /path/to/swfs/\r\n    flashVersion: 8,                  // flash build to use (8 or 9.) Some API features require 9.\r\n    debugMode: true,                  // enable debugging output (console.log() with HTML fallback)\r\n    debugFlash: false,                // enable debugging output inside SWF, troubleshoot Flash/browser issues\r\n    useConsole: true,                 // use console.log() if available (otherwise, writes to #soundmanager-debug element)\r\n    consoleOnly: true,                // if console is being used, do not create/write to #soundmanager-debug\r\n    waitForWindowLoad: false,         // force SM2 to wait for window.onload() before trying to call soundManager.onload()\r\n    bgColor: '#ffffff',               // SWF background color. N/A when wmode = 'transparent'\r\n    useHighPerformance: false,        // position:fixed flash movie can help increase js/flash speed, minimize lag\r\n    flashPollingInterval: null,       // msec affecting whileplaying/loading callback frequency. If null, default of 50 msec is used.\r\n    html5PollingInterval: null,       // msec affecting whileplaying() for HTML5 audio, excluding mobile devices. If null, native HTML5 update events are used.\r\n    flashLoadTimeout: 1000,           // msec to wait for flash movie to load before failing (0 = infinity)\r\n    wmode: null,                      // flash rendering mode - null, 'transparent', or 'opaque' (last two allow z-index to work)\r\n    allowScriptAccess: 'always',      // for scripting the SWF (object/embed property), 'always' or 'sameDomain'\r\n    useFlashBlock: false,             // *requires flashblock.css, see demos* - allow recovery from flash blockers. Wait indefinitely and apply timeout CSS to SWF, if applicable.\r\n    useHTML5Audio: true,              // use HTML5 Audio() where API is supported (most Safari, Chrome versions), Firefox (MP3/MP4 support varies.) Ideally, transparent vs. Flash API where possible.\r\n    forceUseGlobalHTML5Audio: false,  // if true, a single Audio() object is used for all sounds - and only one can play at a time.\r\n    ignoreMobileRestrictions: false,  // if true, SM2 will not apply global HTML5 audio rules to mobile UAs. iOS > 7 and WebViews may allow multiple Audio() instances.\r\n    html5Test: /^(probably|maybe)$/i, // HTML5 Audio() format support test. Use /^probably$/i; if you want to be more conservative.\r\n    preferFlash: false,               // overrides useHTML5audio, will use Flash for MP3/MP4/AAC if present. Potential option if HTML5 playback with these formats is quirky.\r\n    noSWFCache: false,                // if true, appends ?ts={date} to break aggressive SWF caching.\r\n    idPrefix: 'sound'                 // if an id is not provided to createSound(), this prefix is used for generated IDs - 'sound0', 'sound1' etc.\r\n\r\n  };\r\n\r\n  this.defaultOptions = {\r\n\r\n    /**\r\n     * the default configuration for sound objects made with createSound() and related methods\r\n     * eg., volume, auto-load behaviour and so forth\r\n     */\r\n\r\n    autoLoad: false,        // enable automatic loading (otherwise .load() will be called on demand with .play(), the latter being nicer on bandwidth - if you want to .load yourself, you also can)\r\n    autoPlay: false,        // enable playing of file as soon as possible (much faster if \"stream\" is true)\r\n    from: null,             // position to start playback within a sound (msec), default = beginning\r\n    loops: 1,               // how many times to repeat the sound (position will wrap around to 0, setPosition() will break out of loop when >0)\r\n    onid3: null,            // callback function for \"ID3 data is added/available\"\r\n    onerror: null,          // callback function for \"load failed\" (or, playback/network/decode error under HTML5.)\r\n    onload: null,           // callback function for \"load finished\"\r\n    whileloading: null,     // callback function for \"download progress update\" (X of Y bytes received)\r\n    onplay: null,           // callback for \"play\" start\r\n    onpause: null,          // callback for \"pause\"\r\n    onresume: null,         // callback for \"resume\" (pause toggle)\r\n    whileplaying: null,     // callback during play (position update)\r\n    onposition: null,       // object containing times and function callbacks for positions of interest\r\n    onstop: null,           // callback for \"user stop\"\r\n    onfinish: null,         // callback function for \"sound finished playing\"\r\n    multiShot: true,        // let sounds \"restart\" or layer on top of each other when played multiple times, rather than one-shot/one at a time\r\n    multiShotEvents: false, // fire multiple sound events (currently onfinish() only) when multiShot is enabled\r\n    position: null,         // offset (milliseconds) to seek to within loaded sound data.\r\n    pan: 0,                 // \"pan\" settings, left-to-right, -100 to 100\r\n    playbackRate: 1,        // rate at which to play the sound (HTML5-only)\r\n    stream: true,           // allows playing before entire file has loaded (recommended)\r\n    to: null,               // position to end playback within a sound (msec), default = end\r\n    type: null,             // MIME-like hint for file pattern / canPlay() tests, eg. audio/mp3\r\n    usePolicyFile: false,   // enable crossdomain.xml request for audio on remote domains (for ID3/waveform access)\r\n    volume: 100             // self-explanatory. 0-100, the latter being the max.\r\n\r\n  };\r\n\r\n  this.flash9Options = {\r\n\r\n    /**\r\n     * flash 9-only options,\r\n     * merged into defaultOptions if flash 9 is being used\r\n     */\r\n\r\n    onfailure: null,        // callback function for when playing fails (Flash 9, MovieStar + RTMP-only)\r\n    isMovieStar: null,      // \"MovieStar\" MPEG4 audio mode. Null (default) = auto detect MP4, AAC etc. based on URL. true = force on, ignore URL\r\n    usePeakData: false,     // enable left/right channel peak (level) data\r\n    useWaveformData: false, // enable sound spectrum (raw waveform data) - NOTE: May increase CPU load.\r\n    useEQData: false,       // enable sound EQ (frequency spectrum data) - NOTE: May increase CPU load.\r\n    onbufferchange: null,   // callback for \"isBuffering\" property change\r\n    ondataerror: null       // callback for waveform/eq data access error (flash playing audio in other tabs/domains)\r\n\r\n  };\r\n\r\n  this.movieStarOptions = {\r\n\r\n    /**\r\n     * flash 9.0r115+ MPEG4 audio options,\r\n     * merged into defaultOptions if flash 9+movieStar mode is enabled\r\n     */\r\n\r\n    bufferTime: 3,          // seconds of data to buffer before playback begins (null = flash default of 0.1 seconds - if AAC playback is gappy, try increasing.)\r\n    serverURL: null,        // rtmp: FMS or FMIS server to connect to, required when requesting media via RTMP or one of its variants\r\n    onconnect: null,        // rtmp: callback for connection to flash media server\r\n    duration: null          // rtmp: song duration (msec)\r\n\r\n  };\r\n\r\n  this.audioFormats = {\r\n\r\n    /**\r\n     * determines HTML5 support + flash requirements.\r\n     * if no support (via flash and/or HTML5) for a \"required\" format, SM2 will fail to start.\r\n     * flash fallback is used for MP3 or MP4 if HTML5 can't play it (or if preferFlash = true)\r\n     */\r\n\r\n    mp3: {\r\n      type: ['audio/mpeg; codecs=\"mp3\"', 'audio/mpeg', 'audio/mp3', 'audio/MPA', 'audio/mpa-robust'],\r\n      required: true\r\n    },\r\n\r\n    mp4: {\r\n      related: ['aac', 'm4a', 'm4b'], // additional formats under the MP4 container\r\n      type: ['audio/mp4; codecs=\"mp4a.40.2\"', 'audio/aac', 'audio/x-m4a', 'audio/MP4A-LATM', 'audio/mpeg4-generic'],\r\n      required: false\r\n    },\r\n\r\n    ogg: {\r\n      type: ['audio/ogg; codecs=vorbis'],\r\n      required: false\r\n    },\r\n\r\n    opus: {\r\n      type: ['audio/ogg; codecs=opus', 'audio/opus'],\r\n      required: false\r\n    },\r\n\r\n    wav: {\r\n      type: ['audio/wav; codecs=\"1\"', 'audio/wav', 'audio/wave', 'audio/x-wav'],\r\n      required: false\r\n    },\r\n\r\n    flac: {\r\n      type: ['audio/flac'],\r\n      required: false\r\n    }\r\n\r\n  };\r\n\r\n  // HTML attributes (id + class names) for the SWF container\r\n\r\n  this.movieID = 'sm2-container';\r\n  this.id = (smID || 'sm2movie');\r\n\r\n  this.debugID = 'soundmanager-debug';\r\n  this.debugURLParam = /([#?&])debug=1/i;\r\n\r\n  // dynamic attributes\r\n\r\n  this.versionNumber = 'V2.97a.20170601';\r\n  this.version = null;\r\n  this.movieURL = null;\r\n  this.altURL = null;\r\n  this.swfLoaded = false;\r\n  this.enabled = false;\r\n  this.oMC = null;\r\n  this.sounds = {};\r\n  this.soundIDs = [];\r\n  this.muted = false;\r\n  this.didFlashBlock = false;\r\n  this.filePattern = null;\r\n\r\n  this.filePatterns = {\r\n    flash8: /\\.mp3(\\?.*)?$/i,\r\n    flash9: /\\.mp3(\\?.*)?$/i\r\n  };\r\n\r\n  // support indicators, set at init\r\n\r\n  this.features = {\r\n    buffering: false,\r\n    peakData: false,\r\n    waveformData: false,\r\n    eqData: false,\r\n    movieStar: false\r\n  };\r\n\r\n  // flash sandbox info, used primarily in troubleshooting\r\n\r\n  this.sandbox = {\r\n    // <d>\r\n    type: null,\r\n    types: {\r\n      remote: 'remote (domain-based) rules',\r\n      localWithFile: 'local with file access (no internet access)',\r\n      localWithNetwork: 'local with network (internet access only, no local access)',\r\n      localTrusted: 'local, trusted (local+internet access)'\r\n    },\r\n    description: null,\r\n    noRemote: null,\r\n    noLocal: null\r\n    // </d>\r\n  };\r\n\r\n  /**\r\n   * format support (html5/flash)\r\n   * stores canPlayType() results based on audioFormats.\r\n   * eg. { mp3: boolean, mp4: boolean }\r\n   * treat as read-only.\r\n   */\r\n\r\n  this.html5 = {\r\n    usingFlash: null // set if/when flash fallback is needed\r\n  };\r\n\r\n  // file type support hash\r\n  this.flash = {};\r\n\r\n  // determined at init time\r\n  this.html5Only = false;\r\n\r\n  // used for special cases (eg. iPad/iPhone/palm OS?)\r\n  this.ignoreFlash = false;\r\n\r\n  /**\r\n   * a few private internals (OK, a lot. :D)\r\n   */\r\n\r\n  var SMSound,\r\n  sm2 = this, globalHTML5Audio = null, flash = null, sm = 'soundManager', smc = sm + ': ', h5 = 'HTML5::', id, ua = navigator.userAgent, wl = window.location.href.toString(), doc = document, doNothing, setProperties, init, fV, on_queue = [], debugOpen = true, debugTS, didAppend = false, appendSuccess = false, didInit = false, disabled = false, windowLoaded = false, _wDS, wdCount = 0, initComplete, mixin, assign, extraOptions, addOnEvent, processOnEvents, initUserOnload, delayWaitForEI, waitForEI, rebootIntoHTML5, setVersionInfo, handleFocus, strings, initMovie, domContentLoaded, winOnLoad, didDCLoaded, getDocument, createMovie, catchError, setPolling, initDebug, debugLevels = ['log', 'info', 'warn', 'error'], defaultFlashVersion = 8, disableObject, failSafely, normalizeMovieURL, oRemoved = null, oRemovedHTML = null, str, flashBlockHandler, getSWFCSS, swfCSS, toggleDebug, loopFix, policyFix, complain, idCheck, waitingForEI = false, initPending = false, startTimer, stopTimer, timerExecute, h5TimerCount = 0, h5IntervalTimer = null, parseURL, messages = [],\r\n  canIgnoreFlash, needsFlash = null, featureCheck, html5OK, html5CanPlay, html5ErrorCodes, html5Ext, html5Unload, domContentLoadedIE, testHTML5, event, slice = Array.prototype.slice, useGlobalHTML5Audio = false, lastGlobalHTML5URL, hasFlash, detectFlash, badSafariFix, html5_events, showSupport, flushMessages, wrapCallback, idCounter = 0, didSetup, msecScale = 1000,\r\n  is_iDevice = ua.match(/(ipad|iphone|ipod)/i), isAndroid = ua.match(/android/i), isIE = ua.match(/msie|trident/i),\r\n  isWebkit = ua.match(/webkit/i),\r\n  isSafari = (ua.match(/safari/i) && !ua.match(/chrome/i)),\r\n  isOpera = (ua.match(/opera/i)),\r\n  mobileHTML5 = (ua.match(/(mobile|pre\\/|xoom)/i) || is_iDevice || isAndroid),\r\n  isBadSafari = (!wl.match(/usehtml5audio/i) && !wl.match(/sm2-ignorebadua/i) && isSafari && !ua.match(/silk/i) && ua.match(/OS\\sX\\s10_6_([3-7])/i)), // Safari 4 and 5 (excluding Kindle Fire, \"Silk\") occasionally fail to load/play HTML5 audio on Snow Leopard 10.6.3 through 10.6.7 due to bug(s) in QuickTime X and/or other underlying frameworks. :/ Confirmed bug. https://bugs.webkit.org/show_bug.cgi?id=32159\r\n  hasConsole = (window.console !== _undefined && console.log !== _undefined),\r\n  isFocused = (doc.hasFocus !== _undefined ? doc.hasFocus() : null),\r\n  tryInitOnFocus = (isSafari && (doc.hasFocus === _undefined || !doc.hasFocus())),\r\n  okToDisable = !tryInitOnFocus,\r\n  flashMIME = /(mp3|mp4|mpa|m4a|m4b)/i,\r\n  emptyURL = 'about:blank', // safe URL to unload, or load nothing from (flash 8 + most HTML5 UAs)\r\n  emptyWAV = 'data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==', // tiny WAV for HTML5 unloading\r\n  overHTTP = (doc.location ? doc.location.protocol.match(/http/i) : null),\r\n  http = (!overHTTP ? '//' : ''),\r\n  // mp3, mp4, aac etc.\r\n  netStreamMimeTypes = /^\\s*audio\\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\\s*(?:$|;)/i,\r\n  // Flash v9.0r115+ \"moviestar\" formats\r\n  netStreamTypes = ['mpeg4', 'aac', 'flv', 'mov', 'mp4', 'm4v', 'f4v', 'm4a', 'm4b', 'mp4v', '3gp', '3g2'],\r\n  netStreamPattern = new RegExp('\\\\.(' + netStreamTypes.join('|') + ')(\\\\?.*)?$', 'i');\r\n\r\n  this.mimePattern = /^\\s*audio\\/(?:x-)?(?:mp(?:eg|3))\\s*(?:$|;)/i; // default mp3 set\r\n\r\n  // use altURL if not \"online\"\r\n  this.useAltURL = !overHTTP;\r\n\r\n  swfCSS = {\r\n    swfBox: 'sm2-object-box',\r\n    swfDefault: 'movieContainer',\r\n    swfError: 'swf_error', // SWF loaded, but SM2 couldn't start (other error)\r\n    swfTimedout: 'swf_timedout',\r\n    swfLoaded: 'swf_loaded',\r\n    swfUnblocked: 'swf_unblocked', // or loaded OK\r\n    sm2Debug: 'sm2_debug',\r\n    highPerf: 'high_performance',\r\n    flashDebug: 'flash_debug'\r\n  };\r\n\r\n  /**\r\n   * HTML5 error codes, per W3C\r\n   * Error code 1, MEDIA_ERR_ABORTED: Client aborted download at user's request.\r\n   * Error code 2, MEDIA_ERR_NETWORK: A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.\r\n   * Error code 3, MEDIA_ERR_DECODE: An error of some description occurred while decoding the media resource, after the resource was established to be usable.\r\n   * Error code 4, MEDIA_ERR_SRC_NOT_SUPPORTED: Media (audio file) not supported (\"not usable.\")\r\n   * Reference: https://html.spec.whatwg.org/multipage/embedded-content.html#error-codes\r\n   */\r\n  html5ErrorCodes = [\r\n    null,\r\n    'MEDIA_ERR_ABORTED',\r\n    'MEDIA_ERR_NETWORK',\r\n    'MEDIA_ERR_DECODE',\r\n    'MEDIA_ERR_SRC_NOT_SUPPORTED'\r\n  ];\r\n\r\n  /**\r\n   * basic HTML5 Audio() support test\r\n   * try...catch because of IE 9 \"not implemented\" nonsense\r\n   * https://github.com/Modernizr/Modernizr/issues/224\r\n   */\r\n\r\n  this.hasHTML5 = (function() {\r\n    try {\r\n      // new Audio(null) for stupid Opera 9.64 case, which throws not_enough_arguments exception otherwise.\r\n      return (Audio !== _undefined && (isOpera && opera !== _undefined && opera.version() < 10 ? new Audio(null) : new Audio()).canPlayType !== _undefined);\r\n    } catch(e) {\r\n      return false;\r\n    }\r\n  }());\r\n\r\n  /**\r\n   * Public SoundManager API\r\n   * -----------------------\r\n   */\r\n\r\n  /**\r\n   * Configures top-level soundManager properties.\r\n   *\r\n   * @param {object} options Option parameters, eg. { flashVersion: 9, url: '/path/to/swfs/' }\r\n   * onready and ontimeout are also accepted parameters. call soundManager.setup() to see the full list.\r\n   */\r\n\r\n  this.setup = function(options) {\r\n\r\n    var noURL = (!sm2.url);\r\n\r\n    // warn if flash options have already been applied\r\n\r\n    if (options !== _undefined && didInit && needsFlash && sm2.ok() && (options.flashVersion !== _undefined || options.url !== _undefined || options.html5Test !== _undefined)) {\r\n      complain(str('setupLate'));\r\n    }\r\n\r\n    // TODO: defer: true?\r\n\r\n    assign(options);\r\n\r\n    if (!useGlobalHTML5Audio) {\r\n\r\n      if (mobileHTML5) {\r\n\r\n        // force the singleton HTML5 pattern on mobile, by default.\r\n        if (!sm2.setupOptions.ignoreMobileRestrictions || sm2.setupOptions.forceUseGlobalHTML5Audio) {\r\n          messages.push(strings.globalHTML5);\r\n          useGlobalHTML5Audio = true;\r\n        }\r\n\r\n      } else if (sm2.setupOptions.forceUseGlobalHTML5Audio) {\r\n\r\n        // only apply singleton HTML5 on desktop if forced.\r\n        messages.push(strings.globalHTML5);\r\n        useGlobalHTML5Audio = true;\r\n\r\n      }\r\n\r\n    }\r\n\r\n    if (!didSetup && mobileHTML5) {\r\n\r\n      if (sm2.setupOptions.ignoreMobileRestrictions) {\r\n\r\n        messages.push(strings.ignoreMobile);\r\n\r\n      } else {\r\n\r\n        // prefer HTML5 for mobile + tablet-like devices, probably more reliable vs. flash at this point.\r\n\r\n        // <d>\r\n        if (!sm2.setupOptions.useHTML5Audio || sm2.setupOptions.preferFlash) {\r\n          // notify that defaults are being changed.\r\n          sm2._wD(strings.mobileUA);\r\n        }\r\n        // </d>\r\n\r\n        sm2.setupOptions.useHTML5Audio = true;\r\n        sm2.setupOptions.preferFlash = false;\r\n\r\n        if (is_iDevice) {\r\n\r\n          // no flash here.\r\n          sm2.ignoreFlash = true;\r\n\r\n        } else if ((isAndroid && !ua.match(/android\\s2\\.3/i)) || !isAndroid) {\r\n\r\n          /**\r\n           * Android devices tend to work better with a single audio instance, specifically for chained playback of sounds in sequence.\r\n           * Common use case: exiting sound onfinish() -> createSound() -> play()\r\n           * Presuming similar restrictions for other mobile, non-Android, non-iOS devices.\r\n           */\r\n\r\n          // <d>\r\n          sm2._wD(strings.globalHTML5);\r\n          // </d>\r\n\r\n          useGlobalHTML5Audio = true;\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    // special case 1: \"Late setup\". SM2 loaded normally, but user didn't assign flash URL eg., setup({url:...}) before SM2 init. Treat as delayed init.\r\n\r\n    if (options) {\r\n\r\n      if (noURL && didDCLoaded && options.url !== _undefined) {\r\n        sm2.beginDelayedInit();\r\n      }\r\n\r\n      // special case 2: If lazy-loading SM2 (DOMContentLoaded has already happened) and user calls setup() with url: parameter, try to init ASAP.\r\n\r\n      if (!didDCLoaded && options.url !== _undefined && doc.readyState === 'complete') {\r\n        setTimeout(domContentLoaded, 1);\r\n      }\r\n\r\n    }\r\n\r\n    didSetup = true;\r\n\r\n    return sm2;\r\n\r\n  };\r\n\r\n  this.ok = function() {\r\n\r\n    return (needsFlash ? (didInit && !disabled) : (sm2.useHTML5Audio && sm2.hasHTML5));\r\n\r\n  };\r\n\r\n  this.supported = this.ok; // legacy\r\n\r\n  this.getMovie = function(movie_id) {\r\n\r\n    // safety net: some old browsers differ on SWF references, possibly related to ExternalInterface / flash version\r\n    return id(movie_id) || doc[movie_id] || window[movie_id];\r\n\r\n  };\r\n\r\n  /**\r\n   * Creates a SMSound sound object instance. Can also be overloaded, e.g., createSound('mySound', '/some.mp3');\r\n   *\r\n   * @param {object} oOptions Sound options (at minimum, url parameter is required.)\r\n   * @return {object} SMSound The new SMSound object.\r\n   */\r\n\r\n  this.createSound = function(oOptions, _url) {\r\n\r\n    var cs, cs_string, options, oSound = null;\r\n\r\n    // <d>\r\n    cs = sm + '.createSound(): ';\r\n    cs_string = cs + str(!didInit ? 'notReady' : 'notOK');\r\n    // </d>\r\n\r\n    if (!didInit || !sm2.ok()) {\r\n      complain(cs_string);\r\n      return false;\r\n    }\r\n\r\n    if (_url !== _undefined) {\r\n      // function overloading in JS! :) ... assume simple createSound(id, url) use case.\r\n      oOptions = {\r\n        id: oOptions,\r\n        url: _url\r\n      };\r\n    }\r\n\r\n    // inherit from defaultOptions\r\n    options = mixin(oOptions);\r\n\r\n    options.url = parseURL(options.url);\r\n\r\n    // generate an id, if needed.\r\n    if (options.id === _undefined) {\r\n      options.id = sm2.setupOptions.idPrefix + (idCounter++);\r\n    }\r\n\r\n    // <d>\r\n    if (options.id.toString().charAt(0).match(/^[0-9]$/)) {\r\n      sm2._wD(cs + str('badID', options.id), 2);\r\n    }\r\n\r\n    sm2._wD(cs + options.id + (options.url ? ' (' + options.url + ')' : ''), 1);\r\n    // </d>\r\n\r\n    if (idCheck(options.id, true)) {\r\n      sm2._wD(cs + options.id + ' exists', 1);\r\n      return sm2.sounds[options.id];\r\n    }\r\n\r\n    function make() {\r\n\r\n      options = loopFix(options);\r\n      sm2.sounds[options.id] = new SMSound(options);\r\n      sm2.soundIDs.push(options.id);\r\n      return sm2.sounds[options.id];\r\n\r\n    }\r\n\r\n    if (html5OK(options)) {\r\n\r\n      oSound = make();\r\n      // <d>\r\n      if (!sm2.html5Only) {\r\n        sm2._wD(options.id + ': Using HTML5');\r\n      }\r\n      // </d>\r\n      oSound._setup_html5(options);\r\n\r\n    } else {\r\n\r\n      if (sm2.html5Only) {\r\n        sm2._wD(options.id + ': No HTML5 support for this sound, and no Flash. Exiting.');\r\n        return make();\r\n      }\r\n\r\n      // TODO: Move HTML5/flash checks into generic URL parsing/handling function.\r\n\r\n      if (sm2.html5.usingFlash && options.url && options.url.match(/data:/i)) {\r\n        // data: URIs not supported by Flash, either.\r\n        sm2._wD(options.id + ': data: URIs not supported via Flash. Exiting.');\r\n        return make();\r\n      }\r\n\r\n      if (fV > 8) {\r\n        if (options.isMovieStar === null) {\r\n          // attempt to detect MPEG-4 formats\r\n          options.isMovieStar = !!(options.serverURL || (options.type ? options.type.match(netStreamMimeTypes) : false) || (options.url && options.url.match(netStreamPattern)));\r\n        }\r\n        // <d>\r\n        if (options.isMovieStar) {\r\n          sm2._wD(cs + 'using MovieStar handling');\r\n          if (options.loops > 1) {\r\n            _wDS('noNSLoop');\r\n          }\r\n        }\r\n        // </d>\r\n      }\r\n\r\n      options = policyFix(options, cs);\r\n      oSound = make();\r\n\r\n      if (fV === 8) {\r\n        flash._createSound(options.id, options.loops || 1, options.usePolicyFile);\r\n      } else {\r\n        flash._createSound(options.id, options.url, options.usePeakData, options.useWaveformData, options.useEQData, options.isMovieStar, (options.isMovieStar ? options.bufferTime : false), options.loops || 1, options.serverURL, options.duration || null, options.autoPlay, true, options.autoLoad, options.usePolicyFile);\r\n        if (!options.serverURL) {\r\n          // We are connected immediately\r\n          oSound.connected = true;\r\n          if (options.onconnect) {\r\n            options.onconnect.apply(oSound);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!options.serverURL && (options.autoLoad || options.autoPlay)) {\r\n        // call load for non-rtmp streams\r\n        oSound.load(options);\r\n      }\r\n\r\n    }\r\n\r\n    // rtmp will play in onconnect\r\n    if (!options.serverURL && options.autoPlay) {\r\n      oSound.play();\r\n    }\r\n\r\n    return oSound;\r\n\r\n  };\r\n\r\n  /**\r\n   * Destroys a SMSound sound object instance.\r\n   *\r\n   * @param {string} sID The ID of the sound to destroy\r\n   */\r\n\r\n  this.destroySound = function(sID, _bFromSound) {\r\n\r\n    // explicitly destroy a sound before normal page unload, etc.\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    var oS = sm2.sounds[sID], i;\r\n\r\n    oS.stop();\r\n\r\n    // Disable all callbacks after stop(), when the sound is being destroyed\r\n    oS._iO = {};\r\n\r\n    oS.unload();\r\n\r\n    for (i = 0; i < sm2.soundIDs.length; i++) {\r\n      if (sm2.soundIDs[i] === sID) {\r\n        sm2.soundIDs.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (!_bFromSound) {\r\n      // ignore if being called from SMSound instance\r\n      oS.destruct(true);\r\n    }\r\n\r\n    oS = null;\r\n    delete sm2.sounds[sID];\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the load() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {object} oOptions Optional: Sound options\r\n   */\r\n\r\n  this.load = function(sID, oOptions) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].load(oOptions);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the unload() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   */\r\n\r\n  this.unload = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].unload();\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the onPosition() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {number} nPosition The position to watch for\r\n   * @param {function} oMethod The relevant callback to fire\r\n   * @param {object} oScope Optional: The scope to apply the callback to\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.onPosition = function(sID, nPosition, oMethod, oScope) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].onposition(nPosition, oMethod, oScope);\r\n\r\n  };\r\n\r\n  // legacy/backwards-compability: lower-case method name\r\n  this.onposition = this.onPosition;\r\n\r\n  /**\r\n   * Calls the clearOnPosition() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {number} nPosition The position to watch for\r\n   * @param {function} oMethod Optional: The relevant callback to fire\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.clearOnPosition = function(sID, nPosition, oMethod) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].clearOnPosition(nPosition, oMethod);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the play() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {object} oOptions Optional: Sound options\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.play = function(sID, oOptions) {\r\n\r\n    var result = null,\r\n        // legacy function-overloading use case: play('mySound', '/path/to/some.mp3');\r\n        overloaded = (oOptions && !(oOptions instanceof Object));\r\n\r\n    if (!didInit || !sm2.ok()) {\r\n      complain(sm + '.play(): ' + str(!didInit ? 'notReady' : 'notOK'));\r\n      return false;\r\n    }\r\n\r\n    if (!idCheck(sID, overloaded)) {\r\n\r\n      // no sound found for the given ID. Bail.\r\n      if (!overloaded) return false;\r\n\r\n      if (overloaded) {\r\n        oOptions = {\r\n          url: oOptions\r\n        };\r\n      }\r\n\r\n      if (oOptions && oOptions.url) {\r\n        // overloading use case, create+play: .play('someID', {url:'/path/to.mp3'});\r\n        sm2._wD(sm + '.play(): Attempting to create \"' + sID + '\"', 1);\r\n        oOptions.id = sID;\r\n        result = sm2.createSound(oOptions).play();\r\n      }\r\n\r\n    } else if (overloaded) {\r\n\r\n      // existing sound object case\r\n      oOptions = {\r\n        url: oOptions\r\n      };\r\n\r\n    }\r\n\r\n    if (result === null) {\r\n      // default case\r\n      result = sm2.sounds[sID].play(oOptions);\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  // just for convenience\r\n  this.start = this.play;\r\n\r\n  /**\r\n   * Calls the setPlaybackRate() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.setPlaybackRate = function(sID, rate, allowOverride) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].setPlaybackRate(rate, allowOverride);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the setPosition() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {number} nMsecOffset Position (milliseconds)\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.setPosition = function(sID, nMsecOffset) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].setPosition(nMsecOffset);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the stop() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.stop = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    sm2._wD(sm + '.stop(' + sID + ')', 1);\r\n\r\n    return sm2.sounds[sID].stop();\r\n\r\n  };\r\n\r\n  /**\r\n   * Stops all currently-playing sounds.\r\n   */\r\n\r\n  this.stopAll = function() {\r\n\r\n    var oSound;\r\n    sm2._wD(sm + '.stopAll()', 1);\r\n\r\n    for (oSound in sm2.sounds) {\r\n      if (sm2.sounds.hasOwnProperty(oSound)) {\r\n        // apply only to sound objects\r\n        sm2.sounds[oSound].stop();\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the pause() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.pause = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].pause();\r\n\r\n  };\r\n\r\n  /**\r\n   * Pauses all currently-playing sounds.\r\n   */\r\n\r\n  this.pauseAll = function() {\r\n\r\n    var i;\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n      sm2.sounds[sm2.soundIDs[i]].pause();\r\n    }\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the resume() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.resume = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].resume();\r\n\r\n  };\r\n\r\n  /**\r\n   * Resumes all currently-paused sounds.\r\n   */\r\n\r\n  this.resumeAll = function() {\r\n\r\n    var i;\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n      sm2.sounds[sm2.soundIDs[i]].resume();\r\n    }\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the togglePause() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.togglePause = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].togglePause();\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the setPan() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {number} nPan The pan value (-100 to 100)\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.setPan = function(sID, nPan) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].setPan(nPan);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the setVolume() method of a SMSound object by ID\r\n   * Overloaded case: pass only volume argument eg., setVolume(50) to apply to all sounds.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @param {number} nVol The volume value (0 to 100)\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.setVolume = function(sID, nVol) {\r\n\r\n    // setVolume(50) function overloading case - apply to all sounds\r\n\r\n    var i, j;\r\n\r\n    if (sID !== _undefined && !isNaN(sID) && nVol === _undefined) {\r\n      for (i = 0, j = sm2.soundIDs.length; i < j; i++) {\r\n        sm2.sounds[sm2.soundIDs[i]].setVolume(sID);\r\n      }\r\n      return false;\r\n    }\r\n\r\n    // setVolume('mySound', 50) case\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].setVolume(nVol);\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the mute() method of either a single SMSound object by ID, or all sound objects.\r\n   *\r\n   * @param {string} sID Optional: The ID of the sound (if omitted, all sounds will be used.)\r\n   */\r\n\r\n  this.mute = function(sID) {\r\n\r\n    var i = 0;\r\n\r\n    if (sID instanceof String) {\r\n      sID = null;\r\n    }\r\n\r\n    if (!sID) {\r\n\r\n      sm2._wD(sm + '.mute(): Muting all sounds');\r\n      for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n        sm2.sounds[sm2.soundIDs[i]].mute();\r\n      }\r\n      sm2.muted = true;\r\n\r\n    } else {\r\n\r\n      if (!idCheck(sID)) return false;\r\n\r\n      sm2._wD(sm + '.mute(): Muting \"' + sID + '\"');\r\n      return sm2.sounds[sID].mute();\r\n\r\n    }\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  /**\r\n   * Mutes all sounds.\r\n   */\r\n\r\n  this.muteAll = function() {\r\n\r\n    sm2.mute();\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the unmute() method of either a single SMSound object by ID, or all sound objects.\r\n   *\r\n   * @param {string} sID Optional: The ID of the sound (if omitted, all sounds will be used.)\r\n   */\r\n\r\n  this.unmute = function(sID) {\r\n\r\n    var i;\r\n\r\n    if (sID instanceof String) {\r\n      sID = null;\r\n    }\r\n\r\n    if (!sID) {\r\n\r\n      sm2._wD(sm + '.unmute(): Unmuting all sounds');\r\n      for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n        sm2.sounds[sm2.soundIDs[i]].unmute();\r\n      }\r\n      sm2.muted = false;\r\n\r\n    } else {\r\n\r\n      if (!idCheck(sID)) return false;\r\n\r\n      sm2._wD(sm + '.unmute(): Unmuting \"' + sID + '\"');\r\n\r\n      return sm2.sounds[sID].unmute();\r\n\r\n    }\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  /**\r\n   * Unmutes all sounds.\r\n   */\r\n\r\n  this.unmuteAll = function() {\r\n\r\n    sm2.unmute();\r\n\r\n  };\r\n\r\n  /**\r\n   * Calls the toggleMute() method of a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.toggleMute = function(sID) {\r\n\r\n    if (!idCheck(sID)) return false;\r\n\r\n    return sm2.sounds[sID].toggleMute();\r\n\r\n  };\r\n\r\n  /**\r\n   * Retrieves the memory used by the flash plugin.\r\n   *\r\n   * @return {number} The amount of memory in use\r\n   */\r\n\r\n  this.getMemoryUse = function() {\r\n\r\n    // flash-only\r\n    var ram = 0;\r\n\r\n    if (flash && fV !== 8) {\r\n      ram = parseInt(flash._getMemoryUse(), 10);\r\n    }\r\n\r\n    return ram;\r\n\r\n  };\r\n\r\n  /**\r\n   * Undocumented: NOPs soundManager and all SMSound objects.\r\n   */\r\n\r\n  this.disable = function(bNoDisable) {\r\n\r\n    // destroy all functions\r\n    var i;\r\n\r\n    if (bNoDisable === _undefined) {\r\n      bNoDisable = false;\r\n    }\r\n\r\n    // already disabled?\r\n    if (disabled) return false;\r\n\r\n    disabled = true;\r\n\r\n    _wDS('shutdown', 1);\r\n\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n      disableObject(sm2.sounds[sm2.soundIDs[i]]);\r\n    }\r\n\r\n    disableObject(sm2);\r\n\r\n    // fire \"complete\", despite fail\r\n    initComplete(bNoDisable);\r\n\r\n    event.remove(window, 'load', initUserOnload);\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  /**\r\n   * Determines playability of a MIME type, eg. 'audio/mp3'.\r\n   */\r\n\r\n  this.canPlayMIME = function(sMIME) {\r\n\r\n    var result;\r\n\r\n    if (sm2.hasHTML5) {\r\n      result = html5CanPlay({\r\n        type: sMIME\r\n      });\r\n    }\r\n\r\n    if (!result && needsFlash) {\r\n      // if flash 9, test netStream (movieStar) types as well.\r\n      result = (sMIME && sm2.ok() ? !!((fV > 8 ? sMIME.match(netStreamMimeTypes) : null) || sMIME.match(sm2.mimePattern)) : null); // TODO: make less \"weird\" (per JSLint)\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * Determines playability of a URL based on audio support.\r\n   *\r\n   * @param {string} sURL The URL to test\r\n   * @return {boolean} URL playability\r\n   */\r\n\r\n  this.canPlayURL = function(sURL) {\r\n\r\n    var result;\r\n\r\n    if (sm2.hasHTML5) {\r\n      result = html5CanPlay({\r\n        url: sURL\r\n      });\r\n    }\r\n\r\n    if (!result && needsFlash) {\r\n      result = (sURL && sm2.ok() ? !!(sURL.match(sm2.filePattern)) : null);\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * Determines playability of an HTML DOM &lt;a&gt; object (or similar object literal) based on audio support.\r\n   *\r\n   * @param {object} oLink an HTML DOM &lt;a&gt; object or object literal including href and/or type attributes\r\n   * @return {boolean} URL playability\r\n   */\r\n\r\n  this.canPlayLink = function(oLink) {\r\n\r\n    if (oLink.type !== _undefined && oLink.type && sm2.canPlayMIME(oLink.type)) return true;\r\n\r\n    return sm2.canPlayURL(oLink.href);\r\n\r\n  };\r\n\r\n  /**\r\n   * Retrieves a SMSound object by ID.\r\n   *\r\n   * @param {string} sID The ID of the sound\r\n   * @return {SMSound} The SMSound object\r\n   */\r\n\r\n  this.getSoundById = function(sID, _suppressDebug) {\r\n\r\n    if (!sID) return null;\r\n\r\n    var result = sm2.sounds[sID];\r\n\r\n    // <d>\r\n    if (!result && !_suppressDebug) {\r\n      sm2._wD(sm + '.getSoundById(): Sound \"' + sID + '\" not found.', 2);\r\n    }\r\n    // </d>\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * Queues a callback for execution when SoundManager has successfully initialized.\r\n   *\r\n   * @param {function} oMethod The callback method to fire\r\n   * @param {object} oScope Optional: The scope to apply to the callback\r\n   */\r\n\r\n  this.onready = function(oMethod, oScope) {\r\n\r\n    var sType = 'onready',\r\n        result = false;\r\n\r\n    if (typeof oMethod === 'function') {\r\n\r\n      // <d>\r\n      if (didInit) {\r\n        sm2._wD(str('queue', sType));\r\n      }\r\n      // </d>\r\n\r\n      if (!oScope) {\r\n        oScope = window;\r\n      }\r\n\r\n      addOnEvent(sType, oMethod, oScope);\r\n      processOnEvents();\r\n\r\n      result = true;\r\n\r\n    } else {\r\n\r\n      throw str('needFunction', sType);\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * Queues a callback for execution when SoundManager has failed to initialize.\r\n   *\r\n   * @param {function} oMethod The callback method to fire\r\n   * @param {object} oScope Optional: The scope to apply to the callback\r\n   */\r\n\r\n  this.ontimeout = function(oMethod, oScope) {\r\n\r\n    var sType = 'ontimeout',\r\n        result = false;\r\n\r\n    if (typeof oMethod === 'function') {\r\n\r\n      // <d>\r\n      if (didInit) {\r\n        sm2._wD(str('queue', sType));\r\n      }\r\n      // </d>\r\n\r\n      if (!oScope) {\r\n        oScope = window;\r\n      }\r\n\r\n      addOnEvent(sType, oMethod, oScope);\r\n      processOnEvents({ type: sType });\r\n\r\n      result = true;\r\n\r\n    } else {\r\n\r\n      throw str('needFunction', sType);\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * Writes console.log()-style debug output to a console or in-browser element.\r\n   * Applies when debugMode = true\r\n   *\r\n   * @param {string} sText The console message\r\n   * @param {object} nType Optional log level (number), or object. Number case: Log type/style where 0 = 'info', 1 = 'warn', 2 = 'error'. Object case: Object to be dumped.\r\n   */\r\n\r\n  this._writeDebug = function(sText, sTypeOrObject) {\r\n\r\n    // pseudo-private console.log()-style output\r\n    // <d>\r\n\r\n    var sDID = 'soundmanager-debug', o, oItem;\r\n\r\n    if (!sm2.setupOptions.debugMode) return false;\r\n\r\n    if (hasConsole && sm2.useConsole) {\r\n      if (sTypeOrObject && typeof sTypeOrObject === 'object') {\r\n        // object passed; dump to console.\r\n        console.log(sText, sTypeOrObject);\r\n      } else if (debugLevels[sTypeOrObject] !== _undefined) {\r\n        console[debugLevels[sTypeOrObject]](sText);\r\n      } else {\r\n        console.log(sText);\r\n      }\r\n      if (sm2.consoleOnly) return true;\r\n    }\r\n\r\n    o = id(sDID);\r\n\r\n    if (!o) return false;\r\n\r\n    oItem = doc.createElement('div');\r\n\r\n    if (++wdCount % 2 === 0) {\r\n      oItem.className = 'sm2-alt';\r\n    }\r\n\r\n    if (sTypeOrObject === _undefined) {\r\n      sTypeOrObject = 0;\r\n    } else {\r\n      sTypeOrObject = parseInt(sTypeOrObject, 10);\r\n    }\r\n\r\n    oItem.appendChild(doc.createTextNode(sText));\r\n\r\n    if (sTypeOrObject) {\r\n      if (sTypeOrObject >= 2) {\r\n        oItem.style.fontWeight = 'bold';\r\n      }\r\n      if (sTypeOrObject === 3) {\r\n        oItem.style.color = '#ff3333';\r\n      }\r\n    }\r\n\r\n    // top-to-bottom\r\n    // o.appendChild(oItem);\r\n\r\n    // bottom-to-top\r\n    o.insertBefore(oItem, o.firstChild);\r\n\r\n    o = null;\r\n    // </d>\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  // <d>\r\n  // last-resort debugging option\r\n  if (wl.indexOf('sm2-debug=alert') !== -1) {\r\n    this._writeDebug = function(sText) {\r\n      window.alert(sText);\r\n    };\r\n  }\r\n  // </d>\r\n\r\n  // alias\r\n  this._wD = this._writeDebug;\r\n\r\n  /**\r\n   * Provides debug / state information on all SMSound objects.\r\n   */\r\n\r\n  this._debug = function() {\r\n\r\n    // <d>\r\n    var i, j;\r\n    _wDS('currentObj', 1);\r\n\r\n    for (i = 0, j = sm2.soundIDs.length; i < j; i++) {\r\n      sm2.sounds[sm2.soundIDs[i]]._debug();\r\n    }\r\n    // </d>\r\n\r\n  };\r\n\r\n  /**\r\n   * Restarts and re-initializes the SoundManager instance.\r\n   *\r\n   * @param {boolean} resetEvents Optional: When true, removes all registered onready and ontimeout event callbacks.\r\n   * @param {boolean} excludeInit Options: When true, does not call beginDelayedInit() (which would restart SM2).\r\n   * @return {object} soundManager The soundManager instance.\r\n   */\r\n\r\n  this.reboot = function(resetEvents, excludeInit) {\r\n\r\n    // reset some (or all) state, and re-init unless otherwise specified.\r\n\r\n    // <d>\r\n    if (sm2.soundIDs.length) {\r\n      sm2._wD('Destroying ' + sm2.soundIDs.length + ' SMSound object' + (sm2.soundIDs.length !== 1 ? 's' : '') + '...');\r\n    }\r\n    // </d>\r\n\r\n    var i, j, k;\r\n\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n      sm2.sounds[sm2.soundIDs[i]].destruct();\r\n    }\r\n\r\n    // trash ze flash (remove from the DOM)\r\n\r\n    if (flash) {\r\n\r\n      try {\r\n\r\n        if (isIE) {\r\n          oRemovedHTML = flash.innerHTML;\r\n        }\r\n\r\n        oRemoved = flash.parentNode.removeChild(flash);\r\n\r\n      } catch(e) {\r\n\r\n        // Remove failed? May be due to flash blockers silently removing the SWF object/embed node from the DOM. Warn and continue.\r\n\r\n        _wDS('badRemove', 2);\r\n\r\n      }\r\n\r\n    }\r\n\r\n    // actually, force recreate of movie.\r\n\r\n    oRemovedHTML = oRemoved = needsFlash = flash = null;\r\n\r\n    sm2.enabled = didDCLoaded = didInit = waitingForEI = initPending = didAppend = appendSuccess = disabled = useGlobalHTML5Audio = sm2.swfLoaded = false;\r\n\r\n    sm2.soundIDs = [];\r\n    sm2.sounds = {};\r\n\r\n    idCounter = 0;\r\n    didSetup = false;\r\n\r\n    if (!resetEvents) {\r\n      // reset callbacks for onready, ontimeout etc. so that they will fire again on re-init\r\n      for (i in on_queue) {\r\n        if (on_queue.hasOwnProperty(i)) {\r\n          for (j = 0, k = on_queue[i].length; j < k; j++) {\r\n            on_queue[i][j].fired = false;\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      // remove all callbacks entirely\r\n      on_queue = [];\r\n    }\r\n\r\n    // <d>\r\n    if (!excludeInit) {\r\n      sm2._wD(sm + ': Rebooting...');\r\n    }\r\n    // </d>\r\n\r\n    // reset HTML5 and flash canPlay test results\r\n\r\n    sm2.html5 = {\r\n      usingFlash: null\r\n    };\r\n\r\n    sm2.flash = {};\r\n\r\n    // reset device-specific HTML/flash mode switches\r\n\r\n    sm2.html5Only = false;\r\n    sm2.ignoreFlash = false;\r\n\r\n    window.setTimeout(function() {\r\n\r\n      // by default, re-init\r\n\r\n      if (!excludeInit) {\r\n        sm2.beginDelayedInit();\r\n      }\r\n\r\n    }, 20);\r\n\r\n    return sm2;\r\n\r\n  };\r\n\r\n  this.reset = function() {\r\n\r\n    /**\r\n     * Shuts down and restores the SoundManager instance to its original loaded state, without an explicit reboot. All onready/ontimeout handlers are removed.\r\n     * After this call, SM2 may be re-initialized via soundManager.beginDelayedInit().\r\n     * @return {object} soundManager The soundManager instance.\r\n     */\r\n\r\n    _wDS('reset');\r\n\r\n    return sm2.reboot(true, true);\r\n\r\n  };\r\n\r\n  /**\r\n   * Undocumented: Determines the SM2 flash movie's load progress.\r\n   *\r\n   * @return {number or null} Percent loaded, or if invalid/unsupported, null.\r\n   */\r\n\r\n  this.getMoviePercent = function() {\r\n\r\n    /**\r\n     * Interesting syntax notes...\r\n     * Flash/ExternalInterface (ActiveX/NPAPI) bridge methods are not typeof \"function\" nor instanceof Function, but are still valid.\r\n     * Furthermore, using (flash && flash.PercentLoaded) causes IE to throw \"object doesn't support this property or method\".\r\n     * Thus, 'in' syntax must be used.\r\n     */\r\n\r\n    return (flash && 'PercentLoaded' in flash ? flash.PercentLoaded() : null);\r\n\r\n  };\r\n\r\n  /**\r\n   * Additional helper for manually invoking SM2's init process after DOM Ready / window.onload().\r\n   */\r\n\r\n  this.beginDelayedInit = function() {\r\n\r\n    windowLoaded = true;\r\n    domContentLoaded();\r\n\r\n    setTimeout(function() {\r\n\r\n      if (initPending) return false;\r\n\r\n      createMovie();\r\n      initMovie();\r\n      initPending = true;\r\n\r\n      return true;\r\n\r\n    }, 20);\r\n\r\n    delayWaitForEI();\r\n\r\n  };\r\n\r\n  /**\r\n   * Destroys the SoundManager instance and all SMSound instances.\r\n   */\r\n\r\n  this.destruct = function() {\r\n\r\n    sm2._wD(sm + '.destruct()');\r\n    sm2.disable(true);\r\n\r\n  };\r\n\r\n  /**\r\n   * SMSound() (sound object) constructor\r\n   * ------------------------------------\r\n   *\r\n   * @param {object} oOptions Sound options (id and url are required attributes)\r\n   * @return {SMSound} The new SMSound object\r\n   */\r\n\r\n  SMSound = function(oOptions) {\r\n\r\n    var s = this, resetProperties, add_html5_events, remove_html5_events, stop_html5_timer, start_html5_timer, attachOnPosition, onplay_called = false, onPositionItems = [], onPositionFired = 0, detachOnPosition, applyFromTo, lastURL = null, lastHTML5State, urlOmitted;\r\n\r\n    lastHTML5State = {\r\n      // tracks duration + position (time)\r\n      duration: null,\r\n      time: null\r\n    };\r\n\r\n    this.id = oOptions.id;\r\n\r\n    // legacy\r\n    this.sID = this.id;\r\n\r\n    this.url = oOptions.url;\r\n    this.options = mixin(oOptions);\r\n\r\n    // per-play-instance-specific options\r\n    this.instanceOptions = this.options;\r\n\r\n    // short alias\r\n    this._iO = this.instanceOptions;\r\n\r\n    // assign property defaults\r\n    this.pan = this.options.pan;\r\n    this.volume = this.options.volume;\r\n\r\n    // whether or not this object is using HTML5\r\n    this.isHTML5 = false;\r\n\r\n    // internal HTML5 Audio() object reference\r\n    this._a = null;\r\n\r\n    // for flash 8 special-case createSound() without url, followed by load/play with url case\r\n    urlOmitted = (!this.url);\r\n\r\n    /**\r\n     * SMSound() public methods\r\n     * ------------------------\r\n     */\r\n\r\n    this.id3 = {};\r\n\r\n    /**\r\n     * Writes SMSound object parameters to debug console\r\n     */\r\n\r\n    this._debug = function() {\r\n\r\n      // <d>\r\n      sm2._wD(s.id + ': Merged options:', s.options);\r\n      // </d>\r\n\r\n    };\r\n\r\n    /**\r\n     * Begins loading a sound per its *url*.\r\n     *\r\n     * @param {object} options Optional: Sound options\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.load = function(options) {\r\n\r\n      var oSound = null, instanceOptions;\r\n\r\n      if (options !== _undefined) {\r\n        s._iO = mixin(options, s.options);\r\n      } else {\r\n        options = s.options;\r\n        s._iO = options;\r\n        if (lastURL && lastURL !== s.url) {\r\n          _wDS('manURL');\r\n          s._iO.url = s.url;\r\n          s.url = null;\r\n        }\r\n      }\r\n\r\n      if (!s._iO.url) {\r\n        s._iO.url = s.url;\r\n      }\r\n\r\n      s._iO.url = parseURL(s._iO.url);\r\n\r\n      // ensure we're in sync\r\n      s.instanceOptions = s._iO;\r\n\r\n      // local shortcut\r\n      instanceOptions = s._iO;\r\n\r\n      sm2._wD(s.id + ': load (' + instanceOptions.url + ')');\r\n\r\n      if (!instanceOptions.url && !s.url) {\r\n        sm2._wD(s.id + ': load(): url is unassigned. Exiting.', 2);\r\n        return s;\r\n      }\r\n\r\n      // <d>\r\n      if (!s.isHTML5 && fV === 8 && !s.url && !instanceOptions.autoPlay) {\r\n        // flash 8 load() -> play() won't work before onload has fired.\r\n        sm2._wD(s.id + ': Flash 8 load() limitation: Wait for onload() before calling play().', 1);\r\n      }\r\n      // </d>\r\n\r\n      if (instanceOptions.url === s.url && s.readyState !== 0 && s.readyState !== 2) {\r\n        _wDS('onURL', 1);\r\n        // if loaded and an onload() exists, fire immediately.\r\n        if (s.readyState === 3 && instanceOptions.onload) {\r\n          // assume success based on truthy duration.\r\n          wrapCallback(s, function() {\r\n            instanceOptions.onload.apply(s, [(!!s.duration)]);\r\n          });\r\n        }\r\n        return s;\r\n      }\r\n\r\n      // reset a few state properties\r\n\r\n      s.loaded = false;\r\n      s.readyState = 1;\r\n      s.playState = 0;\r\n      s.id3 = {};\r\n\r\n      // TODO: If switching from HTML5 -> flash (or vice versa), stop currently-playing audio.\r\n\r\n      if (html5OK(instanceOptions)) {\r\n\r\n        oSound = s._setup_html5(instanceOptions);\r\n\r\n        if (!oSound._called_load) {\r\n\r\n          s._html5_canplay = false;\r\n\r\n          // TODO: review called_load / html5_canplay logic\r\n\r\n          // if url provided directly to load(), assign it here.\r\n\r\n          if (s.url !== instanceOptions.url) {\r\n\r\n            sm2._wD(_wDS('manURL') + ': ' + instanceOptions.url);\r\n\r\n            s._a.src = instanceOptions.url;\r\n\r\n            // TODO: review / re-apply all relevant options (volume, loop, onposition etc.)\r\n\r\n            // reset position for new URL\r\n            s.setPosition(0);\r\n\r\n          }\r\n\r\n          // given explicit load call, try to preload.\r\n\r\n          // early HTML5 implementation (non-standard)\r\n          s._a.autobuffer = 'auto';\r\n\r\n          // standard property, values: none / metadata / auto\r\n          // reference: http://msdn.microsoft.com/en-us/library/ie/ff974759%28v=vs.85%29.aspx\r\n          s._a.preload = 'auto';\r\n\r\n          s._a._called_load = true;\r\n\r\n        } else {\r\n\r\n          sm2._wD(s.id + ': Ignoring request to load again');\r\n\r\n        }\r\n\r\n      } else {\r\n\r\n        if (sm2.html5Only) {\r\n          sm2._wD(s.id + ': No flash support. Exiting.');\r\n          return s;\r\n        }\r\n\r\n        if (s._iO.url && s._iO.url.match(/data:/i)) {\r\n          // data: URIs not supported by Flash, either.\r\n          sm2._wD(s.id + ': data: URIs not supported via Flash. Exiting.');\r\n          return s;\r\n        }\r\n\r\n        try {\r\n          s.isHTML5 = false;\r\n          s._iO = policyFix(loopFix(instanceOptions));\r\n          // if we have \"position\", disable auto-play as we'll be seeking to that position at onload().\r\n          if (s._iO.autoPlay && (s._iO.position || s._iO.from)) {\r\n            sm2._wD(s.id + ': Disabling autoPlay because of non-zero offset case');\r\n            s._iO.autoPlay = false;\r\n          }\r\n          // re-assign local shortcut\r\n          instanceOptions = s._iO;\r\n          if (fV === 8) {\r\n            flash._load(s.id, instanceOptions.url, instanceOptions.stream, instanceOptions.autoPlay, instanceOptions.usePolicyFile);\r\n          } else {\r\n            flash._load(s.id, instanceOptions.url, !!(instanceOptions.stream), !!(instanceOptions.autoPlay), instanceOptions.loops || 1, !!(instanceOptions.autoLoad), instanceOptions.usePolicyFile);\r\n          }\r\n        } catch(e) {\r\n          _wDS('smError', 2);\r\n          debugTS('onload', false);\r\n          catchError({\r\n            type: 'SMSOUND_LOAD_JS_EXCEPTION',\r\n            fatal: true\r\n          });\r\n        }\r\n\r\n      }\r\n\r\n      // after all of this, ensure sound url is up to date.\r\n      s.url = instanceOptions.url;\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Unloads a sound, canceling any open HTTP requests.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.unload = function() {\r\n\r\n      // Flash 8/AS2 can't \"close\" a stream - fake it by loading an empty URL\r\n      // Flash 9/AS3: Close stream, preventing further load\r\n      // HTML5: Most UAs will use empty URL\r\n\r\n      if (s.readyState !== 0) {\r\n\r\n        sm2._wD(s.id + ': unload()');\r\n\r\n        if (!s.isHTML5) {\r\n\r\n          if (fV === 8) {\r\n            flash._unload(s.id, emptyURL);\r\n          } else {\r\n            flash._unload(s.id);\r\n          }\r\n\r\n        } else {\r\n\r\n          stop_html5_timer();\r\n\r\n          if (s._a) {\r\n\r\n            s._a.pause();\r\n\r\n            // update empty URL, too\r\n            lastURL = html5Unload(s._a);\r\n\r\n          }\r\n\r\n        }\r\n\r\n        // reset load/status flags\r\n        resetProperties();\r\n\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Unloads and destroys a sound.\r\n     */\r\n\r\n    this.destruct = function(_bFromSM) {\r\n\r\n      sm2._wD(s.id + ': Destruct');\r\n\r\n      if (!s.isHTML5) {\r\n\r\n        // kill sound within Flash\r\n        // Disable the onfailure handler\r\n        s._iO.onfailure = null;\r\n        flash._destroySound(s.id);\r\n\r\n      } else {\r\n\r\n        stop_html5_timer();\r\n\r\n        if (s._a) {\r\n          s._a.pause();\r\n          html5Unload(s._a);\r\n          if (!useGlobalHTML5Audio) {\r\n            remove_html5_events();\r\n          }\r\n          // break obvious circular reference\r\n          s._a._s = null;\r\n          s._a = null;\r\n        }\r\n\r\n      }\r\n\r\n      if (!_bFromSM) {\r\n        // ensure deletion from controller\r\n        sm2.destroySound(s.id, true);\r\n      }\r\n\r\n    };\r\n\r\n    /**\r\n     * Begins playing a sound.\r\n     *\r\n     * @param {object} options Optional: Sound options\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.play = function(options, _updatePlayState) {\r\n\r\n      var fN, allowMulti, a, onready,\r\n          audioClone, onended, oncanplay,\r\n          startOK = true;\r\n\r\n      // <d>\r\n      fN = s.id + ': play(): ';\r\n      // </d>\r\n\r\n      // default to true\r\n      _updatePlayState = (_updatePlayState === _undefined ? true : _updatePlayState);\r\n\r\n      if (!options) {\r\n        options = {};\r\n      }\r\n\r\n      // first, use local URL (if specified)\r\n      if (s.url) {\r\n        s._iO.url = s.url;\r\n      }\r\n\r\n      // mix in any options defined at createSound()\r\n      s._iO = mixin(s._iO, s.options);\r\n\r\n      // mix in any options specific to this method\r\n      s._iO = mixin(options, s._iO);\r\n\r\n      s._iO.url = parseURL(s._iO.url);\r\n\r\n      s.instanceOptions = s._iO;\r\n\r\n      // RTMP-only\r\n      if (!s.isHTML5 && s._iO.serverURL && !s.connected) {\r\n        if (!s.getAutoPlay()) {\r\n          sm2._wD(fN + ' Netstream not connected yet - setting autoPlay');\r\n          s.setAutoPlay(true);\r\n        }\r\n        // play will be called in onconnect()\r\n        return s;\r\n      }\r\n\r\n      if (html5OK(s._iO)) {\r\n        s._setup_html5(s._iO);\r\n        start_html5_timer();\r\n      }\r\n\r\n      if (s.playState === 1 && !s.paused) {\r\n\r\n        allowMulti = s._iO.multiShot;\r\n\r\n        if (!allowMulti) {\r\n\r\n          sm2._wD(fN + 'Already playing (one-shot)', 1);\r\n\r\n          if (s.isHTML5) {\r\n            // go back to original position.\r\n            s.setPosition(s._iO.position);\r\n          }\r\n\r\n          return s;\r\n\r\n        }\r\n\r\n        sm2._wD(fN + 'Already playing (multi-shot)', 1);\r\n\r\n      }\r\n\r\n      // edge case: play() with explicit URL parameter\r\n      if (options.url && options.url !== s.url) {\r\n\r\n        // special case for createSound() followed by load() / play() with url; avoid double-load case.\r\n        if (!s.readyState && !s.isHTML5 && fV === 8 && urlOmitted) {\r\n\r\n          urlOmitted = false;\r\n\r\n        } else {\r\n\r\n          // load using merged options\r\n          s.load(s._iO);\r\n\r\n        }\r\n\r\n      }\r\n\r\n      if (!s.loaded) {\r\n\r\n        if (s.readyState === 0) {\r\n\r\n          sm2._wD(fN + 'Attempting to load');\r\n\r\n          // try to get this sound playing ASAP\r\n          if (!s.isHTML5 && !sm2.html5Only) {\r\n\r\n            // flash: assign directly because setAutoPlay() increments the instanceCount\r\n            s._iO.autoPlay = true;\r\n            s.load(s._iO);\r\n\r\n          } else if (s.isHTML5) {\r\n\r\n            // iOS needs this when recycling sounds, loading a new URL on an existing object.\r\n            s.load(s._iO);\r\n\r\n          } else {\r\n\r\n            sm2._wD(fN + 'Unsupported type. Exiting.');\r\n\r\n            return s;\r\n\r\n          }\r\n\r\n          // HTML5 hack - re-set instanceOptions?\r\n          s.instanceOptions = s._iO;\r\n\r\n        } else if (s.readyState === 2) {\r\n\r\n          sm2._wD(fN + 'Could not load - exiting', 2);\r\n\r\n          return s;\r\n\r\n        } else {\r\n\r\n          sm2._wD(fN + 'Loading - attempting to play...');\r\n\r\n        }\r\n\r\n      } else {\r\n\r\n        // \"play()\"\r\n        sm2._wD(fN.substr(0, fN.lastIndexOf(':')));\r\n\r\n      }\r\n\r\n      if (!s.isHTML5 && fV === 9 && s.position > 0 && s.position === s.duration) {\r\n        // flash 9 needs a position reset if play() is called while at the end of a sound.\r\n        sm2._wD(fN + 'Sound at end, resetting to position: 0');\r\n        options.position = 0;\r\n      }\r\n\r\n      /**\r\n       * Streams will pause when their buffer is full if they are being loaded.\r\n       * In this case paused is true, but the song hasn't started playing yet.\r\n       * If we just call resume() the onplay() callback will never be called.\r\n       * So only call resume() if the position is > 0.\r\n       * Another reason is because options like volume won't have been applied yet.\r\n       * For normal sounds, just resume.\r\n       */\r\n\r\n      if (s.paused && s.position >= 0 && (!s._iO.serverURL || s.position > 0)) {\r\n\r\n        // https://gist.github.com/37b17df75cc4d7a90bf6\r\n        sm2._wD(fN + 'Resuming from paused state', 1);\r\n        s.resume();\r\n\r\n      } else {\r\n\r\n        s._iO = mixin(options, s._iO);\r\n\r\n        /**\r\n         * Preload in the event of play() with position under Flash,\r\n         * or from/to parameters and non-RTMP case\r\n         */\r\n        if (((!s.isHTML5 && s._iO.position !== null && s._iO.position > 0) || (s._iO.from !== null && s._iO.from > 0) || s._iO.to !== null) && s.instanceCount === 0 && s.playState === 0 && !s._iO.serverURL) {\r\n\r\n          onready = function() {\r\n            // sound \"canplay\" or onload()\r\n            // re-apply position/from/to to instance options, and start playback\r\n            s._iO = mixin(options, s._iO);\r\n            s.play(s._iO);\r\n          };\r\n\r\n          // HTML5 needs to at least have \"canplay\" fired before seeking.\r\n          if (s.isHTML5 && !s._html5_canplay) {\r\n\r\n            // this hasn't been loaded yet. load it first, and then do this again.\r\n            sm2._wD(fN + 'Beginning load for non-zero offset case');\r\n\r\n            s.load({\r\n              // note: custom HTML5-only event added for from/to implementation.\r\n              _oncanplay: onready\r\n            });\r\n\r\n          } else if (!s.isHTML5 && !s.loaded && (!s.readyState || s.readyState !== 2)) {\r\n\r\n            // to be safe, preload the whole thing in Flash.\r\n\r\n            sm2._wD(fN + 'Preloading for non-zero offset case');\r\n\r\n            s.load({\r\n              onload: onready\r\n            });\r\n\r\n          }\r\n\r\n          // otherwise, we're ready to go. re-apply local options, and continue\r\n\r\n          s._iO = applyFromTo();\r\n\r\n        }\r\n\r\n        // sm2._wD(fN + 'Starting to play');\r\n\r\n        // increment instance counter, where enabled + supported\r\n        if (!s.instanceCount || s._iO.multiShotEvents || (s.isHTML5 && s._iO.multiShot && !useGlobalHTML5Audio) || (!s.isHTML5 && fV > 8 && !s.getAutoPlay())) {\r\n          s.instanceCount++;\r\n        }\r\n\r\n        // if first play and onposition parameters exist, apply them now\r\n        if (s._iO.onposition && s.playState === 0) {\r\n          attachOnPosition(s);\r\n        }\r\n\r\n        s.playState = 1;\r\n        s.paused = false;\r\n\r\n        s.position = (s._iO.position !== _undefined && !isNaN(s._iO.position) ? s._iO.position : 0);\r\n\r\n        if (!s.isHTML5) {\r\n          s._iO = policyFix(loopFix(s._iO));\r\n        }\r\n\r\n        if (s._iO.onplay && _updatePlayState) {\r\n          s._iO.onplay.apply(s);\r\n          onplay_called = true;\r\n        }\r\n\r\n        s.setVolume(s._iO.volume, true);\r\n        s.setPan(s._iO.pan, true);\r\n\r\n        if (s._iO.playbackRate !== 1) {\r\n          s.setPlaybackRate(s._iO.playbackRate);\r\n        }\r\n\r\n        if (!s.isHTML5) {\r\n\r\n          startOK = flash._start(s.id, s._iO.loops || 1, (fV === 9 ? s.position : s.position / msecScale), s._iO.multiShot || false);\r\n\r\n          if (fV === 9 && !startOK) {\r\n            // edge case: no sound hardware, or 32-channel flash ceiling hit.\r\n            // applies only to Flash 9, non-NetStream/MovieStar sounds.\r\n            // http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/media/Sound.html#play%28%29\r\n            sm2._wD(fN + 'No sound hardware, or 32-sound ceiling hit', 2);\r\n            if (s._iO.onplayerror) {\r\n              s._iO.onplayerror.apply(s);\r\n            }\r\n\r\n          }\r\n\r\n        } else if (s.instanceCount < 2) {\r\n\r\n            // HTML5 single-instance case\r\n\r\n            start_html5_timer();\r\n\r\n            a = s._setup_html5();\r\n\r\n            s.setPosition(s._iO.position);\r\n\r\n            a.play();\r\n\r\n          } else {\r\n\r\n            // HTML5 multi-shot case\r\n\r\n            sm2._wD(s.id + ': Cloning Audio() for instance #' + s.instanceCount + '...');\r\n\r\n            audioClone = new Audio(s._iO.url);\r\n\r\n            onended = function() {\r\n              event.remove(audioClone, 'ended', onended);\r\n              s._onfinish(s);\r\n              // cleanup\r\n              html5Unload(audioClone);\r\n              audioClone = null;\r\n            };\r\n\r\n            oncanplay = function() {\r\n              event.remove(audioClone, 'canplay', oncanplay);\r\n              try {\r\n                audioClone.currentTime = s._iO.position / msecScale;\r\n              } catch(err) {\r\n                complain(s.id + ': multiShot play() failed to apply position of ' + (s._iO.position / msecScale));\r\n              }\r\n              audioClone.play();\r\n            };\r\n\r\n            event.add(audioClone, 'ended', onended);\r\n\r\n            // apply volume to clones, too\r\n            if (s._iO.volume !== _undefined) {\r\n              audioClone.volume = Math.max(0, Math.min(1, s._iO.volume / 100));\r\n            }\r\n\r\n            // playing multiple muted sounds? if you do this, you're weird ;) - but let's cover it.\r\n            if (s.muted) {\r\n              audioClone.muted = true;\r\n            }\r\n\r\n            if (s._iO.position) {\r\n              // HTML5 audio can't seek before onplay() event has fired.\r\n              // wait for canplay, then seek to position and start playback.\r\n              event.add(audioClone, 'canplay', oncanplay);\r\n            } else {\r\n              // begin playback at currentTime: 0\r\n              audioClone.play();\r\n            }\r\n\r\n          }\r\n\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    // just for convenience\r\n    this.start = this.play;\r\n\r\n    /**\r\n     * Stops playing a sound (and optionally, all sounds)\r\n     *\r\n     * @param {boolean} bAll Optional: Whether to stop all sounds\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.stop = function(bAll) {\r\n\r\n      var instanceOptions = s._iO,\r\n          originalPosition;\r\n\r\n      if (s.playState === 1) {\r\n\r\n        sm2._wD(s.id + ': stop()');\r\n\r\n        s._onbufferchange(0);\r\n        s._resetOnPosition(0);\r\n        s.paused = false;\r\n\r\n        if (!s.isHTML5) {\r\n          s.playState = 0;\r\n        }\r\n\r\n        // remove onPosition listeners, if any\r\n        detachOnPosition();\r\n\r\n        // and \"to\" position, if set\r\n        if (instanceOptions.to) {\r\n          s.clearOnPosition(instanceOptions.to);\r\n        }\r\n\r\n        if (!s.isHTML5) {\r\n\r\n          flash._stop(s.id, bAll);\r\n\r\n          // hack for netStream: just unload\r\n          if (instanceOptions.serverURL) {\r\n            s.unload();\r\n          }\r\n\r\n        } else if (s._a) {\r\n\r\n            originalPosition = s.position;\r\n\r\n            // act like Flash, though\r\n            s.setPosition(0);\r\n\r\n            // hack: reflect old position for onstop() (also like Flash)\r\n            s.position = originalPosition;\r\n\r\n            // html5 has no stop()\r\n            // NOTE: pausing means iOS requires interaction to resume.\r\n            s._a.pause();\r\n\r\n            s.playState = 0;\r\n\r\n            // and update UI\r\n            s._onTimer();\r\n\r\n            stop_html5_timer();\r\n\r\n          }\r\n\r\n        s.instanceCount = 0;\r\n        s._iO = {};\r\n\r\n        if (instanceOptions.onstop) {\r\n          instanceOptions.onstop.apply(s);\r\n        }\r\n\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Undocumented/internal: Sets autoPlay for RTMP.\r\n     *\r\n     * @param {boolean} autoPlay state\r\n     */\r\n\r\n    this.setAutoPlay = function(autoPlay) {\r\n\r\n      sm2._wD(s.id + ': Autoplay turned ' + (autoPlay ? 'on' : 'off'));\r\n      s._iO.autoPlay = autoPlay;\r\n\r\n      if (!s.isHTML5) {\r\n        flash._setAutoPlay(s.id, autoPlay);\r\n        if (autoPlay) {\r\n          // only increment the instanceCount if the sound isn't loaded (TODO: verify RTMP)\r\n          if (!s.instanceCount && s.readyState === 1) {\r\n            s.instanceCount++;\r\n            sm2._wD(s.id + ': Incremented instance count to ' + s.instanceCount);\r\n          }\r\n        }\r\n      }\r\n\r\n    };\r\n\r\n    /**\r\n     * Undocumented/internal: Returns the autoPlay boolean.\r\n     *\r\n     * @return {boolean} The current autoPlay value\r\n     */\r\n\r\n    this.getAutoPlay = function() {\r\n\r\n      return s._iO.autoPlay;\r\n\r\n    };\r\n\r\n    /**\r\n     * Sets the playback rate of a sound (HTML5-only.)\r\n     *\r\n     * @param {number} playbackRate (+/-)\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.setPlaybackRate = function(playbackRate) {\r\n\r\n      // Per Mozilla, limit acceptable values to prevent playback from stopping (unless allowOverride is truthy.)\r\n      // https://developer.mozilla.org/en-US/Apps/Build/Audio_and_video_delivery/WebAudio_playbackRate_explained\r\n      var normalizedRate = Math.max(0.5, Math.min(4, playbackRate));\r\n\r\n      // <d>\r\n      if (normalizedRate !== playbackRate) {\r\n        sm2._wD(s.id + ': setPlaybackRate(' + playbackRate + '): limiting rate to ' + normalizedRate, 2);\r\n      }\r\n      // </d>\r\n\r\n      if (s.isHTML5) {\r\n        try {\r\n          s._iO.playbackRate = normalizedRate;\r\n          s._a.playbackRate = normalizedRate;\r\n        } catch(e) {\r\n          sm2._wD(s.id + ': setPlaybackRate(' + normalizedRate + ') failed: ' + e.message, 2);\r\n        }\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Sets the position of a sound.\r\n     *\r\n     * @param {number} nMsecOffset Position (milliseconds)\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.setPosition = function(nMsecOffset) {\r\n\r\n      if (nMsecOffset === _undefined) {\r\n        nMsecOffset = 0;\r\n      }\r\n\r\n      var position, position1K,\r\n          // Use the duration from the instance options, if we don't have a track duration yet.\r\n          // position >= 0 and <= current available (loaded) duration\r\n          offset = (s.isHTML5 ? Math.max(nMsecOffset, 0) : Math.min(s.duration || s._iO.duration, Math.max(nMsecOffset, 0)));\r\n\r\n      s.position = offset;\r\n      position1K = s.position / msecScale;\r\n      s._resetOnPosition(s.position);\r\n      s._iO.position = offset;\r\n\r\n      if (!s.isHTML5) {\r\n\r\n        position = (fV === 9 ? s.position : position1K);\r\n\r\n        if (s.readyState && s.readyState !== 2) {\r\n          // if paused or not playing, will not resume (by playing)\r\n          flash._setPosition(s.id, position, (s.paused || !s.playState), s._iO.multiShot);\r\n        }\r\n\r\n      } else if (s._a) {\r\n\r\n        // Set the position in the canplay handler if the sound is not ready yet\r\n        if (s._html5_canplay) {\r\n\r\n          if (s._a.currentTime.toFixed(3) !== position1K.toFixed(3)) {\r\n\r\n            /**\r\n             * DOM/JS errors/exceptions to watch out for:\r\n             * if seek is beyond (loaded?) position, \"DOM exception 11\"\r\n             * \"INDEX_SIZE_ERR\": DOM exception 1\r\n             */\r\n            sm2._wD(s.id + ': setPosition(' + position1K + ')');\r\n\r\n            try {\r\n              s._a.currentTime = position1K;\r\n              if (s.playState === 0 || s.paused) {\r\n                // allow seek without auto-play/resume\r\n                s._a.pause();\r\n              }\r\n            } catch(e) {\r\n              sm2._wD(s.id + ': setPosition(' + position1K + ') failed: ' + e.message, 2);\r\n            }\r\n\r\n          }\r\n\r\n        } else if (position1K) {\r\n\r\n          // warn on non-zero seek attempts\r\n          sm2._wD(s.id + ': setPosition(' + position1K + '): Cannot seek yet, sound not ready', 2);\r\n          return s;\r\n\r\n        }\r\n\r\n        if (s.paused) {\r\n\r\n          // if paused, refresh UI right away by forcing update\r\n          s._onTimer(true);\r\n\r\n        }\r\n\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Pauses sound playback.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.pause = function(_bCallFlash) {\r\n\r\n      if (s.paused || (s.playState === 0 && s.readyState !== 1)) return s;\r\n\r\n      sm2._wD(s.id + ': pause()');\r\n      s.paused = true;\r\n\r\n      if (!s.isHTML5) {\r\n        if (_bCallFlash || _bCallFlash === _undefined) {\r\n          flash._pause(s.id, s._iO.multiShot);\r\n        }\r\n      } else {\r\n        s._setup_html5().pause();\r\n        stop_html5_timer();\r\n      }\r\n\r\n      if (s._iO.onpause) {\r\n        s._iO.onpause.apply(s);\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Resumes sound playback.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    /**\r\n     * When auto-loaded streams pause on buffer full they have a playState of 0.\r\n     * We need to make sure that the playState is set to 1 when these streams \"resume\".\r\n     * When a paused stream is resumed, we need to trigger the onplay() callback if it\r\n     * hasn't been called already. In this case since the sound is being played for the\r\n     * first time, I think it's more appropriate to call onplay() rather than onresume().\r\n     */\r\n\r\n    this.resume = function() {\r\n\r\n      var instanceOptions = s._iO;\r\n\r\n      if (!s.paused) return s;\r\n\r\n      sm2._wD(s.id + ': resume()');\r\n      s.paused = false;\r\n      s.playState = 1;\r\n\r\n      if (!s.isHTML5) {\r\n\r\n        if (instanceOptions.isMovieStar && !instanceOptions.serverURL) {\r\n          // Bizarre Webkit bug (Chrome reported via 8tracks.com dudes): AAC content paused for 30+ seconds(?) will not resume without a reposition.\r\n          s.setPosition(s.position);\r\n        }\r\n\r\n        // flash method is toggle-based (pause/resume)\r\n        flash._pause(s.id, instanceOptions.multiShot);\r\n\r\n      } else {\r\n\r\n        s._setup_html5().play();\r\n        start_html5_timer();\r\n\r\n      }\r\n\r\n      if (!onplay_called && instanceOptions.onplay) {\r\n\r\n        instanceOptions.onplay.apply(s);\r\n        onplay_called = true;\r\n\r\n      } else if (instanceOptions.onresume) {\r\n\r\n        instanceOptions.onresume.apply(s);\r\n\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Toggles sound playback.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.togglePause = function() {\r\n\r\n      sm2._wD(s.id + ': togglePause()');\r\n\r\n      if (s.playState === 0) {\r\n        s.play({\r\n          position: (fV === 9 && !s.isHTML5 ? s.position : s.position / msecScale)\r\n        });\r\n        return s;\r\n      }\r\n\r\n      if (s.paused) {\r\n        s.resume();\r\n      } else {\r\n        s.pause();\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Sets the panning (L-R) effect.\r\n     *\r\n     * @param {number} nPan The pan value (-100 to 100)\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.setPan = function(nPan, bInstanceOnly) {\r\n\r\n      if (nPan === _undefined) {\r\n        nPan = 0;\r\n      }\r\n\r\n      if (bInstanceOnly === _undefined) {\r\n        bInstanceOnly = false;\r\n      }\r\n\r\n      if (!s.isHTML5) {\r\n        flash._setPan(s.id, nPan);\r\n      } // else { no HTML5 pan? }\r\n\r\n      s._iO.pan = nPan;\r\n\r\n      if (!bInstanceOnly) {\r\n        s.pan = nPan;\r\n        s.options.pan = nPan;\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Sets the volume.\r\n     *\r\n     * @param {number} nVol The volume value (0 to 100)\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.setVolume = function(nVol, _bInstanceOnly) {\r\n\r\n      /**\r\n       * Note: Setting volume has no effect on iOS \"special snowflake\" devices.\r\n       * Hardware volume control overrides software, and volume\r\n       * will always return 1 per Apple docs. (iOS 4 + 5.)\r\n       * http://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/HTML-canvas-guide/AddingSoundtoCanvasAnimations/AddingSoundtoCanvasAnimations.html\r\n       */\r\n\r\n      if (nVol === _undefined) {\r\n        nVol = 100;\r\n      }\r\n\r\n      if (_bInstanceOnly === _undefined) {\r\n        _bInstanceOnly = false;\r\n      }\r\n\r\n      if (!s.isHTML5) {\r\n\r\n        flash._setVolume(s.id, (sm2.muted && !s.muted) || s.muted ? 0 : nVol);\r\n\r\n      } else if (s._a) {\r\n\r\n        if (sm2.muted && !s.muted) {\r\n          s.muted = true;\r\n          s._a.muted = true;\r\n        }\r\n\r\n        // valid range for native HTML5 Audio(): 0-1\r\n        s._a.volume = Math.max(0, Math.min(1, nVol / 100));\r\n\r\n      }\r\n\r\n      s._iO.volume = nVol;\r\n\r\n      if (!_bInstanceOnly) {\r\n        s.volume = nVol;\r\n        s.options.volume = nVol;\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Mutes the sound.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.mute = function() {\r\n\r\n      s.muted = true;\r\n\r\n      if (!s.isHTML5) {\r\n        flash._setVolume(s.id, 0);\r\n      } else if (s._a) {\r\n        s._a.muted = true;\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Unmutes the sound.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.unmute = function() {\r\n\r\n      s.muted = false;\r\n      var hasIO = (s._iO.volume !== _undefined);\r\n\r\n      if (!s.isHTML5) {\r\n        flash._setVolume(s.id, hasIO ? s._iO.volume : s.options.volume);\r\n      } else if (s._a) {\r\n        s._a.muted = false;\r\n      }\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    /**\r\n     * Toggles the muted state of a sound.\r\n     *\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.toggleMute = function() {\r\n\r\n      return (s.muted ? s.unmute() : s.mute());\r\n\r\n    };\r\n\r\n    /**\r\n     * Registers a callback to be fired when a sound reaches a given position during playback.\r\n     *\r\n     * @param {number} nPosition The position to watch for\r\n     * @param {function} oMethod The relevant callback to fire\r\n     * @param {object} oScope Optional: The scope to apply the callback to\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.onPosition = function(nPosition, oMethod, oScope) {\r\n\r\n      // TODO: basic dupe checking?\r\n\r\n      onPositionItems.push({\r\n        position: parseInt(nPosition, 10),\r\n        method: oMethod,\r\n        scope: (oScope !== _undefined ? oScope : s),\r\n        fired: false\r\n      });\r\n\r\n      return s;\r\n\r\n    };\r\n\r\n    // legacy/backwards-compability: lower-case method name\r\n    this.onposition = this.onPosition;\r\n\r\n    /**\r\n     * Removes registered callback(s) from a sound, by position and/or callback.\r\n     *\r\n     * @param {number} nPosition The position to clear callback(s) for\r\n     * @param {function} oMethod Optional: Identify one callback to be removed when multiple listeners exist for one position\r\n     * @return {SMSound} The SMSound object\r\n     */\r\n\r\n    this.clearOnPosition = function(nPosition, oMethod) {\r\n\r\n      var i;\r\n\r\n      nPosition = parseInt(nPosition, 10);\r\n\r\n      if (isNaN(nPosition)) {\r\n        // safety check\r\n        return;\r\n      }\r\n\r\n      for (i = 0; i < onPositionItems.length; i++) {\r\n\r\n        if (nPosition === onPositionItems[i].position) {\r\n          // remove this item if no method was specified, or, if the method matches\r\n\r\n          if (!oMethod || (oMethod === onPositionItems[i].method)) {\r\n\r\n            if (onPositionItems[i].fired) {\r\n              // decrement \"fired\" counter, too\r\n              onPositionFired--;\r\n            }\r\n\r\n            onPositionItems.splice(i, 1);\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    };\r\n\r\n    this._processOnPosition = function() {\r\n\r\n      var i, item, j = onPositionItems.length;\r\n\r\n      if (!j || !s.playState || onPositionFired >= j) return false;\r\n\r\n      for (i = j - 1; i >= 0; i--) {\r\n\r\n        item = onPositionItems[i];\r\n\r\n        if (!item.fired && s.position >= item.position) {\r\n\r\n          item.fired = true;\r\n          onPositionFired++;\r\n          item.method.apply(item.scope, [item.position]);\r\n\r\n          //  reset j -- onPositionItems.length can be changed in the item callback above... occasionally breaking the loop.\r\n          j = onPositionItems.length;\r\n\r\n        }\r\n\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    this._resetOnPosition = function(nPosition) {\r\n\r\n      // reset \"fired\" for items interested in this position\r\n      var i, item, j = onPositionItems.length;\r\n\r\n      if (!j) return false;\r\n\r\n      for (i = j - 1; i >= 0; i--) {\r\n\r\n        item = onPositionItems[i];\r\n\r\n        if (item.fired && nPosition <= item.position) {\r\n          item.fired = false;\r\n          onPositionFired--;\r\n        }\r\n\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    /**\r\n     * SMSound() private internals\r\n     * --------------------------------\r\n     */\r\n\r\n    applyFromTo = function() {\r\n\r\n      var instanceOptions = s._iO,\r\n          f = instanceOptions.from,\r\n          t = instanceOptions.to,\r\n          start, end;\r\n\r\n      end = function() {\r\n\r\n        // end has been reached.\r\n        sm2._wD(s.id + ': \"To\" time of ' + t + ' reached.');\r\n\r\n        // detach listener\r\n        s.clearOnPosition(t, end);\r\n\r\n        // stop should clear this, too\r\n        s.stop();\r\n\r\n      };\r\n\r\n      start = function() {\r\n\r\n        sm2._wD(s.id + ': Playing \"from\" ' + f);\r\n\r\n        // add listener for end\r\n        if (t !== null && !isNaN(t)) {\r\n          s.onPosition(t, end);\r\n        }\r\n\r\n      };\r\n\r\n      if (f !== null && !isNaN(f)) {\r\n\r\n        // apply to instance options, guaranteeing correct start position.\r\n        instanceOptions.position = f;\r\n\r\n        // multiShot timing can't be tracked, so prevent that.\r\n        instanceOptions.multiShot = false;\r\n\r\n        start();\r\n\r\n      }\r\n\r\n      // return updated instanceOptions including starting position\r\n      return instanceOptions;\r\n\r\n    };\r\n\r\n    attachOnPosition = function() {\r\n\r\n      var item,\r\n          op = s._iO.onposition;\r\n\r\n      // attach onposition things, if any, now.\r\n\r\n      if (op) {\r\n\r\n        for (item in op) {\r\n          if (op.hasOwnProperty(item)) {\r\n            s.onPosition(parseInt(item, 10), op[item]);\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n    };\r\n\r\n    detachOnPosition = function() {\r\n\r\n      var item,\r\n          op = s._iO.onposition;\r\n\r\n      // detach any onposition()-style listeners.\r\n\r\n      if (op) {\r\n\r\n        for (item in op) {\r\n          if (op.hasOwnProperty(item)) {\r\n            s.clearOnPosition(parseInt(item, 10));\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n    };\r\n\r\n    start_html5_timer = function() {\r\n\r\n      if (s.isHTML5) {\r\n        startTimer(s);\r\n      }\r\n\r\n    };\r\n\r\n    stop_html5_timer = function() {\r\n\r\n      if (s.isHTML5) {\r\n        stopTimer(s);\r\n      }\r\n\r\n    };\r\n\r\n    resetProperties = function(retainPosition) {\r\n\r\n      if (!retainPosition) {\r\n        onPositionItems = [];\r\n        onPositionFired = 0;\r\n      }\r\n\r\n      onplay_called = false;\r\n\r\n      s._hasTimer = null;\r\n      s._a = null;\r\n      s._html5_canplay = false;\r\n      s.bytesLoaded = null;\r\n      s.bytesTotal = null;\r\n      s.duration = (s._iO && s._iO.duration ? s._iO.duration : null);\r\n      s.durationEstimate = null;\r\n      s.buffered = [];\r\n\r\n      // legacy: 1D array\r\n      s.eqData = [];\r\n\r\n      s.eqData.left = [];\r\n      s.eqData.right = [];\r\n\r\n      s.failures = 0;\r\n      s.isBuffering = false;\r\n      s.instanceOptions = {};\r\n      s.instanceCount = 0;\r\n      s.loaded = false;\r\n      s.metadata = {};\r\n\r\n      // 0 = uninitialised, 1 = loading, 2 = failed/error, 3 = loaded/success\r\n      s.readyState = 0;\r\n\r\n      s.muted = false;\r\n      s.paused = false;\r\n\r\n      s.peakData = {\r\n        left: 0,\r\n        right: 0\r\n      };\r\n\r\n      s.waveformData = {\r\n        left: [],\r\n        right: []\r\n      };\r\n\r\n      s.playState = 0;\r\n      s.position = null;\r\n\r\n      s.id3 = {};\r\n\r\n    };\r\n\r\n    resetProperties();\r\n\r\n    /**\r\n     * Pseudo-private SMSound internals\r\n     * --------------------------------\r\n     */\r\n\r\n    this._onTimer = function(bForce) {\r\n\r\n      /**\r\n       * HTML5-only _whileplaying() etc.\r\n       * called from both HTML5 native events, and polling/interval-based timers\r\n       * mimics flash and fires only when time/duration change, so as to be polling-friendly\r\n       */\r\n\r\n      var duration, isNew = false, time, x = {};\r\n\r\n      if (s._hasTimer || bForce) {\r\n\r\n        // TODO: May not need to track readyState (1 = loading)\r\n\r\n        if (s._a && (bForce || ((s.playState > 0 || s.readyState === 1) && !s.paused))) {\r\n\r\n          duration = s._get_html5_duration();\r\n\r\n          if (duration !== lastHTML5State.duration) {\r\n\r\n            lastHTML5State.duration = duration;\r\n            s.duration = duration;\r\n            isNew = true;\r\n\r\n          }\r\n\r\n          // TODO: investigate why this goes wack if not set/re-set each time.\r\n          s.durationEstimate = s.duration;\r\n\r\n          time = (s._a.currentTime * msecScale || 0);\r\n\r\n          if (time !== lastHTML5State.time) {\r\n\r\n            lastHTML5State.time = time;\r\n            isNew = true;\r\n\r\n          }\r\n\r\n          if (isNew || bForce) {\r\n\r\n            s._whileplaying(time, x, x, x, x);\r\n\r\n          }\r\n\r\n        }/* else {\r\n\r\n          // sm2._wD('_onTimer: Warn for \"'+s.id+'\": '+(!s._a?'Could not find element. ':'')+(s.playState === 0?'playState bad, 0?':'playState = '+s.playState+', OK'));\r\n\r\n          return false;\r\n\r\n        }*/\r\n\r\n      }\r\n\r\n      return isNew;\r\n\r\n    };\r\n\r\n    this._get_html5_duration = function() {\r\n\r\n      var instanceOptions = s._iO,\r\n          // if audio object exists, use its duration - else, instance option duration (if provided - it's a hack, really, and should be retired) OR null\r\n          d = (s._a && s._a.duration ? s._a.duration * msecScale : (instanceOptions && instanceOptions.duration ? instanceOptions.duration : null)),\r\n          result = (d && !isNaN(d) && d !== Infinity ? d : null);\r\n\r\n      return result;\r\n\r\n    };\r\n\r\n    this._apply_loop = function(a, nLoops) {\r\n\r\n      /**\r\n       * boolean instead of \"loop\", for webkit? - spec says string. http://www.w3.org/TR/html-markup/audio.html#audio.attrs.loop\r\n       * note that loop is either off or infinite under HTML5, unlike Flash which allows arbitrary loop counts to be specified.\r\n       */\r\n\r\n      // <d>\r\n      if (!a.loop && nLoops > 1) {\r\n        sm2._wD('Note: Native HTML5 looping is infinite.', 1);\r\n      }\r\n      // </d>\r\n\r\n      a.loop = (nLoops > 1 ? 'loop' : '');\r\n\r\n    };\r\n\r\n    this._setup_html5 = function(options) {\r\n\r\n      var instanceOptions = mixin(s._iO, options),\r\n          a = useGlobalHTML5Audio ? globalHTML5Audio : s._a,\r\n          dURL = decodeURI(instanceOptions.url),\r\n          sameURL;\r\n\r\n      /**\r\n       * \"First things first, I, Poppa...\" (reset the previous state of the old sound, if playing)\r\n       * Fixes case with devices that can only play one sound at a time\r\n       * Otherwise, other sounds in mid-play will be terminated without warning and in a stuck state\r\n       */\r\n\r\n      if (useGlobalHTML5Audio) {\r\n\r\n        if (dURL === decodeURI(lastGlobalHTML5URL)) {\r\n          // global HTML5 audio: re-use of URL\r\n          sameURL = true;\r\n        }\r\n\r\n      } else if (dURL === decodeURI(lastURL)) {\r\n\r\n        // options URL is the same as the \"last\" URL, and we used (loaded) it\r\n        sameURL = true;\r\n\r\n      }\r\n\r\n      if (a) {\r\n\r\n        if (a._s) {\r\n\r\n          if (useGlobalHTML5Audio) {\r\n\r\n            if (a._s && a._s.playState && !sameURL) {\r\n\r\n              // global HTML5 audio case, and loading a new URL. stop the currently-playing one.\r\n              a._s.stop();\r\n\r\n            }\r\n\r\n          } else if (!useGlobalHTML5Audio && dURL === decodeURI(lastURL)) {\r\n\r\n            // non-global HTML5 reuse case: same url, ignore request\r\n            s._apply_loop(a, instanceOptions.loops);\r\n\r\n            return a;\r\n\r\n          }\r\n\r\n        }\r\n\r\n        if (!sameURL) {\r\n\r\n          // don't retain onPosition() stuff with new URLs.\r\n\r\n          if (lastURL) {\r\n            resetProperties(false);\r\n          }\r\n\r\n          // assign new HTML5 URL\r\n\r\n          a.src = instanceOptions.url;\r\n\r\n          s.url = instanceOptions.url;\r\n\r\n          lastURL = instanceOptions.url;\r\n\r\n          lastGlobalHTML5URL = instanceOptions.url;\r\n\r\n          a._called_load = false;\r\n\r\n        }\r\n\r\n      } else {\r\n\r\n        if (instanceOptions.autoLoad || instanceOptions.autoPlay) {\r\n\r\n          s._a = new Audio(instanceOptions.url);\r\n          s._a.load();\r\n\r\n        } else {\r\n\r\n          // null for stupid Opera 9.64 case\r\n          s._a = (isOpera && opera.version() < 10 ? new Audio(null) : new Audio());\r\n\r\n        }\r\n\r\n        // assign local reference\r\n        a = s._a;\r\n\r\n        a._called_load = false;\r\n\r\n        if (useGlobalHTML5Audio) {\r\n\r\n          globalHTML5Audio = a;\r\n\r\n        }\r\n\r\n      }\r\n\r\n      s.isHTML5 = true;\r\n\r\n      // store a ref on the track\r\n      s._a = a;\r\n\r\n      // store a ref on the audio\r\n      a._s = s;\r\n\r\n      add_html5_events();\r\n\r\n      s._apply_loop(a, instanceOptions.loops);\r\n\r\n      if (instanceOptions.autoLoad || instanceOptions.autoPlay) {\r\n\r\n        s.load();\r\n\r\n      } else {\r\n\r\n        // early HTML5 implementation (non-standard)\r\n        a.autobuffer = false;\r\n\r\n        // standard ('none' is also an option.)\r\n        a.preload = 'auto';\r\n\r\n      }\r\n\r\n      return a;\r\n\r\n    };\r\n\r\n    add_html5_events = function() {\r\n\r\n      if (s._a._added_events) return false;\r\n\r\n      var f;\r\n\r\n      function add(oEvt, oFn, bCapture) {\r\n        return s._a ? s._a.addEventListener(oEvt, oFn, bCapture || false) : null;\r\n      }\r\n\r\n      s._a._added_events = true;\r\n\r\n      for (f in html5_events) {\r\n        if (html5_events.hasOwnProperty(f)) {\r\n          add(f, html5_events[f]);\r\n        }\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    remove_html5_events = function() {\r\n\r\n      // Remove event listeners\r\n\r\n      var f;\r\n\r\n      function remove(oEvt, oFn, bCapture) {\r\n        return (s._a ? s._a.removeEventListener(oEvt, oFn, bCapture || false) : null);\r\n      }\r\n\r\n      sm2._wD(s.id + ': Removing event listeners');\r\n      s._a._added_events = false;\r\n\r\n      for (f in html5_events) {\r\n        if (html5_events.hasOwnProperty(f)) {\r\n          remove(f, html5_events[f]);\r\n        }\r\n      }\r\n\r\n    };\r\n\r\n    /**\r\n     * Pseudo-private event internals\r\n     * ------------------------------\r\n     */\r\n\r\n    this._onload = function(nSuccess) {\r\n\r\n      var fN,\r\n          // check for duration to prevent false positives from flash 8 when loading from cache.\r\n          loadOK = !!nSuccess || (!s.isHTML5 && fV === 8 && s.duration);\r\n\r\n      // <d>\r\n      fN = s.id + ': ';\r\n      sm2._wD(fN + (loadOK ? 'onload()' : 'Failed to load / invalid sound?' + (!s.duration ? ' Zero-length duration reported.' : ' -') + ' (' + s.url + ')'), (loadOK ? 1 : 2));\r\n\r\n      if (!loadOK && !s.isHTML5) {\r\n        if (sm2.sandbox.noRemote === true) {\r\n          sm2._wD(fN + str('noNet'), 1);\r\n        }\r\n        if (sm2.sandbox.noLocal === true) {\r\n          sm2._wD(fN + str('noLocal'), 1);\r\n        }\r\n      }\r\n      // </d>\r\n\r\n      s.loaded = loadOK;\r\n      s.readyState = (loadOK ? 3 : 2);\r\n      s._onbufferchange(0);\r\n\r\n      if (!loadOK && !s.isHTML5) {\r\n        // note: no error code from Flash.\r\n        s._onerror();\r\n      }\r\n\r\n      if (s._iO.onload) {\r\n        wrapCallback(s, function() {\r\n          s._iO.onload.apply(s, [loadOK]);\r\n        });\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    this._onerror = function(errorCode, description) {\r\n\r\n      // https://html.spec.whatwg.org/multipage/embedded-content.html#error-codes\r\n      if (s._iO.onerror) {\r\n        wrapCallback(s, function() {\r\n          s._iO.onerror.apply(s, [errorCode, description]);\r\n        });\r\n      }\r\n\r\n    };\r\n\r\n    this._onbufferchange = function(nIsBuffering) {\r\n\r\n      // ignore if not playing\r\n      if (s.playState === 0) return false;\r\n\r\n      if ((nIsBuffering && s.isBuffering) || (!nIsBuffering && !s.isBuffering)) return false;\r\n\r\n      s.isBuffering = (nIsBuffering === 1);\r\n\r\n      if (s._iO.onbufferchange) {\r\n        sm2._wD(s.id + ': Buffer state change: ' + nIsBuffering);\r\n        s._iO.onbufferchange.apply(s, [nIsBuffering]);\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    /**\r\n     * Playback may have stopped due to buffering, or related reason.\r\n     * This state can be encountered on iOS < 6 when auto-play is blocked.\r\n     */\r\n\r\n    this._onsuspend = function() {\r\n\r\n      if (s._iO.onsuspend) {\r\n        sm2._wD(s.id + ': Playback suspended');\r\n        s._iO.onsuspend.apply(s);\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    /**\r\n     * flash 9/movieStar + RTMP-only method, should fire only once at most\r\n     * at this point we just recreate failed sounds rather than trying to reconnect\r\n     */\r\n\r\n    this._onfailure = function(msg, level, code) {\r\n\r\n      s.failures++;\r\n      sm2._wD(s.id + ': Failure (' + s.failures + '): ' + msg);\r\n\r\n      if (s._iO.onfailure && s.failures === 1) {\r\n        s._iO.onfailure(msg, level, code);\r\n      } else {\r\n        sm2._wD(s.id + ': Ignoring failure');\r\n      }\r\n\r\n    };\r\n\r\n    /**\r\n     * flash 9/movieStar + RTMP-only method for unhandled warnings/exceptions from Flash\r\n     * e.g., RTMP \"method missing\" warning (non-fatal) for getStreamLength on server\r\n     */\r\n\r\n    this._onwarning = function(msg, level, code) {\r\n\r\n      if (s._iO.onwarning) {\r\n        s._iO.onwarning(msg, level, code);\r\n      }\r\n\r\n    };\r\n\r\n    this._onfinish = function() {\r\n\r\n      // store local copy before it gets trashed...\r\n      var io_onfinish = s._iO.onfinish;\r\n\r\n      s._onbufferchange(0);\r\n      s._resetOnPosition(0);\r\n\r\n      // reset some state items\r\n      if (s.instanceCount) {\r\n\r\n        s.instanceCount--;\r\n\r\n        if (!s.instanceCount) {\r\n\r\n          // remove onPosition listeners, if any\r\n          detachOnPosition();\r\n\r\n          // reset instance options\r\n          s.playState = 0;\r\n          s.paused = false;\r\n          s.instanceCount = 0;\r\n          s.instanceOptions = {};\r\n          s._iO = {};\r\n          stop_html5_timer();\r\n\r\n          // reset position, too\r\n          if (s.isHTML5) {\r\n            s.position = 0;\r\n          }\r\n\r\n        }\r\n\r\n        if (!s.instanceCount || s._iO.multiShotEvents) {\r\n          // fire onfinish for last, or every instance\r\n          if (io_onfinish) {\r\n            sm2._wD(s.id + ': onfinish()');\r\n            wrapCallback(s, function() {\r\n              io_onfinish.apply(s);\r\n            });\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n    };\r\n\r\n    this._whileloading = function(nBytesLoaded, nBytesTotal, nDuration, nBufferLength) {\r\n\r\n      var instanceOptions = s._iO;\r\n\r\n      s.bytesLoaded = nBytesLoaded;\r\n      s.bytesTotal = nBytesTotal;\r\n      s.duration = Math.floor(nDuration);\r\n      s.bufferLength = nBufferLength;\r\n\r\n      if (!s.isHTML5 && !instanceOptions.isMovieStar) {\r\n\r\n        if (instanceOptions.duration) {\r\n          // use duration from options, if specified and larger. nobody should be specifying duration in options, actually, and it should be retired.\r\n          s.durationEstimate = (s.duration > instanceOptions.duration) ? s.duration : instanceOptions.duration;\r\n        } else {\r\n          s.durationEstimate = parseInt((s.bytesTotal / s.bytesLoaded) * s.duration, 10);\r\n        }\r\n\r\n      } else {\r\n\r\n        s.durationEstimate = s.duration;\r\n\r\n      }\r\n\r\n      // for flash, reflect sequential-load-style buffering\r\n      if (!s.isHTML5) {\r\n        s.buffered = [{\r\n          start: 0,\r\n          end: s.duration\r\n        }];\r\n      }\r\n\r\n      // allow whileloading to fire even if \"load\" fired under HTML5, due to HTTP range/partials\r\n      if ((s.readyState !== 3 || s.isHTML5) && instanceOptions.whileloading) {\r\n        instanceOptions.whileloading.apply(s);\r\n      }\r\n\r\n    };\r\n\r\n    this._whileplaying = function(nPosition, oPeakData, oWaveformDataLeft, oWaveformDataRight, oEQData) {\r\n\r\n      var instanceOptions = s._iO,\r\n          eqLeft;\r\n\r\n      // flash safety net\r\n      if (isNaN(nPosition) || nPosition === null) return false;\r\n\r\n      // Safari HTML5 play() may return small -ve values when starting from position: 0, eg. -50.120396875. Unexpected/invalid per W3, I think. Normalize to 0.\r\n      s.position = Math.max(0, nPosition);\r\n\r\n      s._processOnPosition();\r\n\r\n      if (!s.isHTML5 && fV > 8) {\r\n\r\n        if (instanceOptions.usePeakData && oPeakData !== _undefined && oPeakData) {\r\n          s.peakData = {\r\n            left: oPeakData.leftPeak,\r\n            right: oPeakData.rightPeak\r\n          };\r\n        }\r\n\r\n        if (instanceOptions.useWaveformData && oWaveformDataLeft !== _undefined && oWaveformDataLeft) {\r\n          s.waveformData = {\r\n            left: oWaveformDataLeft.split(','),\r\n            right: oWaveformDataRight.split(',')\r\n          };\r\n        }\r\n\r\n        if (instanceOptions.useEQData) {\r\n          if (oEQData !== _undefined && oEQData && oEQData.leftEQ) {\r\n            eqLeft = oEQData.leftEQ.split(',');\r\n            s.eqData = eqLeft;\r\n            s.eqData.left = eqLeft;\r\n            if (oEQData.rightEQ !== _undefined && oEQData.rightEQ) {\r\n              s.eqData.right = oEQData.rightEQ.split(',');\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n      if (s.playState === 1) {\r\n\r\n        // special case/hack: ensure buffering is false if loading from cache (and not yet started)\r\n        if (!s.isHTML5 && fV === 8 && !s.position && s.isBuffering) {\r\n          s._onbufferchange(0);\r\n        }\r\n\r\n        if (instanceOptions.whileplaying) {\r\n          // flash may call after actual finish\r\n          instanceOptions.whileplaying.apply(s);\r\n        }\r\n\r\n      }\r\n\r\n      return true;\r\n\r\n    };\r\n\r\n    this._oncaptiondata = function(oData) {\r\n\r\n      /**\r\n       * internal: flash 9 + NetStream (MovieStar/RTMP-only) feature\r\n       *\r\n       * @param {object} oData\r\n       */\r\n\r\n      sm2._wD(s.id + ': Caption data received.');\r\n\r\n      s.captiondata = oData;\r\n\r\n      if (s._iO.oncaptiondata) {\r\n        s._iO.oncaptiondata.apply(s, [oData]);\r\n      }\r\n\r\n    };\r\n\r\n    this._onmetadata = function(oMDProps, oMDData) {\r\n\r\n      /**\r\n       * internal: flash 9 + NetStream (MovieStar/RTMP-only) feature\r\n       * RTMP may include song title, MovieStar content may include encoding info\r\n       *\r\n       * @param {array} oMDProps (names)\r\n       * @param {array} oMDData (values)\r\n       */\r\n\r\n      sm2._wD(s.id + ': Metadata received.');\r\n\r\n      var oData = {}, i, j;\r\n\r\n      for (i = 0, j = oMDProps.length; i < j; i++) {\r\n        oData[oMDProps[i]] = oMDData[i];\r\n      }\r\n\r\n      s.metadata = oData;\r\n\r\n      if (s._iO.onmetadata) {\r\n        s._iO.onmetadata.call(s, s.metadata);\r\n      }\r\n\r\n    };\r\n\r\n    this._onid3 = function(oID3Props, oID3Data) {\r\n\r\n      /**\r\n       * internal: flash 8 + flash 9 ID3 feature\r\n       * may include artist, song title etc.\r\n       *\r\n       * @param {array} oID3Props (names)\r\n       * @param {array} oID3Data (values)\r\n       */\r\n\r\n      sm2._wD(s.id + ': ID3 data received.');\r\n\r\n      var oData = [], i, j;\r\n\r\n      for (i = 0, j = oID3Props.length; i < j; i++) {\r\n        oData[oID3Props[i]] = oID3Data[i];\r\n      }\r\n\r\n      s.id3 = mixin(s.id3, oData);\r\n\r\n      if (s._iO.onid3) {\r\n        s._iO.onid3.apply(s);\r\n      }\r\n\r\n    };\r\n\r\n    // flash/RTMP-only\r\n\r\n    this._onconnect = function(bSuccess) {\r\n\r\n      bSuccess = (bSuccess === 1);\r\n      sm2._wD(s.id + ': ' + (bSuccess ? 'Connected.' : 'Failed to connect? - ' + s.url), (bSuccess ? 1 : 2));\r\n      s.connected = bSuccess;\r\n\r\n      if (bSuccess) {\r\n\r\n        s.failures = 0;\r\n\r\n        if (idCheck(s.id)) {\r\n          if (s.getAutoPlay()) {\r\n            // only update the play state if auto playing\r\n            s.play(_undefined, s.getAutoPlay());\r\n          } else if (s._iO.autoLoad) {\r\n            s.load();\r\n          }\r\n        }\r\n\r\n        if (s._iO.onconnect) {\r\n          s._iO.onconnect.apply(s, [bSuccess]);\r\n        }\r\n\r\n      }\r\n\r\n    };\r\n\r\n    this._ondataerror = function(sError) {\r\n\r\n      // flash 9 wave/eq data handler\r\n      // hack: called at start, and end from flash at/after onfinish()\r\n      if (s.playState > 0) {\r\n        sm2._wD(s.id + ': Data error: ' + sError);\r\n        if (s._iO.ondataerror) {\r\n          s._iO.ondataerror.apply(s);\r\n        }\r\n      }\r\n\r\n    };\r\n\r\n    // <d>\r\n    this._debug();\r\n    // </d>\r\n\r\n  }; // SMSound()\r\n\r\n  /**\r\n   * Private SoundManager internals\r\n   * ------------------------------\r\n   */\r\n\r\n  getDocument = function() {\r\n\r\n    return (doc.body || doc.getElementsByTagName('div')[0]);\r\n\r\n  };\r\n\r\n  id = function(sID) {\r\n\r\n    return doc.getElementById(sID);\r\n\r\n  };\r\n\r\n  mixin = function(oMain, oAdd) {\r\n\r\n    // non-destructive merge\r\n    var o1 = (oMain || {}), o2, o;\r\n\r\n    // if unspecified, o2 is the default options object\r\n    o2 = (oAdd === _undefined ? sm2.defaultOptions : oAdd);\r\n\r\n    for (o in o2) {\r\n\r\n      if (o2.hasOwnProperty(o) && o1[o] === _undefined) {\r\n\r\n        if (typeof o2[o] !== 'object' || o2[o] === null) {\r\n\r\n          // assign directly\r\n          o1[o] = o2[o];\r\n\r\n        } else {\r\n\r\n          // recurse through o2\r\n          o1[o] = mixin(o1[o], o2[o]);\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    return o1;\r\n\r\n  };\r\n\r\n  wrapCallback = function(oSound, callback) {\r\n\r\n    /**\r\n     * 03/03/2013: Fix for Flash Player 11.6.602.171 + Flash 8 (flashVersion = 8) SWF issue\r\n     * setTimeout() fix for certain SMSound callbacks like onload() and onfinish(), where subsequent calls like play() and load() fail when Flash Player 11.6.602.171 is installed, and using soundManager with flashVersion = 8 (which is the default).\r\n     * Not sure of exact cause. Suspect race condition and/or invalid (NaN-style) position argument trickling down to the next JS -> Flash _start() call, in the play() case.\r\n     * Fix: setTimeout() to yield, plus safer null / NaN checking on position argument provided to Flash.\r\n     * https://getsatisfaction.com/schillmania/topics/recent_chrome_update_seems_to_have_broken_my_sm2_audio_player\r\n     */\r\n    if (!oSound.isHTML5 && fV === 8) {\r\n      window.setTimeout(callback, 0);\r\n    } else {\r\n      callback();\r\n    }\r\n\r\n  };\r\n\r\n  // additional soundManager properties that soundManager.setup() will accept\r\n\r\n  extraOptions = {\r\n    onready: 1,\r\n    ontimeout: 1,\r\n    defaultOptions: 1,\r\n    flash9Options: 1,\r\n    movieStarOptions: 1\r\n  };\r\n\r\n  assign = function(o, oParent) {\r\n\r\n    /**\r\n     * recursive assignment of properties, soundManager.setup() helper\r\n     * allows property assignment based on whitelist\r\n     */\r\n\r\n    var i,\r\n        result = true,\r\n        hasParent = (oParent !== _undefined),\r\n        setupOptions = sm2.setupOptions,\r\n        bonusOptions = extraOptions;\r\n\r\n    // <d>\r\n\r\n    // if soundManager.setup() called, show accepted parameters.\r\n\r\n    if (o === _undefined) {\r\n\r\n      result = [];\r\n\r\n      for (i in setupOptions) {\r\n\r\n        if (setupOptions.hasOwnProperty(i)) {\r\n          result.push(i);\r\n        }\r\n\r\n      }\r\n\r\n      for (i in bonusOptions) {\r\n\r\n        if (bonusOptions.hasOwnProperty(i)) {\r\n\r\n          if (typeof sm2[i] === 'object') {\r\n            result.push(i + ': {...}');\r\n          } else if (sm2[i] instanceof Function) {\r\n            result.push(i + ': function() {...}');\r\n          } else {\r\n            result.push(i);\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n      sm2._wD(str('setup', result.join(', ')));\r\n\r\n      return false;\r\n\r\n    }\r\n\r\n    // </d>\r\n\r\n    for (i in o) {\r\n\r\n      if (o.hasOwnProperty(i)) {\r\n\r\n        // if not an {object} we want to recurse through...\r\n\r\n        if (typeof o[i] !== 'object' || o[i] === null || o[i] instanceof Array || o[i] instanceof RegExp) {\r\n\r\n          // check \"allowed\" options\r\n\r\n          if (hasParent && bonusOptions[oParent] !== _undefined) {\r\n\r\n            // valid recursive / nested object option, eg., { defaultOptions: { volume: 50 } }\r\n            sm2[oParent][i] = o[i];\r\n\r\n          } else if (setupOptions[i] !== _undefined) {\r\n\r\n            // special case: assign to setupOptions object, which soundManager property references\r\n            sm2.setupOptions[i] = o[i];\r\n\r\n            // assign directly to soundManager, too\r\n            sm2[i] = o[i];\r\n\r\n          } else if (bonusOptions[i] === _undefined) {\r\n\r\n            // invalid or disallowed parameter. complain.\r\n            complain(str((sm2[i] === _undefined ? 'setupUndef' : 'setupError'), i), 2);\r\n\r\n            result = false;\r\n\r\n          } else if (sm2[i] instanceof Function) {\r\n\r\n            /**\r\n             * valid extraOptions (bonusOptions) parameter.\r\n             * is it a method, like onready/ontimeout? call it.\r\n             * multiple parameters should be in an array, eg. soundManager.setup({onready: [myHandler, myScope]});\r\n             */\r\n            sm2[i].apply(sm2, (o[i] instanceof Array ? o[i] : [o[i]]));\r\n\r\n          } else {\r\n\r\n            // good old-fashioned direct assignment\r\n            sm2[i] = o[i];\r\n\r\n          }\r\n\r\n        } else if (bonusOptions[i] === _undefined) {\r\n\r\n          // recursion case, eg., { defaultOptions: { ... } }\r\n\r\n          // invalid or disallowed parameter. complain.\r\n          complain(str((sm2[i] === _undefined ? 'setupUndef' : 'setupError'), i), 2);\r\n\r\n          result = false;\r\n\r\n        } else {\r\n\r\n          // recurse through object\r\n          return assign(o[i], i);\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  function preferFlashCheck(kind) {\r\n\r\n    // whether flash should play a given type\r\n    return (sm2.preferFlash && hasFlash && !sm2.ignoreFlash && (sm2.flash[kind] !== _undefined && sm2.flash[kind]));\r\n\r\n  }\r\n\r\n  /**\r\n   * Internal DOM2-level event helpers\r\n   * ---------------------------------\r\n   */\r\n\r\n  event = (function() {\r\n\r\n    // normalize event methods\r\n    var old = (window.attachEvent),\r\n    evt = {\r\n      add: (old ? 'attachEvent' : 'addEventListener'),\r\n      remove: (old ? 'detachEvent' : 'removeEventListener')\r\n    };\r\n\r\n    // normalize \"on\" event prefix, optional capture argument\r\n    function getArgs(oArgs) {\r\n\r\n      var args = slice.call(oArgs),\r\n          len = args.length;\r\n\r\n      if (old) {\r\n        // prefix\r\n        args[1] = 'on' + args[1];\r\n        if (len > 3) {\r\n          // no capture\r\n          args.pop();\r\n        }\r\n      } else if (len === 3) {\r\n        args.push(false);\r\n      }\r\n\r\n      return args;\r\n\r\n    }\r\n\r\n    function apply(args, sType) {\r\n\r\n      // normalize and call the event method, with the proper arguments\r\n      var element = args.shift(),\r\n          method = [evt[sType]];\r\n\r\n      if (old) {\r\n        // old IE can't do apply().\r\n        element[method](args[0], args[1]);\r\n      } else {\r\n        element[method].apply(element, args);\r\n      }\r\n\r\n    }\r\n\r\n    function add() {\r\n      apply(getArgs(arguments), 'add');\r\n    }\r\n\r\n    function remove() {\r\n      apply(getArgs(arguments), 'remove');\r\n    }\r\n\r\n    return {\r\n      add: add,\r\n      remove: remove\r\n    };\r\n\r\n  }());\r\n\r\n  /**\r\n   * Internal HTML5 event handling\r\n   * -----------------------------\r\n   */\r\n\r\n  function html5_event(oFn) {\r\n\r\n    // wrap html5 event handlers so we don't call them on destroyed and/or unloaded sounds\r\n\r\n    return function(e) {\r\n\r\n      var s = this._s,\r\n          result;\r\n\r\n      if (!s || !s._a) {\r\n        // <d>\r\n        if (s && s.id) {\r\n          sm2._wD(s.id + ': Ignoring ' + e.type);\r\n        } else {\r\n          sm2._wD(h5 + 'Ignoring ' + e.type);\r\n        }\r\n        // </d>\r\n        result = null;\r\n      } else {\r\n        result = oFn.call(this, e);\r\n      }\r\n\r\n      return result;\r\n\r\n    };\r\n\r\n  }\r\n\r\n  html5_events = {\r\n\r\n    // HTML5 event-name-to-handler map\r\n\r\n    abort: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': abort');\r\n\r\n    }),\r\n\r\n    // enough has loaded to play\r\n\r\n    canplay: html5_event(function() {\r\n\r\n      var s = this._s,\r\n          position1K;\r\n\r\n      if (s._html5_canplay) {\r\n        // this event has already fired. ignore.\r\n        return;\r\n      }\r\n\r\n      s._html5_canplay = true;\r\n      sm2._wD(s.id + ': canplay');\r\n      s._onbufferchange(0);\r\n\r\n      // position according to instance options\r\n      position1K = (s._iO.position !== _undefined && !isNaN(s._iO.position) ? s._iO.position / msecScale : null);\r\n\r\n      // set the position if position was provided before the sound loaded\r\n      if (this.currentTime !== position1K) {\r\n        sm2._wD(s.id + ': canplay: Setting position to ' + position1K);\r\n        try {\r\n          this.currentTime = position1K;\r\n        } catch(ee) {\r\n          sm2._wD(s.id + ': canplay: Setting position of ' + position1K + ' failed: ' + ee.message, 2);\r\n        }\r\n      }\r\n\r\n      // hack for HTML5 from/to case\r\n      if (s._iO._oncanplay) {\r\n        s._iO._oncanplay();\r\n      }\r\n\r\n    }),\r\n\r\n    canplaythrough: html5_event(function() {\r\n\r\n      var s = this._s;\r\n\r\n      if (!s.loaded) {\r\n        s._onbufferchange(0);\r\n        s._whileloading(s.bytesLoaded, s.bytesTotal, s._get_html5_duration());\r\n        s._onload(true);\r\n      }\r\n\r\n    }),\r\n\r\n    durationchange: html5_event(function() {\r\n\r\n      // durationchange may fire at various times, probably the safest way to capture accurate/final duration.\r\n\r\n      var s = this._s,\r\n          duration;\r\n\r\n      duration = s._get_html5_duration();\r\n\r\n      if (!isNaN(duration) && duration !== s.duration) {\r\n\r\n        sm2._wD(this._s.id + ': durationchange (' + duration + ')' + (s.duration ? ', previously ' + s.duration : ''));\r\n\r\n        s.durationEstimate = s.duration = duration;\r\n\r\n      }\r\n\r\n    }),\r\n\r\n    // TODO: Reserved for potential use\r\n    /*\r\n    emptied: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': emptied');\r\n\r\n    }),\r\n    */\r\n\r\n    ended: html5_event(function() {\r\n\r\n      var s = this._s;\r\n\r\n      sm2._wD(s.id + ': ended');\r\n\r\n      s._onfinish();\r\n\r\n    }),\r\n\r\n    error: html5_event(function() {\r\n\r\n      var description = (html5ErrorCodes[this.error.code] || null);\r\n      sm2._wD(this._s.id + ': HTML5 error, code ' + this.error.code + (description ? ' (' + description + ')' : ''));\r\n      this._s._onload(false);\r\n      this._s._onerror(this.error.code, description);\r\n\r\n    }),\r\n\r\n    loadeddata: html5_event(function() {\r\n\r\n      var s = this._s;\r\n\r\n      sm2._wD(s.id + ': loadeddata');\r\n\r\n      // safari seems to nicely report progress events, eventually totalling 100%\r\n      if (!s._loaded && !isSafari) {\r\n        s.duration = s._get_html5_duration();\r\n      }\r\n\r\n    }),\r\n\r\n    loadedmetadata: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': loadedmetadata');\r\n\r\n    }),\r\n\r\n    loadstart: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': loadstart');\r\n      // assume buffering at first\r\n      this._s._onbufferchange(1);\r\n\r\n    }),\r\n\r\n    play: html5_event(function() {\r\n\r\n      // sm2._wD(this._s.id + ': play()');\r\n      // once play starts, no buffering\r\n      this._s._onbufferchange(0);\r\n\r\n    }),\r\n\r\n    playing: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': playing ' + String.fromCharCode(9835));\r\n      // once play starts, no buffering\r\n      this._s._onbufferchange(0);\r\n\r\n    }),\r\n\r\n    progress: html5_event(function(e) {\r\n\r\n      // note: can fire repeatedly after \"loaded\" event, due to use of HTTP range/partials\r\n\r\n      var s = this._s,\r\n          i, j, progStr, buffered = 0,\r\n          isProgress = (e.type === 'progress'),\r\n          ranges = e.target.buffered,\r\n          // firefox 3.6 implements e.loaded/total (bytes)\r\n          loaded = (e.loaded || 0),\r\n          total = (e.total || 1);\r\n\r\n      // reset the \"buffered\" (loaded byte ranges) array\r\n      s.buffered = [];\r\n\r\n      if (ranges && ranges.length) {\r\n\r\n        // if loaded is 0, try TimeRanges implementation as % of load\r\n        // https://developer.mozilla.org/en/DOM/TimeRanges\r\n\r\n        // re-build \"buffered\" array\r\n        // HTML5 returns seconds. SM2 API uses msec for setPosition() etc., whether Flash or HTML5.\r\n        for (i = 0, j = ranges.length; i < j; i++) {\r\n          s.buffered.push({\r\n            start: ranges.start(i) * msecScale,\r\n            end: ranges.end(i) * msecScale\r\n          });\r\n        }\r\n\r\n        // use the last value locally\r\n        buffered = (ranges.end(0) - ranges.start(0)) * msecScale;\r\n\r\n        // linear case, buffer sum; does not account for seeking and HTTP partials / byte ranges\r\n        loaded = Math.min(1, buffered / (e.target.duration * msecScale));\r\n\r\n        // <d>\r\n        if (isProgress && ranges.length > 1) {\r\n          progStr = [];\r\n          j = ranges.length;\r\n          for (i = 0; i < j; i++) {\r\n            progStr.push((e.target.buffered.start(i) * msecScale) + '-' + (e.target.buffered.end(i) * msecScale));\r\n          }\r\n          sm2._wD(this._s.id + ': progress, timeRanges: ' + progStr.join(', '));\r\n        }\r\n\r\n        if (isProgress && !isNaN(loaded)) {\r\n          sm2._wD(this._s.id + ': progress, ' + Math.floor(loaded * 100) + '% loaded');\r\n        }\r\n        // </d>\r\n\r\n      }\r\n\r\n      if (!isNaN(loaded)) {\r\n\r\n        // TODO: prevent calls with duplicate values.\r\n        s._whileloading(loaded, total, s._get_html5_duration());\r\n        if (loaded && total && loaded === total) {\r\n          // in case \"onload\" doesn't fire (eg. gecko 1.9.2)\r\n          html5_events.canplaythrough.call(this, e);\r\n        }\r\n\r\n      }\r\n\r\n    }),\r\n\r\n    ratechange: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': ratechange');\r\n\r\n    }),\r\n\r\n    suspend: html5_event(function(e) {\r\n\r\n      // download paused/stopped, may have finished (eg. onload)\r\n      var s = this._s;\r\n\r\n      sm2._wD(this._s.id + ': suspend');\r\n      html5_events.progress.call(this, e);\r\n      s._onsuspend();\r\n\r\n    }),\r\n\r\n    stalled: html5_event(function() {\r\n\r\n      sm2._wD(this._s.id + ': stalled');\r\n\r\n    }),\r\n\r\n    timeupdate: html5_event(function() {\r\n\r\n      this._s._onTimer();\r\n\r\n    }),\r\n\r\n    waiting: html5_event(function() {\r\n\r\n      var s = this._s;\r\n\r\n      // see also: seeking\r\n      sm2._wD(this._s.id + ': waiting');\r\n\r\n      // playback faster than download rate, etc.\r\n      s._onbufferchange(1);\r\n\r\n    })\r\n\r\n  };\r\n\r\n  html5OK = function(iO) {\r\n\r\n    // playability test based on URL or MIME type\r\n\r\n    var result;\r\n\r\n    if (!iO || (!iO.type && !iO.url && !iO.serverURL)) {\r\n\r\n      // nothing to check\r\n      result = false;\r\n\r\n    } else if (iO.serverURL || (iO.type && preferFlashCheck(iO.type))) {\r\n\r\n      // RTMP, or preferring flash\r\n      result = false;\r\n\r\n    } else {\r\n\r\n      // Use type, if specified. Pass data: URIs to HTML5. If HTML5-only mode, no other options, so just give 'er\r\n      result = ((iO.type ? html5CanPlay({ type: iO.type }) : html5CanPlay({ url: iO.url }) || sm2.html5Only || iO.url.match(/data:/i)));\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  html5Unload = function(oAudio) {\r\n\r\n    /**\r\n     * Internal method: Unload media, and cancel any current/pending network requests.\r\n     * Firefox can load an empty URL, which allegedly destroys the decoder and stops the download.\r\n     * https://developer.mozilla.org/En/Using_audio_and_video_in_Firefox#Stopping_the_download_of_media\r\n     * However, Firefox has been seen loading a relative URL from '' and thus requesting the hosting page on unload.\r\n     * Other UA behaviour is unclear, so everyone else gets an about:blank-style URL.\r\n     */\r\n\r\n    var url;\r\n\r\n    if (oAudio) {\r\n\r\n      // Firefox and Chrome accept short WAVe data: URIs. Chome dislikes audio/wav, but accepts audio/wav for data: MIME.\r\n      // Desktop Safari complains / fails on data: URI, so it gets about:blank.\r\n      url = (isSafari ? emptyURL : (sm2.html5.canPlayType('audio/wav') ? emptyWAV : emptyURL));\r\n\r\n      oAudio.src = url;\r\n\r\n      // reset some state, too\r\n      if (oAudio._called_unload !== _undefined) {\r\n        oAudio._called_load = false;\r\n      }\r\n\r\n    }\r\n\r\n    if (useGlobalHTML5Audio) {\r\n\r\n      // ensure URL state is trashed, also\r\n      lastGlobalHTML5URL = null;\r\n\r\n    }\r\n\r\n    return url;\r\n\r\n  };\r\n\r\n  html5CanPlay = function(o) {\r\n\r\n    /**\r\n     * Try to find MIME, test and return truthiness\r\n     * o = {\r\n     *  url: '/path/to/an.mp3',\r\n     *  type: 'audio/mp3'\r\n     * }\r\n     */\r\n\r\n    if (!sm2.useHTML5Audio || !sm2.hasHTML5) return false;\r\n\r\n    var url = (o.url || null),\r\n        mime = (o.type || null),\r\n        aF = sm2.audioFormats,\r\n        result,\r\n        offset,\r\n        fileExt,\r\n        item;\r\n\r\n    // account for known cases like audio/mp3\r\n\r\n    if (mime && sm2.html5[mime] !== _undefined) return (sm2.html5[mime] && !preferFlashCheck(mime));\r\n\r\n    if (!html5Ext) {\r\n\r\n      html5Ext = [];\r\n\r\n      for (item in aF) {\r\n\r\n        if (aF.hasOwnProperty(item)) {\r\n\r\n          html5Ext.push(item);\r\n\r\n          if (aF[item].related) {\r\n            html5Ext = html5Ext.concat(aF[item].related);\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n      html5Ext = new RegExp('\\\\.(' + html5Ext.join('|') + ')(\\\\?.*)?$', 'i');\r\n\r\n    }\r\n\r\n    // TODO: Strip URL queries, etc.\r\n    fileExt = (url ? url.toLowerCase().match(html5Ext) : null);\r\n\r\n    if (!fileExt || !fileExt.length) {\r\n\r\n      if (!mime) {\r\n\r\n        result = false;\r\n\r\n      } else {\r\n\r\n        // audio/mp3 -> mp3, result should be known\r\n        offset = mime.indexOf(';');\r\n\r\n        // strip \"audio/X; codecs...\"\r\n        fileExt = (offset !== -1 ? mime.substr(0, offset) : mime).substr(6);\r\n\r\n      }\r\n\r\n    } else {\r\n\r\n      // match the raw extension name - \"mp3\", for example\r\n      fileExt = fileExt[1];\r\n\r\n    }\r\n\r\n    if (fileExt && sm2.html5[fileExt] !== _undefined) {\r\n\r\n      // result known\r\n      result = (sm2.html5[fileExt] && !preferFlashCheck(fileExt));\r\n\r\n    } else {\r\n\r\n      mime = 'audio/' + fileExt;\r\n      result = sm2.html5.canPlayType({ type: mime });\r\n\r\n      sm2.html5[fileExt] = result;\r\n\r\n      // sm2._wD('canPlayType, found result: ' + result);\r\n      result = (result && sm2.html5[mime] && !preferFlashCheck(mime));\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  testHTML5 = function() {\r\n\r\n    /**\r\n     * Internal: Iterates over audioFormats, determining support eg. audio/mp3, audio/mpeg and so on\r\n     * assigns results to html5[] and flash[].\r\n     */\r\n\r\n    if (!sm2.useHTML5Audio || !sm2.hasHTML5) {\r\n\r\n      // without HTML5, we need Flash.\r\n      sm2.html5.usingFlash = true;\r\n      needsFlash = true;\r\n\r\n      return false;\r\n\r\n    }\r\n\r\n    // double-whammy: Opera 9.64 throws WRONG_ARGUMENTS_ERR if no parameter passed to Audio(), and Webkit + iOS happily tries to load \"null\" as a URL. :/\r\n    var a = (Audio !== _undefined ? (isOpera && opera.version() < 10 ? new Audio(null) : new Audio()) : null),\r\n        item, lookup, support = {}, aF, i;\r\n\r\n    function cp(m) {\r\n\r\n      var canPlay, j,\r\n          result = false,\r\n          isOK = false;\r\n\r\n      if (!a || typeof a.canPlayType !== 'function') return result;\r\n\r\n      if (m instanceof Array) {\r\n\r\n        // iterate through all mime types, return any successes\r\n\r\n        for (i = 0, j = m.length; i < j; i++) {\r\n\r\n          if (sm2.html5[m[i]] || a.canPlayType(m[i]).match(sm2.html5Test)) {\r\n\r\n            isOK = true;\r\n            sm2.html5[m[i]] = true;\r\n\r\n            // note flash support, too\r\n            sm2.flash[m[i]] = !!(m[i].match(flashMIME));\r\n\r\n          }\r\n\r\n        }\r\n\r\n        result = isOK;\r\n\r\n      } else {\r\n\r\n        canPlay = (a && typeof a.canPlayType === 'function' ? a.canPlayType(m) : false);\r\n        result = !!(canPlay && (canPlay.match(sm2.html5Test)));\r\n\r\n      }\r\n\r\n      return result;\r\n\r\n    }\r\n\r\n    // test all registered formats + codecs\r\n\r\n    aF = sm2.audioFormats;\r\n\r\n    for (item in aF) {\r\n\r\n      if (aF.hasOwnProperty(item)) {\r\n\r\n        lookup = 'audio/' + item;\r\n\r\n        support[item] = cp(aF[item].type);\r\n\r\n        // write back generic type too, eg. audio/mp3\r\n        support[lookup] = support[item];\r\n\r\n        // assign flash\r\n        if (item.match(flashMIME)) {\r\n\r\n          sm2.flash[item] = true;\r\n          sm2.flash[lookup] = true;\r\n\r\n        } else {\r\n\r\n          sm2.flash[item] = false;\r\n          sm2.flash[lookup] = false;\r\n\r\n        }\r\n\r\n        // assign result to related formats, too\r\n\r\n        if (aF[item] && aF[item].related) {\r\n\r\n          for (i = aF[item].related.length - 1; i >= 0; i--) {\r\n\r\n            // eg. audio/m4a\r\n            support['audio/' + aF[item].related[i]] = support[item];\r\n            sm2.html5[aF[item].related[i]] = support[item];\r\n            sm2.flash[aF[item].related[i]] = support[item];\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    support.canPlayType = (a ? cp : null);\r\n    sm2.html5 = mixin(sm2.html5, support);\r\n\r\n    sm2.html5.usingFlash = featureCheck();\r\n    needsFlash = sm2.html5.usingFlash;\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  strings = {\r\n\r\n    // <d>\r\n    notReady: 'Unavailable - wait until onready() has fired.',\r\n    notOK: 'Audio support is not available.',\r\n    domError: sm + 'exception caught while appending SWF to DOM.',\r\n    spcWmode: 'Removing wmode, preventing known SWF loading issue(s)',\r\n    swf404: smc + 'Verify that %s is a valid path.',\r\n    tryDebug: 'Try ' + sm + '.debugFlash = true for more security details (output goes to SWF.)',\r\n    checkSWF: 'See SWF output for more debug info.',\r\n    localFail: smc + 'Non-HTTP page (' + doc.location.protocol + ' URL?) Review Flash player security settings for this special case:\\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/',\r\n    waitFocus: smc + 'Special case: Waiting for SWF to load with window focus...',\r\n    waitForever: smc + 'Waiting indefinitely for Flash (will recover if unblocked)...',\r\n    waitSWF: smc + 'Waiting for 100% SWF load...',\r\n    needFunction: smc + 'Function object expected for %s',\r\n    badID: 'Sound ID \"%s\" should be a string, starting with a non-numeric character',\r\n    currentObj: smc + '_debug(): Current sound objects',\r\n    waitOnload: smc + 'Waiting for window.onload()',\r\n    docLoaded: smc + 'Document already loaded',\r\n    onload: smc + 'initComplete(): calling soundManager.onload()',\r\n    onloadOK: sm + '.onload() complete',\r\n    didInit: smc + 'init(): Already called?',\r\n    secNote: 'Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html',\r\n    badRemove: smc + 'Failed to remove Flash node.',\r\n    shutdown: sm + '.disable(): Shutting down',\r\n    queue: smc + 'Queueing %s handler',\r\n    smError: 'SMSound.load(): Exception: JS-Flash communication failed, or JS error.',\r\n    fbTimeout: 'No flash response, applying .' + swfCSS.swfTimedout + ' CSS...',\r\n    fbLoaded: 'Flash loaded',\r\n    fbHandler: smc + 'flashBlockHandler()',\r\n    manURL: 'SMSound.load(): Using manually-assigned URL',\r\n    onURL: sm + '.load(): current URL already assigned.',\r\n    badFV: sm + '.flashVersion must be 8 or 9. \"%s\" is invalid. Reverting to %s.',\r\n    as2loop: 'Note: Setting stream:false so looping can work (flash 8 limitation)',\r\n    noNSLoop: 'Note: Looping not implemented for MovieStar formats',\r\n    needfl9: 'Note: Switching to flash 9, required for MP4 formats.',\r\n    mfTimeout: 'Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case',\r\n    needFlash: smc + 'Fatal error: Flash is needed to play some required formats, but is not available.',\r\n    gotFocus: smc + 'Got window focus.',\r\n    policy: 'Enabling usePolicyFile for data access',\r\n    setup: sm + '.setup(): allowed parameters: %s',\r\n    setupError: sm + '.setup(): \"%s\" cannot be assigned with this method.',\r\n    setupUndef: sm + '.setup(): Could not find option \"%s\"',\r\n    setupLate: sm + '.setup(): url, flashVersion and html5Test property changes will not take effect until reboot().',\r\n    noURL: smc + 'Flash URL required. Call soundManager.setup({url:...}) to get started.',\r\n    sm2Loaded: 'SoundManager 2: Ready. ' + String.fromCharCode(10003),\r\n    reset: sm + '.reset(): Removing event callbacks',\r\n    mobileUA: 'Mobile UA detected, preferring HTML5 by default.',\r\n    globalHTML5: 'Using singleton HTML5 Audio() pattern for this device.',\r\n    ignoreMobile: 'Ignoring mobile restrictions for this device.'\r\n    // </d>\r\n\r\n  };\r\n\r\n  str = function() {\r\n\r\n    // internal string replace helper.\r\n    // arguments: o [,items to replace]\r\n    // <d>\r\n\r\n    var args,\r\n        i, j, o,\r\n        sstr;\r\n\r\n    // real array, please\r\n    args = slice.call(arguments);\r\n\r\n    // first argument\r\n    o = args.shift();\r\n\r\n    sstr = (strings && strings[o] ? strings[o] : '');\r\n\r\n    if (sstr && args && args.length) {\r\n      for (i = 0, j = args.length; i < j; i++) {\r\n        sstr = sstr.replace('%s', args[i]);\r\n      }\r\n    }\r\n\r\n    return sstr;\r\n    // </d>\r\n\r\n  };\r\n\r\n  loopFix = function(sOpt) {\r\n\r\n    // flash 8 requires stream = false for looping to work\r\n    if (fV === 8 && sOpt.loops > 1 && sOpt.stream) {\r\n      _wDS('as2loop');\r\n      sOpt.stream = false;\r\n    }\r\n\r\n    return sOpt;\r\n\r\n  };\r\n\r\n  policyFix = function(sOpt, sPre) {\r\n\r\n    if (sOpt && !sOpt.usePolicyFile && (sOpt.onid3 || sOpt.usePeakData || sOpt.useWaveformData || sOpt.useEQData)) {\r\n      sm2._wD((sPre || '') + str('policy'));\r\n      sOpt.usePolicyFile = true;\r\n    }\r\n\r\n    return sOpt;\r\n\r\n  };\r\n\r\n  complain = function(sMsg) {\r\n\r\n    // <d>\r\n    if (hasConsole && console.warn !== _undefined) {\r\n      console.warn(sMsg);\r\n    } else {\r\n      sm2._wD(sMsg);\r\n    }\r\n    // </d>\r\n\r\n  };\r\n\r\n  doNothing = function() {\r\n\r\n    return false;\r\n\r\n  };\r\n\r\n  disableObject = function(o) {\r\n\r\n    var oProp;\r\n\r\n    for (oProp in o) {\r\n      if (o.hasOwnProperty(oProp) && typeof o[oProp] === 'function') {\r\n        o[oProp] = doNothing;\r\n      }\r\n    }\r\n\r\n    oProp = null;\r\n\r\n  };\r\n\r\n  failSafely = function(bNoDisable) {\r\n\r\n    // general failure exception handler\r\n\r\n    if (bNoDisable === _undefined) {\r\n      bNoDisable = false;\r\n    }\r\n\r\n    if (disabled || bNoDisable) {\r\n      sm2.disable(bNoDisable);\r\n    }\r\n\r\n  };\r\n\r\n  normalizeMovieURL = function(movieURL) {\r\n\r\n    var urlParams = null, url;\r\n\r\n    if (movieURL) {\r\n\r\n      if (movieURL.match(/\\.swf(\\?.*)?$/i)) {\r\n\r\n        urlParams = movieURL.substr(movieURL.toLowerCase().lastIndexOf('.swf?') + 4);\r\n\r\n        // assume user knows what they're doing\r\n        if (urlParams) return movieURL;\r\n\r\n      } else if (movieURL.lastIndexOf('/') !== movieURL.length - 1) {\r\n\r\n        // append trailing slash, if needed\r\n        movieURL += '/';\r\n\r\n      }\r\n\r\n    }\r\n\r\n    url = (movieURL && movieURL.lastIndexOf('/') !== -1 ? movieURL.substr(0, movieURL.lastIndexOf('/') + 1) : './') + sm2.movieURL;\r\n\r\n    if (sm2.noSWFCache) {\r\n      url += ('?ts=' + new Date().getTime());\r\n    }\r\n\r\n    return url;\r\n\r\n  };\r\n\r\n  setVersionInfo = function() {\r\n\r\n    // short-hand for internal use\r\n\r\n    fV = parseInt(sm2.flashVersion, 10);\r\n\r\n    if (fV !== 8 && fV !== 9) {\r\n      sm2._wD(str('badFV', fV, defaultFlashVersion));\r\n      sm2.flashVersion = fV = defaultFlashVersion;\r\n    }\r\n\r\n    // debug flash movie, if applicable\r\n\r\n    var isDebug = (sm2.debugMode || sm2.debugFlash ? '_debug.swf' : '.swf');\r\n\r\n    if (sm2.useHTML5Audio && !sm2.html5Only && sm2.audioFormats.mp4.required && fV < 9) {\r\n      sm2._wD(str('needfl9'));\r\n      sm2.flashVersion = fV = 9;\r\n    }\r\n\r\n    sm2.version = sm2.versionNumber + (sm2.html5Only ? ' (HTML5-only mode)' : (fV === 9 ? ' (AS3/Flash 9)' : ' (AS2/Flash 8)'));\r\n\r\n    // set up default options\r\n    if (fV > 8) {\r\n\r\n      // +flash 9 base options\r\n      sm2.defaultOptions = mixin(sm2.defaultOptions, sm2.flash9Options);\r\n      sm2.features.buffering = true;\r\n\r\n      // +moviestar support\r\n      sm2.defaultOptions = mixin(sm2.defaultOptions, sm2.movieStarOptions);\r\n      sm2.filePatterns.flash9 = new RegExp('\\\\.(mp3|' + netStreamTypes.join('|') + ')(\\\\?.*)?$', 'i');\r\n      sm2.features.movieStar = true;\r\n\r\n    } else {\r\n\r\n      sm2.features.movieStar = false;\r\n\r\n    }\r\n\r\n    // regExp for flash canPlay(), etc.\r\n    sm2.filePattern = sm2.filePatterns[(fV !== 8 ? 'flash9' : 'flash8')];\r\n\r\n    // if applicable, use _debug versions of SWFs\r\n    sm2.movieURL = (fV === 8 ? 'soundmanager2.swf' : 'soundmanager2_flash9.swf').replace('.swf', isDebug);\r\n\r\n    sm2.features.peakData = sm2.features.waveformData = sm2.features.eqData = (fV > 8);\r\n\r\n  };\r\n\r\n  setPolling = function(bPolling, bHighPerformance) {\r\n\r\n    if (!flash) {\r\n      return;\r\n    }\r\n\r\n    flash._setPolling(bPolling, bHighPerformance);\r\n\r\n  };\r\n\r\n  initDebug = function() {\r\n\r\n    // starts debug mode, creating output <div> for UAs without console object\r\n\r\n    // allow force of debug mode via URL\r\n    // <d>\r\n    if (sm2.debugURLParam.test(wl)) {\r\n      sm2.setupOptions.debugMode = sm2.debugMode = true;\r\n    }\r\n\r\n    if (id(sm2.debugID)) {\r\n      return;\r\n    }\r\n\r\n    var oD, oDebug, oTarget, oToggle, tmp;\r\n\r\n    if (sm2.debugMode && !id(sm2.debugID) && (!hasConsole || !sm2.useConsole || !sm2.consoleOnly)) {\r\n\r\n      oD = doc.createElement('div');\r\n      oD.id = sm2.debugID + '-toggle';\r\n\r\n      oToggle = {\r\n        position: 'fixed',\r\n        bottom: '0px',\r\n        right: '0px',\r\n        width: '1.2em',\r\n        height: '1.2em',\r\n        lineHeight: '1.2em',\r\n        margin: '2px',\r\n        textAlign: 'center',\r\n        border: '1px solid #999',\r\n        cursor: 'pointer',\r\n        background: '#fff',\r\n        color: '#333',\r\n        zIndex: 10001\r\n      };\r\n\r\n      oD.appendChild(doc.createTextNode('-'));\r\n      oD.onclick = toggleDebug;\r\n      oD.title = 'Toggle SM2 debug console';\r\n\r\n      if (ua.match(/msie 6/i)) {\r\n        oD.style.position = 'absolute';\r\n        oD.style.cursor = 'hand';\r\n      }\r\n\r\n      for (tmp in oToggle) {\r\n        if (oToggle.hasOwnProperty(tmp)) {\r\n          oD.style[tmp] = oToggle[tmp];\r\n        }\r\n      }\r\n\r\n      oDebug = doc.createElement('div');\r\n      oDebug.id = sm2.debugID;\r\n      oDebug.style.display = (sm2.debugMode ? 'block' : 'none');\r\n\r\n      if (sm2.debugMode && !id(oD.id)) {\r\n        try {\r\n          oTarget = getDocument();\r\n          oTarget.appendChild(oD);\r\n        } catch(e2) {\r\n          throw new Error(str('domError') + ' \\n' + e2.toString());\r\n        }\r\n        oTarget.appendChild(oDebug);\r\n      }\r\n\r\n    }\r\n\r\n    oTarget = null;\r\n    // </d>\r\n\r\n  };\r\n\r\n  idCheck = this.getSoundById;\r\n\r\n  // <d>\r\n  _wDS = function(o, errorLevel) {\r\n\r\n    return (!o ? '' : sm2._wD(str(o), errorLevel));\r\n\r\n  };\r\n\r\n  toggleDebug = function() {\r\n\r\n    var o = id(sm2.debugID),\r\n    oT = id(sm2.debugID + '-toggle');\r\n\r\n    if (!o) {\r\n      return;\r\n    }\r\n\r\n    if (debugOpen) {\r\n      // minimize\r\n      oT.innerHTML = '+';\r\n      o.style.display = 'none';\r\n    } else {\r\n      oT.innerHTML = '-';\r\n      o.style.display = 'block';\r\n    }\r\n\r\n    debugOpen = !debugOpen;\r\n\r\n  };\r\n\r\n  debugTS = function(sEventType, bSuccess, sMessage) {\r\n\r\n    // troubleshooter debug hooks\r\n\r\n    if (window.sm2Debugger !== _undefined) {\r\n      try {\r\n        sm2Debugger.handleEvent(sEventType, bSuccess, sMessage);\r\n      } catch(e) {\r\n        // oh well\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n\r\n  };\r\n  // </d>\r\n\r\n  getSWFCSS = function() {\r\n\r\n    var css = [];\r\n\r\n    if (sm2.debugMode) {\r\n      css.push(swfCSS.sm2Debug);\r\n    }\r\n\r\n    if (sm2.debugFlash) {\r\n      css.push(swfCSS.flashDebug);\r\n    }\r\n\r\n    if (sm2.useHighPerformance) {\r\n      css.push(swfCSS.highPerf);\r\n    }\r\n\r\n    return css.join(' ');\r\n\r\n  };\r\n\r\n  flashBlockHandler = function() {\r\n\r\n    // *possible* flash block situation.\r\n\r\n    var name = str('fbHandler'),\r\n        p = sm2.getMoviePercent(),\r\n        css = swfCSS,\r\n        error = {\r\n          type: 'FLASHBLOCK'\r\n        };\r\n\r\n    if (sm2.html5Only) {\r\n      // no flash, or unused\r\n      return;\r\n    }\r\n\r\n    if (!sm2.ok()) {\r\n\r\n      if (needsFlash) {\r\n        // make the movie more visible, so user can fix\r\n        sm2.oMC.className = getSWFCSS() + ' ' + css.swfDefault + ' ' + (p === null ? css.swfTimedout : css.swfError);\r\n        sm2._wD(name + ': ' + str('fbTimeout') + (p ? ' (' + str('fbLoaded') + ')' : ''));\r\n      }\r\n\r\n      sm2.didFlashBlock = true;\r\n\r\n      // fire onready(), complain lightly\r\n      processOnEvents({\r\n        type: 'ontimeout',\r\n        ignoreInit: true,\r\n        error: error\r\n      });\r\n\r\n      catchError(error);\r\n\r\n    } else {\r\n\r\n      // SM2 loaded OK (or recovered)\r\n\r\n      // <d>\r\n      if (sm2.didFlashBlock) {\r\n        sm2._wD(name + ': Unblocked');\r\n      }\r\n      // </d>\r\n\r\n      if (sm2.oMC) {\r\n        sm2.oMC.className = [getSWFCSS(), css.swfDefault, css.swfLoaded + (sm2.didFlashBlock ? ' ' + css.swfUnblocked : '')].join(' ');\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  addOnEvent = function(sType, oMethod, oScope) {\r\n\r\n    if (on_queue[sType] === _undefined) {\r\n      on_queue[sType] = [];\r\n    }\r\n\r\n    on_queue[sType].push({\r\n      method: oMethod,\r\n      scope: (oScope || null),\r\n      fired: false\r\n    });\r\n\r\n  };\r\n\r\n  processOnEvents = function(oOptions) {\r\n\r\n    // if unspecified, assume OK/error\r\n\r\n    if (!oOptions) {\r\n      oOptions = {\r\n        type: (sm2.ok() ? 'onready' : 'ontimeout')\r\n      };\r\n    }\r\n\r\n    // not ready yet.\r\n    if (!didInit && oOptions && !oOptions.ignoreInit) return false;\r\n\r\n    // invalid case\r\n    if (oOptions.type === 'ontimeout' && (sm2.ok() || (disabled && !oOptions.ignoreInit))) return false;\r\n\r\n    var status = {\r\n          success: (oOptions && oOptions.ignoreInit ? sm2.ok() : !disabled)\r\n        },\r\n\r\n        // queue specified by type, or none\r\n        srcQueue = (oOptions && oOptions.type ? on_queue[oOptions.type] || [] : []),\r\n\r\n        queue = [], i, j,\r\n        args = [status],\r\n        canRetry = (needsFlash && !sm2.ok());\r\n\r\n    if (oOptions.error) {\r\n      args[0].error = oOptions.error;\r\n    }\r\n\r\n    for (i = 0, j = srcQueue.length; i < j; i++) {\r\n      if (srcQueue[i].fired !== true) {\r\n        queue.push(srcQueue[i]);\r\n      }\r\n    }\r\n\r\n    if (queue.length) {\r\n\r\n      // sm2._wD(sm + ': Firing ' + queue.length + ' ' + oOptions.type + '() item' + (queue.length === 1 ? '' : 's'));\r\n      for (i = 0, j = queue.length; i < j; i++) {\r\n\r\n        if (queue[i].scope) {\r\n          queue[i].method.apply(queue[i].scope, args);\r\n        } else {\r\n          queue[i].method.apply(this, args);\r\n        }\r\n\r\n        if (!canRetry) {\r\n          // useFlashBlock and SWF timeout case doesn't count here.\r\n          queue[i].fired = true;\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  initUserOnload = function() {\r\n\r\n    window.setTimeout(function() {\r\n\r\n      if (sm2.useFlashBlock) {\r\n        flashBlockHandler();\r\n      }\r\n\r\n      processOnEvents();\r\n\r\n      // call user-defined \"onload\", scoped to window\r\n\r\n      if (typeof sm2.onload === 'function') {\r\n        _wDS('onload', 1);\r\n        sm2.onload.apply(window);\r\n        _wDS('onloadOK', 1);\r\n      }\r\n\r\n      if (sm2.waitForWindowLoad) {\r\n        event.add(window, 'load', initUserOnload);\r\n      }\r\n\r\n    }, 1);\r\n\r\n  };\r\n\r\n  detectFlash = function() {\r\n\r\n    /**\r\n     * Hat tip: Flash Detect library (BSD, (C) 2007) by Carl \"DocYes\" S. Yestrau\r\n     * http://featureblend.com/javascript-flash-detection-library.html / http://featureblend.com/license.txt\r\n     */\r\n\r\n    // this work has already been done.\r\n    if (hasFlash !== _undefined) return hasFlash;\r\n\r\n    var hasPlugin = false, n = navigator, obj, type, types, AX = window.ActiveXObject;\r\n\r\n    // MS Edge 14 throws an \"Unspecified Error\" because n.plugins is inaccessible due to permissions\r\n    var nP;\r\n\r\n    try {\r\n      nP = n.plugins;\r\n    } catch(e) {\r\n      nP = undefined;\r\n    }\r\n\r\n    if (nP && nP.length) {\r\n\r\n      type = 'application/x-shockwave-flash';\r\n      types = n.mimeTypes;\r\n\r\n      if (types && types[type] && types[type].enabledPlugin && types[type].enabledPlugin.description) {\r\n        hasPlugin = true;\r\n      }\r\n\r\n    } else if (AX !== _undefined && !ua.match(/MSAppHost/i)) {\r\n\r\n      // Windows 8 Store Apps (MSAppHost) are weird (compatibility?) and won't complain here, but will barf if Flash/ActiveX object is appended to the DOM.\r\n      try {\r\n        obj = new AX('ShockwaveFlash.ShockwaveFlash');\r\n      } catch(e) {\r\n        // oh well\r\n        obj = null;\r\n      }\r\n\r\n      hasPlugin = (!!obj);\r\n\r\n      // cleanup, because it is ActiveX after all\r\n      obj = null;\r\n\r\n    }\r\n\r\n    hasFlash = hasPlugin;\r\n\r\n    return hasPlugin;\r\n\r\n  };\r\n\r\n  featureCheck = function() {\r\n\r\n    var flashNeeded,\r\n        item,\r\n        formats = sm2.audioFormats,\r\n        // iPhone <= 3.1 has broken HTML5 audio(), but firmware 3.2 (original iPad) + iOS4 works.\r\n        isSpecial = (is_iDevice && !!(ua.match(/os (1|2|3_0|3_1)\\s/i)));\r\n\r\n    if (isSpecial) {\r\n\r\n      // has Audio(), but is broken; let it load links directly.\r\n      sm2.hasHTML5 = false;\r\n\r\n      // ignore flash case, however\r\n      sm2.html5Only = true;\r\n\r\n      // hide the SWF, if present\r\n      if (sm2.oMC) {\r\n        sm2.oMC.style.display = 'none';\r\n      }\r\n\r\n    } else if (sm2.useHTML5Audio) {\r\n\r\n        if (!sm2.html5 || !sm2.html5.canPlayType) {\r\n          sm2._wD('SoundManager: No HTML5 Audio() support detected.');\r\n          sm2.hasHTML5 = false;\r\n        }\r\n\r\n        // <d>\r\n        if (isBadSafari) {\r\n          sm2._wD(smc + 'Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - ' + (!hasFlash ? ' would use flash fallback for MP3/MP4, but none detected.' : 'will use flash fallback for MP3/MP4, if available'), 1);\r\n        }\r\n        // </d>\r\n\r\n      }\r\n\r\n    if (sm2.useHTML5Audio && sm2.hasHTML5) {\r\n\r\n      // sort out whether flash is optional, required or can be ignored.\r\n\r\n      // innocent until proven guilty.\r\n      canIgnoreFlash = true;\r\n\r\n      for (item in formats) {\r\n\r\n        if (formats.hasOwnProperty(item)) {\r\n\r\n          if (formats[item].required) {\r\n\r\n            if (!sm2.html5.canPlayType(formats[item].type)) {\r\n\r\n              // 100% HTML5 mode is not possible.\r\n              canIgnoreFlash = false;\r\n              flashNeeded = true;\r\n\r\n            } else if (sm2.preferFlash && (sm2.flash[item] || sm2.flash[formats[item].type])) {\r\n\r\n              // flash may be required, or preferred for this format.\r\n              flashNeeded = true;\r\n\r\n            }\r\n\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n    // sanity check...\r\n    if (sm2.ignoreFlash) {\r\n      flashNeeded = false;\r\n      canIgnoreFlash = true;\r\n    }\r\n\r\n    sm2.html5Only = (sm2.hasHTML5 && sm2.useHTML5Audio && !flashNeeded);\r\n\r\n    return (!sm2.html5Only);\r\n\r\n  };\r\n\r\n  parseURL = function(url) {\r\n\r\n    /**\r\n     * Internal: Finds and returns the first playable URL (or failing that, the first URL.)\r\n     * @param {string or array} url A single URL string, OR, an array of URL strings or {url:'/path/to/resource', type:'audio/mp3'} objects.\r\n     */\r\n\r\n    var i, j, urlResult = 0, result;\r\n\r\n    if (url instanceof Array) {\r\n\r\n      // find the first good one\r\n      for (i = 0, j = url.length; i < j; i++) {\r\n\r\n        if (url[i] instanceof Object) {\r\n\r\n          // MIME check\r\n          if (sm2.canPlayMIME(url[i].type)) {\r\n            urlResult = i;\r\n            break;\r\n          }\r\n\r\n        } else if (sm2.canPlayURL(url[i])) {\r\n\r\n          // URL string check\r\n          urlResult = i;\r\n          break;\r\n\r\n        }\r\n\r\n      }\r\n\r\n      // normalize to string\r\n      if (url[urlResult].url) {\r\n        url[urlResult] = url[urlResult].url;\r\n      }\r\n\r\n      result = url[urlResult];\r\n\r\n    } else {\r\n\r\n      // single URL case\r\n      result = url;\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n\r\n  startTimer = function(oSound) {\r\n\r\n    /**\r\n     * attach a timer to this sound, and start an interval if needed\r\n     */\r\n\r\n    if (!oSound._hasTimer) {\r\n\r\n      oSound._hasTimer = true;\r\n\r\n      if (!mobileHTML5 && sm2.html5PollingInterval) {\r\n\r\n        if (h5IntervalTimer === null && h5TimerCount === 0) {\r\n\r\n          h5IntervalTimer = setInterval(timerExecute, sm2.html5PollingInterval);\r\n\r\n        }\r\n\r\n        h5TimerCount++;\r\n\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  stopTimer = function(oSound) {\r\n\r\n    /**\r\n     * detach a timer\r\n     */\r\n\r\n    if (oSound._hasTimer) {\r\n\r\n      oSound._hasTimer = false;\r\n\r\n      if (!mobileHTML5 && sm2.html5PollingInterval) {\r\n\r\n        // interval will stop itself at next execution.\r\n\r\n        h5TimerCount--;\r\n\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  timerExecute = function() {\r\n\r\n    /**\r\n     * manual polling for HTML5 progress events, ie., whileplaying()\r\n     * (can achieve greater precision than conservative default HTML5 interval)\r\n     */\r\n\r\n    var i;\r\n\r\n    if (h5IntervalTimer !== null && !h5TimerCount) {\r\n\r\n      // no active timers, stop polling interval.\r\n\r\n      clearInterval(h5IntervalTimer);\r\n\r\n      h5IntervalTimer = null;\r\n\r\n      return;\r\n\r\n    }\r\n\r\n    // check all HTML5 sounds with timers\r\n\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n\r\n      if (sm2.sounds[sm2.soundIDs[i]].isHTML5 && sm2.sounds[sm2.soundIDs[i]]._hasTimer) {\r\n        sm2.sounds[sm2.soundIDs[i]]._onTimer();\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  catchError = function(options) {\r\n\r\n    options = (options !== _undefined ? options : {});\r\n\r\n    if (typeof sm2.onerror === 'function') {\r\n      sm2.onerror.apply(window, [{\r\n        type: (options.type !== _undefined ? options.type : null)\r\n      }]);\r\n    }\r\n\r\n    if (options.fatal !== _undefined && options.fatal) {\r\n      sm2.disable();\r\n    }\r\n\r\n  };\r\n\r\n  badSafariFix = function() {\r\n\r\n    // special case: \"bad\" Safari (OS X 10.3 - 10.7) must fall back to flash for MP3/MP4\r\n    if (!isBadSafari || !detectFlash()) {\r\n      // doesn't apply\r\n      return;\r\n    }\r\n\r\n    var aF = sm2.audioFormats, i, item;\r\n\r\n    for (item in aF) {\r\n\r\n      if (aF.hasOwnProperty(item)) {\r\n\r\n        if (item === 'mp3' || item === 'mp4') {\r\n\r\n          sm2._wD(sm + ': Using flash fallback for ' + item + ' format');\r\n          sm2.html5[item] = false;\r\n\r\n          // assign result to related formats, too\r\n          if (aF[item] && aF[item].related) {\r\n            for (i = aF[item].related.length - 1; i >= 0; i--) {\r\n              sm2.html5[aF[item].related[i]] = false;\r\n            }\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n  /**\r\n   * Pseudo-private flash/ExternalInterface methods\r\n   * ----------------------------------------------\r\n   */\r\n\r\n  this._setSandboxType = function(sandboxType) {\r\n\r\n    // <d>\r\n    // Security sandbox according to Flash plugin\r\n    var sb = sm2.sandbox;\r\n\r\n    sb.type = sandboxType;\r\n    sb.description = sb.types[(sb.types[sandboxType] !== _undefined ? sandboxType : 'unknown')];\r\n\r\n    if (sb.type === 'localWithFile') {\r\n\r\n      sb.noRemote = true;\r\n      sb.noLocal = false;\r\n      _wDS('secNote', 2);\r\n\r\n    } else if (sb.type === 'localWithNetwork') {\r\n\r\n      sb.noRemote = false;\r\n      sb.noLocal = true;\r\n\r\n    } else if (sb.type === 'localTrusted') {\r\n\r\n      sb.noRemote = false;\r\n      sb.noLocal = false;\r\n\r\n    }\r\n    // </d>\r\n\r\n  };\r\n\r\n  this._externalInterfaceOK = function(swfVersion) {\r\n\r\n    // flash callback confirming flash loaded, EI working etc.\r\n    // swfVersion: SWF build string\r\n\r\n    if (sm2.swfLoaded) {\r\n      return;\r\n    }\r\n\r\n    var e;\r\n\r\n    debugTS('swf', true);\r\n    debugTS('flashtojs', true);\r\n    sm2.swfLoaded = true;\r\n    tryInitOnFocus = false;\r\n\r\n    if (isBadSafari) {\r\n      badSafariFix();\r\n    }\r\n\r\n    // complain if JS + SWF build/version strings don't match, excluding +DEV builds\r\n    // <d>\r\n    if (!swfVersion || swfVersion.replace(/\\+dev/i, '') !== sm2.versionNumber.replace(/\\+dev/i, '')) {\r\n\r\n      e = sm + ': Fatal: JavaScript file build \"' + sm2.versionNumber + '\" does not match Flash SWF build \"' + swfVersion + '\" at ' + sm2.url + '. Ensure both are up-to-date.';\r\n\r\n      // escape flash -> JS stack so this error fires in window.\r\n      setTimeout(function() {\r\n        throw new Error(e);\r\n      }, 0);\r\n\r\n      // exit, init will fail with timeout\r\n      return;\r\n\r\n    }\r\n    // </d>\r\n\r\n    // IE needs a larger timeout\r\n    setTimeout(init, isIE ? 100 : 1);\r\n\r\n  };\r\n\r\n  /**\r\n   * Private initialization helpers\r\n   * ------------------------------\r\n   */\r\n\r\n  createMovie = function(movieID, movieURL) {\r\n\r\n    // ignore if already connected\r\n    if (didAppend && appendSuccess) return false;\r\n\r\n    function initMsg() {\r\n\r\n      // <d>\r\n\r\n      var options = [],\r\n          title,\r\n          msg = [],\r\n          delimiter = ' + ';\r\n\r\n      title = 'SoundManager ' + sm2.version + (!sm2.html5Only && sm2.useHTML5Audio ? (sm2.hasHTML5 ? ' + HTML5 audio' : ', no HTML5 audio support') : '');\r\n\r\n      if (!sm2.html5Only) {\r\n\r\n        if (sm2.preferFlash) {\r\n          options.push('preferFlash');\r\n        }\r\n\r\n        if (sm2.useHighPerformance) {\r\n          options.push('useHighPerformance');\r\n        }\r\n\r\n        if (sm2.flashPollingInterval) {\r\n          options.push('flashPollingInterval (' + sm2.flashPollingInterval + 'ms)');\r\n        }\r\n\r\n        if (sm2.html5PollingInterval) {\r\n          options.push('html5PollingInterval (' + sm2.html5PollingInterval + 'ms)');\r\n        }\r\n\r\n        if (sm2.wmode) {\r\n          options.push('wmode (' + sm2.wmode + ')');\r\n        }\r\n\r\n        if (sm2.debugFlash) {\r\n          options.push('debugFlash');\r\n        }\r\n\r\n        if (sm2.useFlashBlock) {\r\n          options.push('flashBlock');\r\n        }\r\n\r\n      } else if (sm2.html5PollingInterval) {\r\n          options.push('html5PollingInterval (' + sm2.html5PollingInterval + 'ms)');\r\n        }\r\n\r\n      if (options.length) {\r\n        msg = msg.concat([options.join(delimiter)]);\r\n      }\r\n\r\n      sm2._wD(title + (msg.length ? delimiter + msg.join(', ') : ''), 1);\r\n\r\n      showSupport();\r\n\r\n      // </d>\r\n\r\n    }\r\n\r\n    if (sm2.html5Only) {\r\n\r\n      // 100% HTML5 mode\r\n      setVersionInfo();\r\n\r\n      initMsg();\r\n      sm2.oMC = id(sm2.movieID);\r\n      init();\r\n\r\n      // prevent multiple init attempts\r\n      didAppend = true;\r\n\r\n      appendSuccess = true;\r\n\r\n      return false;\r\n\r\n    }\r\n\r\n    // flash path\r\n    var remoteURL = (movieURL || sm2.url),\r\n    localURL = (sm2.altURL || remoteURL),\r\n    swfTitle = 'JS/Flash audio component (SoundManager 2)',\r\n    oTarget = getDocument(),\r\n    extraClass = getSWFCSS(),\r\n    isRTL = null,\r\n    html = doc.getElementsByTagName('html')[0],\r\n    oEmbed, oMovie, tmp, movieHTML, oEl, s, x, sClass;\r\n\r\n    isRTL = (html && html.dir && html.dir.match(/rtl/i));\r\n    movieID = (movieID === _undefined ? sm2.id : movieID);\r\n\r\n    function param(name, value) {\r\n      return '<param name=\"' + name + '\" value=\"' + value + '\" />';\r\n    }\r\n\r\n    // safety check for legacy (change to Flash 9 URL)\r\n    setVersionInfo();\r\n    sm2.url = normalizeMovieURL(overHTTP ? remoteURL : localURL);\r\n    movieURL = sm2.url;\r\n\r\n    sm2.wmode = (!sm2.wmode && sm2.useHighPerformance ? 'transparent' : sm2.wmode);\r\n\r\n    if (sm2.wmode !== null && (ua.match(/msie 8/i) || (!isIE && !sm2.useHighPerformance)) && navigator.platform.match(/win32|win64/i)) {\r\n      /**\r\n       * extra-special case: movie doesn't load until scrolled into view when using wmode = anything but 'window' here\r\n       * does not apply when using high performance (position:fixed means on-screen), OR infinite flash load timeout\r\n       * wmode breaks IE 8 on Vista + Win7 too in some cases, as of January 2011 (?)\r\n       */\r\n      messages.push(strings.spcWmode);\r\n      sm2.wmode = null;\r\n    }\r\n\r\n    oEmbed = {\r\n      name: movieID,\r\n      id: movieID,\r\n      src: movieURL,\r\n      quality: 'high',\r\n      allowScriptAccess: sm2.allowScriptAccess,\r\n      bgcolor: sm2.bgColor,\r\n      pluginspage: http + 'www.macromedia.com/go/getflashplayer',\r\n      title: swfTitle,\r\n      type: 'application/x-shockwave-flash',\r\n      wmode: sm2.wmode,\r\n      // http://help.adobe.com/en_US/as3/mobile/WS4bebcd66a74275c36cfb8137124318eebc6-7ffd.html\r\n      hasPriority: 'true'\r\n    };\r\n\r\n    if (sm2.debugFlash) {\r\n      oEmbed.FlashVars = 'debug=1';\r\n    }\r\n\r\n    if (!sm2.wmode) {\r\n      // don't write empty attribute\r\n      delete oEmbed.wmode;\r\n    }\r\n\r\n    if (isIE) {\r\n\r\n      // IE is \"special\".\r\n      oMovie = doc.createElement('div');\r\n      movieHTML = [\r\n        '<object id=\"' + movieID + '\" data=\"' + movieURL + '\" type=\"' + oEmbed.type + '\" title=\"' + oEmbed.title + '\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0\">',\r\n        param('movie', movieURL),\r\n        param('AllowScriptAccess', sm2.allowScriptAccess),\r\n        param('quality', oEmbed.quality),\r\n        (sm2.wmode ? param('wmode', sm2.wmode) : ''),\r\n        param('bgcolor', sm2.bgColor),\r\n        param('hasPriority', 'true'),\r\n        (sm2.debugFlash ? param('FlashVars', oEmbed.FlashVars) : ''),\r\n        '</object>'\r\n      ].join('');\r\n\r\n    } else {\r\n\r\n      oMovie = doc.createElement('embed');\r\n      for (tmp in oEmbed) {\r\n        if (oEmbed.hasOwnProperty(tmp)) {\r\n          oMovie.setAttribute(tmp, oEmbed[tmp]);\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n    initDebug();\r\n    extraClass = getSWFCSS();\r\n    oTarget = getDocument();\r\n\r\n    if (oTarget) {\r\n\r\n      sm2.oMC = (id(sm2.movieID) || doc.createElement('div'));\r\n\r\n      if (!sm2.oMC.id) {\r\n\r\n        sm2.oMC.id = sm2.movieID;\r\n        sm2.oMC.className = swfCSS.swfDefault + ' ' + extraClass;\r\n        s = null;\r\n        oEl = null;\r\n\r\n        if (!sm2.useFlashBlock) {\r\n          if (sm2.useHighPerformance) {\r\n            // on-screen at all times\r\n            s = {\r\n              position: 'fixed',\r\n              width: '8px',\r\n              height: '8px',\r\n              // >= 6px for flash to run fast, >= 8px to start up under Firefox/win32 in some cases. odd? yes.\r\n              bottom: '0px',\r\n              left: '0px',\r\n              overflow: 'hidden'\r\n            };\r\n          } else {\r\n            // hide off-screen, lower priority\r\n            s = {\r\n              position: 'absolute',\r\n              width: '6px',\r\n              height: '6px',\r\n              top: '-9999px',\r\n              left: '-9999px'\r\n            };\r\n            if (isRTL) {\r\n              s.left = Math.abs(parseInt(s.left, 10)) + 'px';\r\n            }\r\n          }\r\n        }\r\n\r\n        if (isWebkit) {\r\n          // soundcloud-reported render/crash fix, safari 5\r\n          sm2.oMC.style.zIndex = 10000;\r\n        }\r\n\r\n        if (!sm2.debugFlash) {\r\n          for (x in s) {\r\n            if (s.hasOwnProperty(x)) {\r\n              sm2.oMC.style[x] = s[x];\r\n            }\r\n          }\r\n        }\r\n\r\n        try {\r\n\r\n          if (!isIE) {\r\n            sm2.oMC.appendChild(oMovie);\r\n          }\r\n\r\n          oTarget.appendChild(sm2.oMC);\r\n\r\n          if (isIE) {\r\n            oEl = sm2.oMC.appendChild(doc.createElement('div'));\r\n            oEl.className = swfCSS.swfBox;\r\n            oEl.innerHTML = movieHTML;\r\n          }\r\n\r\n          appendSuccess = true;\r\n\r\n        } catch(e) {\r\n\r\n          throw new Error(str('domError') + ' \\n' + e.toString());\r\n\r\n        }\r\n\r\n      } else {\r\n\r\n        // SM2 container is already in the document (eg. flashblock use case)\r\n        sClass = sm2.oMC.className;\r\n        sm2.oMC.className = (sClass ? sClass + ' ' : swfCSS.swfDefault) + (extraClass ? ' ' + extraClass : '');\r\n        sm2.oMC.appendChild(oMovie);\r\n\r\n        if (isIE) {\r\n          oEl = sm2.oMC.appendChild(doc.createElement('div'));\r\n          oEl.className = swfCSS.swfBox;\r\n          oEl.innerHTML = movieHTML;\r\n        }\r\n\r\n        appendSuccess = true;\r\n\r\n      }\r\n\r\n    }\r\n\r\n    didAppend = true;\r\n\r\n    initMsg();\r\n\r\n    // sm2._wD(sm + ': Trying to load ' + movieURL + (!overHTTP && sm2.altURL ? ' (alternate URL)' : ''), 1);\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  initMovie = function() {\r\n\r\n    if (sm2.html5Only) {\r\n      createMovie();\r\n      return false;\r\n    }\r\n\r\n    // attempt to get, or create, movie (may already exist)\r\n    if (flash) return false;\r\n\r\n    if (!sm2.url) {\r\n\r\n      /**\r\n       * Something isn't right - we've reached init, but the soundManager url property has not been set.\r\n       * User has not called setup({url: ...}), or has not set soundManager.url (legacy use case) directly before init time.\r\n       * Notify and exit. If user calls setup() with a url: property, init will be restarted as in the deferred loading case.\r\n       */\r\n\r\n       _wDS('noURL');\r\n       return false;\r\n\r\n    }\r\n\r\n    // inline markup case\r\n    flash = sm2.getMovie(sm2.id);\r\n\r\n    if (!flash) {\r\n\r\n      if (!oRemoved) {\r\n\r\n        // try to create\r\n        createMovie(sm2.id, sm2.url);\r\n\r\n      } else {\r\n\r\n        // try to re-append removed movie after reboot()\r\n        if (!isIE) {\r\n          sm2.oMC.appendChild(oRemoved);\r\n        } else {\r\n          sm2.oMC.innerHTML = oRemovedHTML;\r\n        }\r\n\r\n        oRemoved = null;\r\n        didAppend = true;\r\n\r\n      }\r\n\r\n      flash = sm2.getMovie(sm2.id);\r\n\r\n    }\r\n\r\n    if (typeof sm2.oninitmovie === 'function') {\r\n      setTimeout(sm2.oninitmovie, 1);\r\n    }\r\n\r\n    // <d>\r\n    flushMessages();\r\n    // </d>\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  delayWaitForEI = function() {\r\n\r\n    setTimeout(waitForEI, 1000);\r\n\r\n  };\r\n\r\n  rebootIntoHTML5 = function() {\r\n\r\n    // special case: try for a reboot with preferFlash: false, if 100% HTML5 mode is possible and useFlashBlock is not enabled.\r\n\r\n    window.setTimeout(function() {\r\n\r\n      complain(smc + 'useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false...');\r\n\r\n      sm2.setup({\r\n        preferFlash: false\r\n      }).reboot();\r\n\r\n      // if for some reason you want to detect this case, use an ontimeout() callback and look for html5Only and didFlashBlock == true.\r\n      sm2.didFlashBlock = true;\r\n\r\n      sm2.beginDelayedInit();\r\n\r\n    }, 1);\r\n\r\n  };\r\n\r\n  waitForEI = function() {\r\n\r\n    var p,\r\n        loadIncomplete = false;\r\n\r\n    if (!sm2.url) {\r\n      // No SWF url to load (noURL case) - exit for now. Will be retried when url is set.\r\n      return;\r\n    }\r\n\r\n    if (waitingForEI) {\r\n      return;\r\n    }\r\n\r\n    waitingForEI = true;\r\n    event.remove(window, 'load', delayWaitForEI);\r\n\r\n    if (hasFlash && tryInitOnFocus && !isFocused) {\r\n      // Safari won't load flash in background tabs, only when focused.\r\n      _wDS('waitFocus');\r\n      return;\r\n    }\r\n\r\n    if (!didInit) {\r\n      p = sm2.getMoviePercent();\r\n      if (p > 0 && p < 100) {\r\n        loadIncomplete = true;\r\n      }\r\n    }\r\n\r\n    setTimeout(function() {\r\n\r\n      p = sm2.getMoviePercent();\r\n\r\n      if (loadIncomplete) {\r\n        // special case: if movie *partially* loaded, retry until it's 100% before assuming failure.\r\n        waitingForEI = false;\r\n        sm2._wD(str('waitSWF'));\r\n        window.setTimeout(delayWaitForEI, 1);\r\n        return;\r\n      }\r\n\r\n      // <d>\r\n      if (!didInit) {\r\n\r\n        sm2._wD(sm + ': No Flash response within expected time. Likely causes: ' + (p === 0 ? 'SWF load failed, ' : '') + 'Flash blocked or JS-Flash security error.' + (sm2.debugFlash ? ' ' + str('checkSWF') : ''), 2);\r\n\r\n        if (!overHTTP && p) {\r\n\r\n          _wDS('localFail', 2);\r\n\r\n          if (!sm2.debugFlash) {\r\n            _wDS('tryDebug', 2);\r\n          }\r\n\r\n        }\r\n\r\n        if (p === 0) {\r\n\r\n          // if 0 (not null), probably a 404.\r\n          sm2._wD(str('swf404', sm2.url), 1);\r\n\r\n        }\r\n\r\n        debugTS('flashtojs', false, ': Timed out' + (overHTTP ? ' (Check flash security or flash blockers)' : ' (No plugin/missing SWF?)'));\r\n\r\n      }\r\n      // </d>\r\n\r\n      // give up / time-out, depending\r\n\r\n      if (!didInit && okToDisable) {\r\n\r\n        if (p === null) {\r\n\r\n          // SWF failed to report load progress. Possibly blocked.\r\n\r\n          if (sm2.useFlashBlock || sm2.flashLoadTimeout === 0) {\r\n\r\n            if (sm2.useFlashBlock) {\r\n\r\n              flashBlockHandler();\r\n\r\n            }\r\n\r\n            _wDS('waitForever');\r\n\r\n          } else if (!sm2.useFlashBlock && canIgnoreFlash) {\r\n\r\n            // no custom flash block handling, but SWF has timed out. Will recover if user unblocks / allows SWF load.\r\n            rebootIntoHTML5();\r\n\r\n          } else {\r\n\r\n            _wDS('waitForever');\r\n\r\n            // fire any regular registered ontimeout() listeners.\r\n            processOnEvents({\r\n              type: 'ontimeout',\r\n              ignoreInit: true,\r\n              error: {\r\n                type: 'INIT_FLASHBLOCK'\r\n              }\r\n            });\r\n\r\n          }\r\n\r\n        } else if (sm2.flashLoadTimeout === 0) {\r\n\r\n          // SWF loaded? Shouldn't be a blocking issue, then.\r\n\r\n          _wDS('waitForever');\r\n\r\n        } else if (!sm2.useFlashBlock && canIgnoreFlash) {\r\n\r\n          rebootIntoHTML5();\r\n\r\n        } else {\r\n\r\n          failSafely(true);\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }, sm2.flashLoadTimeout);\r\n\r\n  };\r\n\r\n  handleFocus = function() {\r\n\r\n    function cleanup() {\r\n      event.remove(window, 'focus', handleFocus);\r\n    }\r\n\r\n    if (isFocused || !tryInitOnFocus) {\r\n      // already focused, or not special Safari background tab case\r\n      cleanup();\r\n      return true;\r\n    }\r\n\r\n    okToDisable = true;\r\n    isFocused = true;\r\n    _wDS('gotFocus');\r\n\r\n    // allow init to restart\r\n    waitingForEI = false;\r\n\r\n    // kick off ExternalInterface timeout, now that the SWF has started\r\n    delayWaitForEI();\r\n\r\n    cleanup();\r\n    return true;\r\n\r\n  };\r\n\r\n  flushMessages = function() {\r\n\r\n    // <d>\r\n\r\n    // SM2 pre-init debug messages\r\n    if (messages.length) {\r\n      sm2._wD('SoundManager 2: ' + messages.join(' '), 1);\r\n      messages = [];\r\n    }\r\n\r\n    // </d>\r\n\r\n  };\r\n\r\n  showSupport = function() {\r\n\r\n    // <d>\r\n\r\n    flushMessages();\r\n\r\n    var item, tests = [];\r\n\r\n    if (sm2.useHTML5Audio && sm2.hasHTML5) {\r\n      for (item in sm2.audioFormats) {\r\n        if (sm2.audioFormats.hasOwnProperty(item)) {\r\n          tests.push(item + ' = ' + sm2.html5[item] + (!sm2.html5[item] && needsFlash && sm2.flash[item] ? ' (using flash)' : (sm2.preferFlash && sm2.flash[item] && needsFlash ? ' (preferring flash)' : (!sm2.html5[item] ? ' (' + (sm2.audioFormats[item].required ? 'required, ' : '') + 'and no flash support)' : ''))));\r\n        }\r\n      }\r\n      sm2._wD('SoundManager 2 HTML5 support: ' + tests.join(', '), 1);\r\n    }\r\n\r\n    // </d>\r\n\r\n  };\r\n\r\n  initComplete = function(bNoDisable) {\r\n\r\n    if (didInit) return false;\r\n\r\n    if (sm2.html5Only) {\r\n      // all good.\r\n      _wDS('sm2Loaded', 1);\r\n      didInit = true;\r\n      initUserOnload();\r\n      debugTS('onload', true);\r\n      return true;\r\n    }\r\n\r\n    var wasTimeout = (sm2.useFlashBlock && sm2.flashLoadTimeout && !sm2.getMoviePercent()),\r\n        result = true,\r\n        error;\r\n\r\n    if (!wasTimeout) {\r\n      didInit = true;\r\n    }\r\n\r\n    error = {\r\n      type: (!hasFlash && needsFlash ? 'NO_FLASH' : 'INIT_TIMEOUT')\r\n    };\r\n\r\n    sm2._wD('SoundManager 2 ' + (disabled ? 'failed to load' : 'loaded') + ' (' + (disabled ? 'Flash security/load error' : 'OK') + ') ' + String.fromCharCode(disabled ? 10006 : 10003), disabled ? 2 : 1);\r\n\r\n    if (disabled || bNoDisable) {\r\n\r\n      if (sm2.useFlashBlock && sm2.oMC) {\r\n        sm2.oMC.className = getSWFCSS() + ' ' + (sm2.getMoviePercent() === null ? swfCSS.swfTimedout : swfCSS.swfError);\r\n      }\r\n\r\n      processOnEvents({\r\n        type: 'ontimeout',\r\n        error: error,\r\n        ignoreInit: true\r\n      });\r\n\r\n      debugTS('onload', false);\r\n      catchError(error);\r\n\r\n      result = false;\r\n\r\n    } else {\r\n\r\n      debugTS('onload', true);\r\n\r\n    }\r\n\r\n    if (!disabled) {\r\n\r\n      if (sm2.waitForWindowLoad && !windowLoaded) {\r\n\r\n        _wDS('waitOnload');\r\n        event.add(window, 'load', initUserOnload);\r\n\r\n      } else {\r\n\r\n        // <d>\r\n        if (sm2.waitForWindowLoad && windowLoaded) {\r\n          _wDS('docLoaded');\r\n        }\r\n        // </d>\r\n\r\n        initUserOnload();\r\n\r\n      }\r\n\r\n    }\r\n\r\n    return result;\r\n\r\n  };\r\n\r\n  /**\r\n   * apply top-level setupOptions object as local properties, eg., this.setupOptions.flashVersion -> this.flashVersion (soundManager.flashVersion)\r\n   * this maintains backward compatibility, and allows properties to be defined separately for use by soundManager.setup().\r\n   */\r\n\r\n  setProperties = function() {\r\n\r\n    var i,\r\n        o = sm2.setupOptions;\r\n\r\n    for (i in o) {\r\n\r\n      if (o.hasOwnProperty(i)) {\r\n\r\n        // assign local property if not already defined\r\n\r\n        if (sm2[i] === _undefined) {\r\n\r\n          sm2[i] = o[i];\r\n\r\n        } else if (sm2[i] !== o[i]) {\r\n\r\n          // legacy support: write manually-assigned property (eg., soundManager.url) back to setupOptions to keep things in sync\r\n          sm2.setupOptions[i] = sm2[i];\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n  };\r\n\r\n\r\n  init = function() {\r\n\r\n    // called after onload()\r\n\r\n    if (didInit) {\r\n      _wDS('didInit');\r\n      return false;\r\n    }\r\n\r\n    function cleanup() {\r\n      event.remove(window, 'load', sm2.beginDelayedInit);\r\n    }\r\n\r\n    if (sm2.html5Only) {\r\n\r\n      if (!didInit) {\r\n        // we don't need no steenking flash!\r\n        cleanup();\r\n        sm2.enabled = true;\r\n        initComplete();\r\n      }\r\n\r\n      return true;\r\n\r\n    }\r\n\r\n    // flash path\r\n    initMovie();\r\n\r\n    try {\r\n\r\n      // attempt to talk to Flash\r\n      flash._externalInterfaceTest(false);\r\n\r\n      /**\r\n       * Apply user-specified polling interval, OR, if \"high performance\" set, faster vs. default polling\r\n       * (determines frequency of whileloading/whileplaying callbacks, effectively driving UI framerates)\r\n       */\r\n      setPolling(true, (sm2.flashPollingInterval || (sm2.useHighPerformance ? 10 : 50)));\r\n\r\n      if (!sm2.debugMode) {\r\n        // stop the SWF from making debug output calls to JS\r\n        flash._disableDebug();\r\n      }\r\n\r\n      sm2.enabled = true;\r\n      debugTS('jstoflash', true);\r\n\r\n      if (!sm2.html5Only) {\r\n        // prevent browser from showing cached page state (or rather, restoring \"suspended\" page state) via back button, because flash may be dead\r\n        // http://www.webkit.org/blog/516/webkit-page-cache-ii-the-unload-event/\r\n        event.add(window, 'unload', doNothing);\r\n      }\r\n\r\n    } catch(e) {\r\n\r\n      sm2._wD('js/flash exception: ' + e.toString());\r\n\r\n      debugTS('jstoflash', false);\r\n\r\n      catchError({\r\n        type: 'JS_TO_FLASH_EXCEPTION',\r\n        fatal: true\r\n      });\r\n\r\n      // don't disable, for reboot()\r\n      failSafely(true);\r\n\r\n      initComplete();\r\n\r\n      return false;\r\n\r\n    }\r\n\r\n    initComplete();\r\n\r\n    // disconnect events\r\n    cleanup();\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  domContentLoaded = function() {\r\n\r\n    if (didDCLoaded) return false;\r\n\r\n    didDCLoaded = true;\r\n\r\n    // assign top-level soundManager properties eg. soundManager.url\r\n    setProperties();\r\n\r\n    initDebug();\r\n\r\n    if (!hasFlash && sm2.hasHTML5) {\r\n\r\n      sm2._wD('SoundManager 2: No Flash detected' + (!sm2.useHTML5Audio ? ', enabling HTML5.' : '. Trying HTML5-only mode.'), 1);\r\n\r\n      sm2.setup({\r\n        useHTML5Audio: true,\r\n        // make sure we aren't preferring flash, either\r\n        // TODO: preferFlash should not matter if flash is not installed. Currently, stuff breaks without the below tweak.\r\n        preferFlash: false\r\n      });\r\n\r\n    }\r\n\r\n    testHTML5();\r\n\r\n    if (!hasFlash && needsFlash) {\r\n\r\n      messages.push(strings.needFlash);\r\n\r\n      // TODO: Fatal here vs. timeout approach, etc.\r\n      // hack: fail sooner.\r\n      sm2.setup({\r\n        flashLoadTimeout: 1\r\n      });\r\n\r\n    }\r\n\r\n    if (doc.removeEventListener) {\r\n      doc.removeEventListener('DOMContentLoaded', domContentLoaded, false);\r\n    }\r\n\r\n    initMovie();\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  domContentLoadedIE = function() {\r\n\r\n    if (doc.readyState === 'complete') {\r\n      domContentLoaded();\r\n      doc.detachEvent('onreadystatechange', domContentLoadedIE);\r\n    }\r\n\r\n    return true;\r\n\r\n  };\r\n\r\n  winOnLoad = function() {\r\n\r\n    // catch edge case of initComplete() firing after window.load()\r\n    windowLoaded = true;\r\n\r\n    // catch case where DOMContentLoaded has been sent, but we're still in doc.readyState = 'interactive'\r\n    domContentLoaded();\r\n\r\n    event.remove(window, 'load', winOnLoad);\r\n\r\n  };\r\n\r\n  // sniff up-front\r\n  detectFlash();\r\n\r\n  // focus and window load, init (primarily flash-driven)\r\n  event.add(window, 'focus', handleFocus);\r\n  event.add(window, 'load', delayWaitForEI);\r\n  event.add(window, 'load', winOnLoad);\r\n\r\n  if (doc.addEventListener) {\r\n\r\n    doc.addEventListener('DOMContentLoaded', domContentLoaded, false);\r\n\r\n  } else if (doc.attachEvent) {\r\n\r\n    doc.attachEvent('onreadystatechange', domContentLoadedIE);\r\n\r\n  } else {\r\n\r\n    // no add/attachevent support - safe to assume no JS -> Flash either\r\n    debugTS('onload', false);\r\n    catchError({\r\n      type: 'NO_DOM2_EVENTS',\r\n      fatal: true\r\n    });\r\n\r\n  }\r\n\r\n} // SoundManager()\r\n\r\n// SM2_DEFER details: http://www.schillmania.com/projects/soundmanager2/doc/getstarted/#lazy-loading\r\n\r\nif (window.SM2_DEFER === _undefined || !SM2_DEFER) {\r\n  soundManager = new SoundManager();\r\n}\r\n\r\n/**\r\n * SoundManager public interfaces\r\n * ------------------------------\r\n */\r\n\r\nif ( module && 'object' === 'object') {\r\n\r\n  /**\r\n   * commonJS module\r\n   */\r\n\r\n  module.exports.SoundManager = SoundManager;\r\n  module.exports.soundManager = soundManager;\r\n\r\n}\r\n\r\n// standard browser case\r\n\r\n// constructor\r\nwindow.SoundManager = SoundManager;\r\n\r\n/**\r\n * note: SM2 requires a window global due to Flash, which makes calls to window.soundManager.\r\n * Flash may not always be needed, but this is not known until async init and SM2 may even \"reboot\" into Flash mode.\r\n */\r\n\r\n// public API, flash callbacks etc.\r\nwindow.soundManager = soundManager;\r\n\r\n}(window));\n});\nvar soundmanager2_1 = soundmanager2.SoundManager;\nvar soundmanager2_2 = soundmanager2.soundManager;\n\nvar soundmanager2Nodebug = createCommonjsModule(function (module) {\n/** @license\r\n *\r\n * SoundManager 2: JavaScript Sound for the Web\r\n * ----------------------------------------------\r\n * http://schillmania.com/projects/soundmanager2/\r\n *\r\n * Copyright (c) 2007, Scott Schiller. All rights reserved.\r\n * Code provided under the BSD License:\r\n * http://schillmania.com/projects/soundmanager2/license.txt\r\n *\r\n * V2.97a.20170601\r\n */\r\n\r\n(function SM2(window, _undefined) {\r\nif (!window || !window.document) {\r\n  throw new Error('SoundManager requires a browser with window and document objects.');\r\n}\r\nvar soundManager = null;\r\nfunction SoundManager(smURL, smID) {\r\n  this.setupOptions = {\r\n    url: (smURL || null),\r\n    flashVersion: 8,\r\n    debugMode: true,\r\n    debugFlash: false,\r\n    useConsole: true,\r\n    consoleOnly: true,\r\n    waitForWindowLoad: false,\r\n    bgColor: '#ffffff',\r\n    useHighPerformance: false,\r\n    flashPollingInterval: null,\r\n    html5PollingInterval: null,\r\n    flashLoadTimeout: 1000,\r\n    wmode: null,\r\n    allowScriptAccess: 'always',\r\n    useFlashBlock: false,\r\n    useHTML5Audio: true,\r\n    forceUseGlobalHTML5Audio: false,\r\n    ignoreMobileRestrictions: false,\r\n    html5Test: /^(probably|maybe)$/i,\r\n    preferFlash: false,\r\n    noSWFCache: false,\r\n    idPrefix: 'sound'\r\n  };\r\n  this.defaultOptions = {\r\n    autoLoad: false,\r\n    autoPlay: false,\r\n    from: null,\r\n    loops: 1,\r\n    onid3: null,\r\n    onerror: null,\r\n    onload: null,\r\n    whileloading: null,\r\n    onplay: null,\r\n    onpause: null,\r\n    onresume: null,\r\n    whileplaying: null,\r\n    onposition: null,\r\n    onstop: null,\r\n    onfinish: null,\r\n    multiShot: true,\r\n    multiShotEvents: false,\r\n    position: null,\r\n    pan: 0,\r\n    playbackRate: 1,\r\n    stream: true,\r\n    to: null,\r\n    type: null,\r\n    usePolicyFile: false,\r\n    volume: 100\r\n  };\r\n  this.flash9Options = {\r\n    onfailure: null,\r\n    isMovieStar: null,\r\n    usePeakData: false,\r\n    useWaveformData: false,\r\n    useEQData: false,\r\n    onbufferchange: null,\r\n    ondataerror: null\r\n  };\r\n  this.movieStarOptions = {\r\n    bufferTime: 3,\r\n    serverURL: null,\r\n    onconnect: null,\r\n    duration: null\r\n  };\r\n  this.audioFormats = {\r\n    mp3: {\r\n      type: ['audio/mpeg; codecs=\"mp3\"', 'audio/mpeg', 'audio/mp3', 'audio/MPA', 'audio/mpa-robust'],\r\n      required: true\r\n    },\r\n    mp4: {\r\n      related: ['aac', 'm4a', 'm4b'],\r\n      type: ['audio/mp4; codecs=\"mp4a.40.2\"', 'audio/aac', 'audio/x-m4a', 'audio/MP4A-LATM', 'audio/mpeg4-generic'],\r\n      required: false\r\n    },\r\n    ogg: {\r\n      type: ['audio/ogg; codecs=vorbis'],\r\n      required: false\r\n    },\r\n    opus: {\r\n      type: ['audio/ogg; codecs=opus', 'audio/opus'],\r\n      required: false\r\n    },\r\n    wav: {\r\n      type: ['audio/wav; codecs=\"1\"', 'audio/wav', 'audio/wave', 'audio/x-wav'],\r\n      required: false\r\n    },\r\n    flac: {\r\n      type: ['audio/flac'],\r\n      required: false\r\n    }\r\n  };\r\n  this.movieID = 'sm2-container';\r\n  this.id = (smID || 'sm2movie');\r\n  this.debugID = 'soundmanager-debug';\r\n  this.debugURLParam = /([#?&])debug=1/i;\r\n  this.versionNumber = 'V2.97a.20170601';\r\n  this.version = null;\r\n  this.movieURL = null;\r\n  this.altURL = null;\r\n  this.swfLoaded = false;\r\n  this.enabled = false;\r\n  this.oMC = null;\r\n  this.sounds = {};\r\n  this.soundIDs = [];\r\n  this.muted = false;\r\n  this.didFlashBlock = false;\r\n  this.filePattern = null;\r\n  this.filePatterns = {\r\n    flash8: /\\.mp3(\\?.*)?$/i,\r\n    flash9: /\\.mp3(\\?.*)?$/i\r\n  };\r\n  this.features = {\r\n    buffering: false,\r\n    peakData: false,\r\n    waveformData: false,\r\n    eqData: false,\r\n    movieStar: false\r\n  };\r\n  this.sandbox = {\r\n  };\r\n  this.html5 = {\r\n    usingFlash: null\r\n  };\r\n  this.flash = {};\r\n  this.html5Only = false;\r\n  this.ignoreFlash = false;\r\n  var SMSound,\r\n  sm2 = this, globalHTML5Audio = null, flash = null, id, ua = navigator.userAgent, wl = window.location.href.toString(), doc = document, doNothing, setProperties, init, fV, on_queue = [], didAppend = false, appendSuccess = false, didInit = false, disabled = false, windowLoaded = false, initComplete, mixin, assign, extraOptions, addOnEvent, processOnEvents, initUserOnload, delayWaitForEI, waitForEI, rebootIntoHTML5, setVersionInfo, handleFocus, strings, initMovie, domContentLoaded, winOnLoad, didDCLoaded, getDocument, createMovie, catchError, setPolling, initDebug, defaultFlashVersion = 8, disableObject, failSafely, normalizeMovieURL, oRemoved = null, oRemovedHTML = null, str, flashBlockHandler, getSWFCSS, swfCSS, loopFix, policyFix, idCheck, waitingForEI = false, initPending = false, startTimer, stopTimer, timerExecute, h5TimerCount = 0, h5IntervalTimer = null, parseURL, messages = [],\r\n  canIgnoreFlash, needsFlash = null, featureCheck, html5OK, html5CanPlay, html5ErrorCodes, html5Ext, html5Unload, domContentLoadedIE, testHTML5, event, slice = Array.prototype.slice, useGlobalHTML5Audio = false, lastGlobalHTML5URL, hasFlash, detectFlash, badSafariFix, html5_events, wrapCallback, idCounter = 0, didSetup, msecScale = 1000,\r\n  is_iDevice = ua.match(/(ipad|iphone|ipod)/i), isAndroid = ua.match(/android/i), isIE = ua.match(/msie|trident/i),\r\n  isWebkit = ua.match(/webkit/i),\r\n  isSafari = (ua.match(/safari/i) && !ua.match(/chrome/i)),\r\n  isOpera = (ua.match(/opera/i)),\r\n  mobileHTML5 = (ua.match(/(mobile|pre\\/|xoom)/i) || is_iDevice || isAndroid),\r\n  isBadSafari = (!wl.match(/usehtml5audio/i) && !wl.match(/sm2-ignorebadua/i) && isSafari && !ua.match(/silk/i) && ua.match(/OS\\sX\\s10_6_([3-7])/i)),\r\n  hasConsole = (window.console !== _undefined && console.log !== _undefined),\r\n  isFocused = (doc.hasFocus !== _undefined ? doc.hasFocus() : null),\r\n  tryInitOnFocus = (isSafari && (doc.hasFocus === _undefined || !doc.hasFocus())),\r\n  okToDisable = !tryInitOnFocus,\r\n  flashMIME = /(mp3|mp4|mpa|m4a|m4b)/i,\r\n  emptyURL = 'about:blank',\r\n  emptyWAV = 'data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==',\r\n  overHTTP = (doc.location ? doc.location.protocol.match(/http/i) : null),\r\n  http = (!overHTTP ? '//' : ''),\r\n  netStreamMimeTypes = /^\\s*audio\\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\\s*(?:$|;)/i,\r\n  netStreamTypes = ['mpeg4', 'aac', 'flv', 'mov', 'mp4', 'm4v', 'f4v', 'm4a', 'm4b', 'mp4v', '3gp', '3g2'],\r\n  netStreamPattern = new RegExp('\\\\.(' + netStreamTypes.join('|') + ')(\\\\?.*)?$', 'i');\r\n  this.mimePattern = /^\\s*audio\\/(?:x-)?(?:mp(?:eg|3))\\s*(?:$|;)/i;\r\n  this.useAltURL = !overHTTP;\r\n  swfCSS = {\r\n    swfBox: 'sm2-object-box',\r\n    swfDefault: 'movieContainer',\r\n    swfError: 'swf_error',\r\n    swfTimedout: 'swf_timedout',\r\n    swfLoaded: 'swf_loaded',\r\n    swfUnblocked: 'swf_unblocked',\r\n    sm2Debug: 'sm2_debug',\r\n    highPerf: 'high_performance',\r\n    flashDebug: 'flash_debug'\r\n  };\r\n  html5ErrorCodes = [\r\n    null,\r\n    'MEDIA_ERR_ABORTED',\r\n    'MEDIA_ERR_NETWORK',\r\n    'MEDIA_ERR_DECODE',\r\n    'MEDIA_ERR_SRC_NOT_SUPPORTED'\r\n  ];\r\n  this.hasHTML5 = (function() {\r\n    try {\r\n      return (Audio !== _undefined && (isOpera && opera !== _undefined && opera.version() < 10 ? new Audio(null) : new Audio()).canPlayType !== _undefined);\r\n    } catch(e) {\r\n      return false;\r\n    }\r\n  }());\r\n  this.setup = function(options) {\r\n    var noURL = (!sm2.url);\r\n    if (options !== _undefined && didInit && needsFlash && sm2.ok() && (options.flashVersion !== _undefined || options.url !== _undefined || options.html5Test !== _undefined)) ;\r\n    assign(options);\r\n    if (!useGlobalHTML5Audio) {\r\n      if (mobileHTML5) {\r\n        if (!sm2.setupOptions.ignoreMobileRestrictions || sm2.setupOptions.forceUseGlobalHTML5Audio) {\r\n          messages.push(strings.globalHTML5);\r\n          useGlobalHTML5Audio = true;\r\n        }\r\n      } else if (sm2.setupOptions.forceUseGlobalHTML5Audio) {\r\n        messages.push(strings.globalHTML5);\r\n        useGlobalHTML5Audio = true;\r\n      }\r\n    }\r\n    if (!didSetup && mobileHTML5) {\r\n      if (sm2.setupOptions.ignoreMobileRestrictions) {\r\n        messages.push(strings.ignoreMobile);\r\n      } else {\r\n        sm2.setupOptions.useHTML5Audio = true;\r\n        sm2.setupOptions.preferFlash = false;\r\n        if (is_iDevice) {\r\n          sm2.ignoreFlash = true;\r\n        } else if ((isAndroid && !ua.match(/android\\s2\\.3/i)) || !isAndroid) {\r\n          useGlobalHTML5Audio = true;\r\n        }\r\n      }\r\n    }\r\n    if (options) {\r\n      if (noURL && didDCLoaded && options.url !== _undefined) {\r\n        sm2.beginDelayedInit();\r\n      }\r\n      if (!didDCLoaded && options.url !== _undefined && doc.readyState === 'complete') {\r\n        setTimeout(domContentLoaded, 1);\r\n      }\r\n    }\r\n    didSetup = true;\r\n    return sm2;\r\n  };\r\n  this.ok = function() {\r\n    return (needsFlash ? (didInit && !disabled) : (sm2.useHTML5Audio && sm2.hasHTML5));\r\n  };\r\n  this.supported = this.ok;\r\n  this.getMovie = function(movie_id) {\r\n    return id(movie_id) || doc[movie_id] || window[movie_id];\r\n  };\r\n  this.createSound = function(oOptions, _url) {\r\n    var cs, options, oSound = null;\r\n    if (!didInit || !sm2.ok()) {\r\n      return false;\r\n    }\r\n    if (_url !== _undefined) {\r\n      oOptions = {\r\n        id: oOptions,\r\n        url: _url\r\n      };\r\n    }\r\n    options = mixin(oOptions);\r\n    options.url = parseURL(options.url);\r\n    if (options.id === _undefined) {\r\n      options.id = sm2.setupOptions.idPrefix + (idCounter++);\r\n    }\r\n    if (idCheck(options.id, true)) {\r\n      return sm2.sounds[options.id];\r\n    }\r\n    function make() {\r\n      options = loopFix(options);\r\n      sm2.sounds[options.id] = new SMSound(options);\r\n      sm2.soundIDs.push(options.id);\r\n      return sm2.sounds[options.id];\r\n    }\r\n    if (html5OK(options)) {\r\n      oSound = make();\r\n      oSound._setup_html5(options);\r\n    } else {\r\n      if (sm2.html5Only) {\r\n        return make();\r\n      }\r\n      if (sm2.html5.usingFlash && options.url && options.url.match(/data:/i)) {\r\n        return make();\r\n      }\r\n      if (fV > 8) {\r\n        if (options.isMovieStar === null) {\r\n          options.isMovieStar = !!(options.serverURL || (options.type ? options.type.match(netStreamMimeTypes) : false) || (options.url && options.url.match(netStreamPattern)));\r\n        }\r\n      }\r\n      options = policyFix(options, cs);\r\n      oSound = make();\r\n      if (fV === 8) {\r\n        flash._createSound(options.id, options.loops || 1, options.usePolicyFile);\r\n      } else {\r\n        flash._createSound(options.id, options.url, options.usePeakData, options.useWaveformData, options.useEQData, options.isMovieStar, (options.isMovieStar ? options.bufferTime : false), options.loops || 1, options.serverURL, options.duration || null, options.autoPlay, true, options.autoLoad, options.usePolicyFile);\r\n        if (!options.serverURL) {\r\n          oSound.connected = true;\r\n          if (options.onconnect) {\r\n            options.onconnect.apply(oSound);\r\n          }\r\n        }\r\n      }\r\n      if (!options.serverURL && (options.autoLoad || options.autoPlay)) {\r\n        oSound.load(options);\r\n      }\r\n    }\r\n    if (!options.serverURL && options.autoPlay) {\r\n      oSound.play();\r\n    }\r\n    return oSound;\r\n  };\r\n  this.destroySound = function(sID, _bFromSound) {\r\n    if (!idCheck(sID)) return false;\r\n    var oS = sm2.sounds[sID], i;\r\n    oS.stop();\r\n    oS._iO = {};\r\n    oS.unload();\r\n    for (i = 0; i < sm2.soundIDs.length; i++) {\r\n      if (sm2.soundIDs[i] === sID) {\r\n        sm2.soundIDs.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    if (!_bFromSound) {\r\n      oS.destruct(true);\r\n    }\r\n    oS = null;\r\n    delete sm2.sounds[sID];\r\n    return true;\r\n  };\r\n  this.load = function(sID, oOptions) {\r\n    if (!idCheck(sID)) return false;\r\n    return sm2.sounds[sID].load(oOptions);\r\n  };\r\n  this.unload = function(sID) {\r\n    if (!idCheck(sID)) return false;\r\n    return sm2.sounds[sID].unload();\r\n  };\r\n  this.onPosition = function(sID, nPosition, oMethod, oScope) {\r\n    if (!idCheck(sID)) return false;\r\n    return sm2.sounds[sID].onposition(nPosition, oMethod, oScope);\r\n  };\r\n  this.onposition = this.onPosition;\r\n  this.clearOnPosition = function(sID, nPosition, oMethod) {\r\n    if (!idCheck(sID)) return false;\r\n    return sm2.sounds[sID].clearOnPosition(nPosition, oMethod);\r\n  };\r\n  this.play = function(sID, oOptions) {\r\n    var result = null,\r\n        overloaded = (oOptions && !(oOptions instanceof Object));\r\n    if (!didInit || !sm2.ok()) {\r\n      return false;\r\n    }\r\n    if (!idCheck(sID, overloaded)) {\r\n      if (!overloaded) return false;\r\n      if (overloaded) {\r\n        oOptions = {\r\n          url: oOptions\r\n        };\r\n      }\r\n      if (oOptions && oOptions.url) {\r\n        oOptions.id = sID;\r\n        result = sm2.createSound(oOptions).play();\r\n      }\r\n    } else if (overloaded) {\r\n      oOptions = {\r\n        url: oOptions\r\n      };\r\n    }\r\n    if (result === null) {\r\n      result = sm2.sounds[sID].play(oOptions);\r\n    }\r\n    return result;\r\n  };\r\n  this.start = this.play;\r\n  this.setPlaybackRate = function(sID, rate, allowOverride) {\r\n    if (!idCheck(sID)) return false;\r\n    return sm2.sounds[sID].setPlaybackRate(rate, allowOverride);\r\n  };\r\n  this.setPosition = function(sID, nMsecOffset) {\r\n    if (!idCheck(sID)) return false;\r\n    return sm2.sounds[sID].setPosition(nMsecOffset);\r\n  };\r\n  this.stop = function(sID) {\r\n    if (!idCheck(sID)) return false;\r\n    return sm2.sounds[sID].stop();\r\n  };\r\n  this.stopAll = function() {\r\n    var oSound;\r\n    for (oSound in sm2.sounds) {\r\n      if (sm2.sounds.hasOwnProperty(oSound)) {\r\n        sm2.sounds[oSound].stop();\r\n      }\r\n    }\r\n  };\r\n  this.pause = function(sID) {\r\n    if (!idCheck(sID)) return false;\r\n    return sm2.sounds[sID].pause();\r\n  };\r\n  this.pauseAll = function() {\r\n    var i;\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n      sm2.sounds[sm2.soundIDs[i]].pause();\r\n    }\r\n  };\r\n  this.resume = function(sID) {\r\n    if (!idCheck(sID)) return false;\r\n    return sm2.sounds[sID].resume();\r\n  };\r\n  this.resumeAll = function() {\r\n    var i;\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n      sm2.sounds[sm2.soundIDs[i]].resume();\r\n    }\r\n  };\r\n  this.togglePause = function(sID) {\r\n    if (!idCheck(sID)) return false;\r\n    return sm2.sounds[sID].togglePause();\r\n  };\r\n  this.setPan = function(sID, nPan) {\r\n    if (!idCheck(sID)) return false;\r\n    return sm2.sounds[sID].setPan(nPan);\r\n  };\r\n  this.setVolume = function(sID, nVol) {\r\n    var i, j;\r\n    if (sID !== _undefined && !isNaN(sID) && nVol === _undefined) {\r\n      for (i = 0, j = sm2.soundIDs.length; i < j; i++) {\r\n        sm2.sounds[sm2.soundIDs[i]].setVolume(sID);\r\n      }\r\n      return false;\r\n    }\r\n    if (!idCheck(sID)) return false;\r\n    return sm2.sounds[sID].setVolume(nVol);\r\n  };\r\n  this.mute = function(sID) {\r\n    var i = 0;\r\n    if (sID instanceof String) {\r\n      sID = null;\r\n    }\r\n    if (!sID) {\r\n      for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n        sm2.sounds[sm2.soundIDs[i]].mute();\r\n      }\r\n      sm2.muted = true;\r\n    } else {\r\n      if (!idCheck(sID)) return false;\r\n      return sm2.sounds[sID].mute();\r\n    }\r\n    return true;\r\n  };\r\n  this.muteAll = function() {\r\n    sm2.mute();\r\n  };\r\n  this.unmute = function(sID) {\r\n    var i;\r\n    if (sID instanceof String) {\r\n      sID = null;\r\n    }\r\n    if (!sID) {\r\n      for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n        sm2.sounds[sm2.soundIDs[i]].unmute();\r\n      }\r\n      sm2.muted = false;\r\n    } else {\r\n      if (!idCheck(sID)) return false;\r\n      return sm2.sounds[sID].unmute();\r\n    }\r\n    return true;\r\n  };\r\n  this.unmuteAll = function() {\r\n    sm2.unmute();\r\n  };\r\n  this.toggleMute = function(sID) {\r\n    if (!idCheck(sID)) return false;\r\n    return sm2.sounds[sID].toggleMute();\r\n  };\r\n  this.getMemoryUse = function() {\r\n    var ram = 0;\r\n    if (flash && fV !== 8) {\r\n      ram = parseInt(flash._getMemoryUse(), 10);\r\n    }\r\n    return ram;\r\n  };\r\n  this.disable = function(bNoDisable) {\r\n    var i;\r\n    if (bNoDisable === _undefined) {\r\n      bNoDisable = false;\r\n    }\r\n    if (disabled) return false;\r\n    disabled = true;\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n      disableObject(sm2.sounds[sm2.soundIDs[i]]);\r\n    }\r\n    disableObject(sm2);\r\n    initComplete(bNoDisable);\r\n    event.remove(window, 'load', initUserOnload);\r\n    return true;\r\n  };\r\n  this.canPlayMIME = function(sMIME) {\r\n    var result;\r\n    if (sm2.hasHTML5) {\r\n      result = html5CanPlay({\r\n        type: sMIME\r\n      });\r\n    }\r\n    if (!result && needsFlash) {\r\n      result = (sMIME && sm2.ok() ? !!((fV > 8 ? sMIME.match(netStreamMimeTypes) : null) || sMIME.match(sm2.mimePattern)) : null);\r\n    }\r\n    return result;\r\n  };\r\n  this.canPlayURL = function(sURL) {\r\n    var result;\r\n    if (sm2.hasHTML5) {\r\n      result = html5CanPlay({\r\n        url: sURL\r\n      });\r\n    }\r\n    if (!result && needsFlash) {\r\n      result = (sURL && sm2.ok() ? !!(sURL.match(sm2.filePattern)) : null);\r\n    }\r\n    return result;\r\n  };\r\n  this.canPlayLink = function(oLink) {\r\n    if (oLink.type !== _undefined && oLink.type && sm2.canPlayMIME(oLink.type)) return true;\r\n    return sm2.canPlayURL(oLink.href);\r\n  };\r\n  this.getSoundById = function(sID, _suppressDebug) {\r\n    if (!sID) return null;\r\n    var result = sm2.sounds[sID];\r\n    return result;\r\n  };\r\n  this.onready = function(oMethod, oScope) {\r\n    var sType = 'onready',\r\n        result = false;\r\n    if (typeof oMethod === 'function') {\r\n      if (!oScope) {\r\n        oScope = window;\r\n      }\r\n      addOnEvent(sType, oMethod, oScope);\r\n      processOnEvents();\r\n      result = true;\r\n    } else {\r\n      throw str('needFunction', sType);\r\n    }\r\n    return result;\r\n  };\r\n  this.ontimeout = function(oMethod, oScope) {\r\n    var sType = 'ontimeout',\r\n        result = false;\r\n    if (typeof oMethod === 'function') {\r\n      if (!oScope) {\r\n        oScope = window;\r\n      }\r\n      addOnEvent(sType, oMethod, oScope);\r\n      processOnEvents({ type: sType });\r\n      result = true;\r\n    } else {\r\n      throw str('needFunction', sType);\r\n    }\r\n    return result;\r\n  };\r\n  this._writeDebug = function(sText, sTypeOrObject) {\r\n    return true;\r\n  };\r\n  this._wD = this._writeDebug;\r\n  this._debug = function() {\r\n  };\r\n  this.reboot = function(resetEvents, excludeInit) {\r\n    var i, j, k;\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n      sm2.sounds[sm2.soundIDs[i]].destruct();\r\n    }\r\n    if (flash) {\r\n      try {\r\n        if (isIE) {\r\n          oRemovedHTML = flash.innerHTML;\r\n        }\r\n        oRemoved = flash.parentNode.removeChild(flash);\r\n      } catch(e) {\r\n      }\r\n    }\r\n    oRemovedHTML = oRemoved = needsFlash = flash = null;\r\n    sm2.enabled = didDCLoaded = didInit = waitingForEI = initPending = didAppend = appendSuccess = disabled = useGlobalHTML5Audio = sm2.swfLoaded = false;\r\n    sm2.soundIDs = [];\r\n    sm2.sounds = {};\r\n    idCounter = 0;\r\n    didSetup = false;\r\n    if (!resetEvents) {\r\n      for (i in on_queue) {\r\n        if (on_queue.hasOwnProperty(i)) {\r\n          for (j = 0, k = on_queue[i].length; j < k; j++) {\r\n            on_queue[i][j].fired = false;\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      on_queue = [];\r\n    }\r\n    sm2.html5 = {\r\n      usingFlash: null\r\n    };\r\n    sm2.flash = {};\r\n    sm2.html5Only = false;\r\n    sm2.ignoreFlash = false;\r\n    window.setTimeout(function() {\r\n      if (!excludeInit) {\r\n        sm2.beginDelayedInit();\r\n      }\r\n    }, 20);\r\n    return sm2;\r\n  };\r\n  this.reset = function() {\r\n    return sm2.reboot(true, true);\r\n  };\r\n  this.getMoviePercent = function() {\r\n    return (flash && 'PercentLoaded' in flash ? flash.PercentLoaded() : null);\r\n  };\r\n  this.beginDelayedInit = function() {\r\n    windowLoaded = true;\r\n    domContentLoaded();\r\n    setTimeout(function() {\r\n      if (initPending) return false;\r\n      createMovie();\r\n      initMovie();\r\n      initPending = true;\r\n      return true;\r\n    }, 20);\r\n    delayWaitForEI();\r\n  };\r\n  this.destruct = function() {\r\n    sm2.disable(true);\r\n  };\r\n  SMSound = function(oOptions) {\r\n    var s = this, resetProperties, add_html5_events, remove_html5_events, stop_html5_timer, start_html5_timer, attachOnPosition, onplay_called = false, onPositionItems = [], onPositionFired = 0, detachOnPosition, applyFromTo, lastURL = null, lastHTML5State, urlOmitted;\r\n    lastHTML5State = {\r\n      duration: null,\r\n      time: null\r\n    };\r\n    this.id = oOptions.id;\r\n    this.sID = this.id;\r\n    this.url = oOptions.url;\r\n    this.options = mixin(oOptions);\r\n    this.instanceOptions = this.options;\r\n    this._iO = this.instanceOptions;\r\n    this.pan = this.options.pan;\r\n    this.volume = this.options.volume;\r\n    this.isHTML5 = false;\r\n    this._a = null;\r\n    urlOmitted = (!this.url);\r\n    this.id3 = {};\r\n    this._debug = function() {\r\n    };\r\n    this.load = function(options) {\r\n      var oSound = null, instanceOptions;\r\n      if (options !== _undefined) {\r\n        s._iO = mixin(options, s.options);\r\n      } else {\r\n        options = s.options;\r\n        s._iO = options;\r\n        if (lastURL && lastURL !== s.url) {\r\n          s._iO.url = s.url;\r\n          s.url = null;\r\n        }\r\n      }\r\n      if (!s._iO.url) {\r\n        s._iO.url = s.url;\r\n      }\r\n      s._iO.url = parseURL(s._iO.url);\r\n      s.instanceOptions = s._iO;\r\n      instanceOptions = s._iO;\r\n      if (!instanceOptions.url && !s.url) {\r\n        return s;\r\n      }\r\n      if (instanceOptions.url === s.url && s.readyState !== 0 && s.readyState !== 2) {\r\n        if (s.readyState === 3 && instanceOptions.onload) {\r\n          wrapCallback(s, function() {\r\n            instanceOptions.onload.apply(s, [(!!s.duration)]);\r\n          });\r\n        }\r\n        return s;\r\n      }\r\n      s.loaded = false;\r\n      s.readyState = 1;\r\n      s.playState = 0;\r\n      s.id3 = {};\r\n      if (html5OK(instanceOptions)) {\r\n        oSound = s._setup_html5(instanceOptions);\r\n        if (!oSound._called_load) {\r\n          s._html5_canplay = false;\r\n          if (s.url !== instanceOptions.url) {\r\n            s._a.src = instanceOptions.url;\r\n            s.setPosition(0);\r\n          }\r\n          s._a.autobuffer = 'auto';\r\n          s._a.preload = 'auto';\r\n          s._a._called_load = true;\r\n        }\r\n      } else {\r\n        if (sm2.html5Only) {\r\n          return s;\r\n        }\r\n        if (s._iO.url && s._iO.url.match(/data:/i)) {\r\n          return s;\r\n        }\r\n        try {\r\n          s.isHTML5 = false;\r\n          s._iO = policyFix(loopFix(instanceOptions));\r\n          if (s._iO.autoPlay && (s._iO.position || s._iO.from)) {\r\n            s._iO.autoPlay = false;\r\n          }\r\n          instanceOptions = s._iO;\r\n          if (fV === 8) {\r\n            flash._load(s.id, instanceOptions.url, instanceOptions.stream, instanceOptions.autoPlay, instanceOptions.usePolicyFile);\r\n          } else {\r\n            flash._load(s.id, instanceOptions.url, !!(instanceOptions.stream), !!(instanceOptions.autoPlay), instanceOptions.loops || 1, !!(instanceOptions.autoLoad), instanceOptions.usePolicyFile);\r\n          }\r\n        } catch(e) {\r\n          catchError({\r\n            type: 'SMSOUND_LOAD_JS_EXCEPTION',\r\n            fatal: true\r\n          });\r\n        }\r\n      }\r\n      s.url = instanceOptions.url;\r\n      return s;\r\n    };\r\n    this.unload = function() {\r\n      if (s.readyState !== 0) {\r\n        if (!s.isHTML5) {\r\n          if (fV === 8) {\r\n            flash._unload(s.id, emptyURL);\r\n          } else {\r\n            flash._unload(s.id);\r\n          }\r\n        } else {\r\n          stop_html5_timer();\r\n          if (s._a) {\r\n            s._a.pause();\r\n            lastURL = html5Unload(s._a);\r\n          }\r\n        }\r\n        resetProperties();\r\n      }\r\n      return s;\r\n    };\r\n    this.destruct = function(_bFromSM) {\r\n      if (!s.isHTML5) {\r\n        s._iO.onfailure = null;\r\n        flash._destroySound(s.id);\r\n      } else {\r\n        stop_html5_timer();\r\n        if (s._a) {\r\n          s._a.pause();\r\n          html5Unload(s._a);\r\n          if (!useGlobalHTML5Audio) {\r\n            remove_html5_events();\r\n          }\r\n          s._a._s = null;\r\n          s._a = null;\r\n        }\r\n      }\r\n      if (!_bFromSM) {\r\n        sm2.destroySound(s.id, true);\r\n      }\r\n    };\r\n    this.play = function(options, _updatePlayState) {\r\n      var allowMulti, a, onready,\r\n          audioClone, onended, oncanplay,\r\n          startOK = true;\r\n      _updatePlayState = (_updatePlayState === _undefined ? true : _updatePlayState);\r\n      if (!options) {\r\n        options = {};\r\n      }\r\n      if (s.url) {\r\n        s._iO.url = s.url;\r\n      }\r\n      s._iO = mixin(s._iO, s.options);\r\n      s._iO = mixin(options, s._iO);\r\n      s._iO.url = parseURL(s._iO.url);\r\n      s.instanceOptions = s._iO;\r\n      if (!s.isHTML5 && s._iO.serverURL && !s.connected) {\r\n        if (!s.getAutoPlay()) {\r\n          s.setAutoPlay(true);\r\n        }\r\n        return s;\r\n      }\r\n      if (html5OK(s._iO)) {\r\n        s._setup_html5(s._iO);\r\n        start_html5_timer();\r\n      }\r\n      if (s.playState === 1 && !s.paused) {\r\n        allowMulti = s._iO.multiShot;\r\n        if (!allowMulti) {\r\n          if (s.isHTML5) {\r\n            s.setPosition(s._iO.position);\r\n          }\r\n          return s;\r\n        }\r\n      }\r\n      if (options.url && options.url !== s.url) {\r\n        if (!s.readyState && !s.isHTML5 && fV === 8 && urlOmitted) {\r\n          urlOmitted = false;\r\n        } else {\r\n          s.load(s._iO);\r\n        }\r\n      }\r\n      if (!s.loaded) {\r\n        if (s.readyState === 0) {\r\n          if (!s.isHTML5 && !sm2.html5Only) {\r\n            s._iO.autoPlay = true;\r\n            s.load(s._iO);\r\n          } else if (s.isHTML5) {\r\n            s.load(s._iO);\r\n          } else {\r\n            return s;\r\n          }\r\n          s.instanceOptions = s._iO;\r\n        } else if (s.readyState === 2) {\r\n          return s;\r\n        }\r\n      }\r\n      if (!s.isHTML5 && fV === 9 && s.position > 0 && s.position === s.duration) {\r\n        options.position = 0;\r\n      }\r\n      if (s.paused && s.position >= 0 && (!s._iO.serverURL || s.position > 0)) {\r\n        s.resume();\r\n      } else {\r\n        s._iO = mixin(options, s._iO);\r\n        if (((!s.isHTML5 && s._iO.position !== null && s._iO.position > 0) || (s._iO.from !== null && s._iO.from > 0) || s._iO.to !== null) && s.instanceCount === 0 && s.playState === 0 && !s._iO.serverURL) {\r\n          onready = function() {\r\n            s._iO = mixin(options, s._iO);\r\n            s.play(s._iO);\r\n          };\r\n          if (s.isHTML5 && !s._html5_canplay) {\r\n            s.load({\r\n              _oncanplay: onready\r\n            });\r\n          } else if (!s.isHTML5 && !s.loaded && (!s.readyState || s.readyState !== 2)) {\r\n            s.load({\r\n              onload: onready\r\n            });\r\n          }\r\n          s._iO = applyFromTo();\r\n        }\r\n        if (!s.instanceCount || s._iO.multiShotEvents || (s.isHTML5 && s._iO.multiShot && !useGlobalHTML5Audio) || (!s.isHTML5 && fV > 8 && !s.getAutoPlay())) {\r\n          s.instanceCount++;\r\n        }\r\n        if (s._iO.onposition && s.playState === 0) {\r\n          attachOnPosition(s);\r\n        }\r\n        s.playState = 1;\r\n        s.paused = false;\r\n        s.position = (s._iO.position !== _undefined && !isNaN(s._iO.position) ? s._iO.position : 0);\r\n        if (!s.isHTML5) {\r\n          s._iO = policyFix(loopFix(s._iO));\r\n        }\r\n        if (s._iO.onplay && _updatePlayState) {\r\n          s._iO.onplay.apply(s);\r\n          onplay_called = true;\r\n        }\r\n        s.setVolume(s._iO.volume, true);\r\n        s.setPan(s._iO.pan, true);\r\n        if (s._iO.playbackRate !== 1) {\r\n          s.setPlaybackRate(s._iO.playbackRate);\r\n        }\r\n        if (!s.isHTML5) {\r\n          startOK = flash._start(s.id, s._iO.loops || 1, (fV === 9 ? s.position : s.position / msecScale), s._iO.multiShot || false);\r\n          if (fV === 9 && !startOK) {\r\n            if (s._iO.onplayerror) {\r\n              s._iO.onplayerror.apply(s);\r\n            }\r\n          }\r\n        } else if (s.instanceCount < 2) {\r\n            start_html5_timer();\r\n            a = s._setup_html5();\r\n            s.setPosition(s._iO.position);\r\n            a.play();\r\n          } else {\r\n            audioClone = new Audio(s._iO.url);\r\n            onended = function() {\r\n              event.remove(audioClone, 'ended', onended);\r\n              s._onfinish(s);\r\n              html5Unload(audioClone);\r\n              audioClone = null;\r\n            };\r\n            oncanplay = function() {\r\n              event.remove(audioClone, 'canplay', oncanplay);\r\n              try {\r\n                audioClone.currentTime = s._iO.position / msecScale;\r\n              } catch(err) {\r\n              }\r\n              audioClone.play();\r\n            };\r\n            event.add(audioClone, 'ended', onended);\r\n            if (s._iO.volume !== _undefined) {\r\n              audioClone.volume = Math.max(0, Math.min(1, s._iO.volume / 100));\r\n            }\r\n            if (s.muted) {\r\n              audioClone.muted = true;\r\n            }\r\n            if (s._iO.position) {\r\n              event.add(audioClone, 'canplay', oncanplay);\r\n            } else {\r\n              audioClone.play();\r\n            }\r\n          }\r\n      }\r\n      return s;\r\n    };\r\n    this.start = this.play;\r\n    this.stop = function(bAll) {\r\n      var instanceOptions = s._iO,\r\n          originalPosition;\r\n      if (s.playState === 1) {\r\n        s._onbufferchange(0);\r\n        s._resetOnPosition(0);\r\n        s.paused = false;\r\n        if (!s.isHTML5) {\r\n          s.playState = 0;\r\n        }\r\n        detachOnPosition();\r\n        if (instanceOptions.to) {\r\n          s.clearOnPosition(instanceOptions.to);\r\n        }\r\n        if (!s.isHTML5) {\r\n          flash._stop(s.id, bAll);\r\n          if (instanceOptions.serverURL) {\r\n            s.unload();\r\n          }\r\n        } else if (s._a) {\r\n            originalPosition = s.position;\r\n            s.setPosition(0);\r\n            s.position = originalPosition;\r\n            s._a.pause();\r\n            s.playState = 0;\r\n            s._onTimer();\r\n            stop_html5_timer();\r\n          }\r\n        s.instanceCount = 0;\r\n        s._iO = {};\r\n        if (instanceOptions.onstop) {\r\n          instanceOptions.onstop.apply(s);\r\n        }\r\n      }\r\n      return s;\r\n    };\r\n    this.setAutoPlay = function(autoPlay) {\r\n      s._iO.autoPlay = autoPlay;\r\n      if (!s.isHTML5) {\r\n        flash._setAutoPlay(s.id, autoPlay);\r\n        if (autoPlay) {\r\n          if (!s.instanceCount && s.readyState === 1) {\r\n            s.instanceCount++;\r\n          }\r\n        }\r\n      }\r\n    };\r\n    this.getAutoPlay = function() {\r\n      return s._iO.autoPlay;\r\n    };\r\n    this.setPlaybackRate = function(playbackRate) {\r\n      var normalizedRate = Math.max(0.5, Math.min(4, playbackRate));\r\n      if (s.isHTML5) {\r\n        try {\r\n          s._iO.playbackRate = normalizedRate;\r\n          s._a.playbackRate = normalizedRate;\r\n        } catch(e) {\r\n        }\r\n      }\r\n      return s;\r\n    };\r\n    this.setPosition = function(nMsecOffset) {\r\n      if (nMsecOffset === _undefined) {\r\n        nMsecOffset = 0;\r\n      }\r\n      var position, position1K,\r\n          offset = (s.isHTML5 ? Math.max(nMsecOffset, 0) : Math.min(s.duration || s._iO.duration, Math.max(nMsecOffset, 0)));\r\n      s.position = offset;\r\n      position1K = s.position / msecScale;\r\n      s._resetOnPosition(s.position);\r\n      s._iO.position = offset;\r\n      if (!s.isHTML5) {\r\n        position = (fV === 9 ? s.position : position1K);\r\n        if (s.readyState && s.readyState !== 2) {\r\n          flash._setPosition(s.id, position, (s.paused || !s.playState), s._iO.multiShot);\r\n        }\r\n      } else if (s._a) {\r\n        if (s._html5_canplay) {\r\n          if (s._a.currentTime.toFixed(3) !== position1K.toFixed(3)) {\r\n            try {\r\n              s._a.currentTime = position1K;\r\n              if (s.playState === 0 || s.paused) {\r\n                s._a.pause();\r\n              }\r\n            } catch(e) {\r\n            }\r\n          }\r\n        } else if (position1K) {\r\n          return s;\r\n        }\r\n        if (s.paused) {\r\n          s._onTimer(true);\r\n        }\r\n      }\r\n      return s;\r\n    };\r\n    this.pause = function(_bCallFlash) {\r\n      if (s.paused || (s.playState === 0 && s.readyState !== 1)) return s;\r\n      s.paused = true;\r\n      if (!s.isHTML5) {\r\n        if (_bCallFlash || _bCallFlash === _undefined) {\r\n          flash._pause(s.id, s._iO.multiShot);\r\n        }\r\n      } else {\r\n        s._setup_html5().pause();\r\n        stop_html5_timer();\r\n      }\r\n      if (s._iO.onpause) {\r\n        s._iO.onpause.apply(s);\r\n      }\r\n      return s;\r\n    };\r\n    this.resume = function() {\r\n      var instanceOptions = s._iO;\r\n      if (!s.paused) return s;\r\n      s.paused = false;\r\n      s.playState = 1;\r\n      if (!s.isHTML5) {\r\n        if (instanceOptions.isMovieStar && !instanceOptions.serverURL) {\r\n          s.setPosition(s.position);\r\n        }\r\n        flash._pause(s.id, instanceOptions.multiShot);\r\n      } else {\r\n        s._setup_html5().play();\r\n        start_html5_timer();\r\n      }\r\n      if (!onplay_called && instanceOptions.onplay) {\r\n        instanceOptions.onplay.apply(s);\r\n        onplay_called = true;\r\n      } else if (instanceOptions.onresume) {\r\n        instanceOptions.onresume.apply(s);\r\n      }\r\n      return s;\r\n    };\r\n    this.togglePause = function() {\r\n      if (s.playState === 0) {\r\n        s.play({\r\n          position: (fV === 9 && !s.isHTML5 ? s.position : s.position / msecScale)\r\n        });\r\n        return s;\r\n      }\r\n      if (s.paused) {\r\n        s.resume();\r\n      } else {\r\n        s.pause();\r\n      }\r\n      return s;\r\n    };\r\n    this.setPan = function(nPan, bInstanceOnly) {\r\n      if (nPan === _undefined) {\r\n        nPan = 0;\r\n      }\r\n      if (bInstanceOnly === _undefined) {\r\n        bInstanceOnly = false;\r\n      }\r\n      if (!s.isHTML5) {\r\n        flash._setPan(s.id, nPan);\r\n      }\r\n      s._iO.pan = nPan;\r\n      if (!bInstanceOnly) {\r\n        s.pan = nPan;\r\n        s.options.pan = nPan;\r\n      }\r\n      return s;\r\n    };\r\n    this.setVolume = function(nVol, _bInstanceOnly) {\r\n      if (nVol === _undefined) {\r\n        nVol = 100;\r\n      }\r\n      if (_bInstanceOnly === _undefined) {\r\n        _bInstanceOnly = false;\r\n      }\r\n      if (!s.isHTML5) {\r\n        flash._setVolume(s.id, (sm2.muted && !s.muted) || s.muted ? 0 : nVol);\r\n      } else if (s._a) {\r\n        if (sm2.muted && !s.muted) {\r\n          s.muted = true;\r\n          s._a.muted = true;\r\n        }\r\n        s._a.volume = Math.max(0, Math.min(1, nVol / 100));\r\n      }\r\n      s._iO.volume = nVol;\r\n      if (!_bInstanceOnly) {\r\n        s.volume = nVol;\r\n        s.options.volume = nVol;\r\n      }\r\n      return s;\r\n    };\r\n    this.mute = function() {\r\n      s.muted = true;\r\n      if (!s.isHTML5) {\r\n        flash._setVolume(s.id, 0);\r\n      } else if (s._a) {\r\n        s._a.muted = true;\r\n      }\r\n      return s;\r\n    };\r\n    this.unmute = function() {\r\n      s.muted = false;\r\n      var hasIO = (s._iO.volume !== _undefined);\r\n      if (!s.isHTML5) {\r\n        flash._setVolume(s.id, hasIO ? s._iO.volume : s.options.volume);\r\n      } else if (s._a) {\r\n        s._a.muted = false;\r\n      }\r\n      return s;\r\n    };\r\n    this.toggleMute = function() {\r\n      return (s.muted ? s.unmute() : s.mute());\r\n    };\r\n    this.onPosition = function(nPosition, oMethod, oScope) {\r\n      onPositionItems.push({\r\n        position: parseInt(nPosition, 10),\r\n        method: oMethod,\r\n        scope: (oScope !== _undefined ? oScope : s),\r\n        fired: false\r\n      });\r\n      return s;\r\n    };\r\n    this.onposition = this.onPosition;\r\n    this.clearOnPosition = function(nPosition, oMethod) {\r\n      var i;\r\n      nPosition = parseInt(nPosition, 10);\r\n      if (isNaN(nPosition)) {\r\n        return;\r\n      }\r\n      for (i = 0; i < onPositionItems.length; i++) {\r\n        if (nPosition === onPositionItems[i].position) {\r\n          if (!oMethod || (oMethod === onPositionItems[i].method)) {\r\n            if (onPositionItems[i].fired) {\r\n              onPositionFired--;\r\n            }\r\n            onPositionItems.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n    };\r\n    this._processOnPosition = function() {\r\n      var i, item, j = onPositionItems.length;\r\n      if (!j || !s.playState || onPositionFired >= j) return false;\r\n      for (i = j - 1; i >= 0; i--) {\r\n        item = onPositionItems[i];\r\n        if (!item.fired && s.position >= item.position) {\r\n          item.fired = true;\r\n          onPositionFired++;\r\n          item.method.apply(item.scope, [item.position]);\r\n          j = onPositionItems.length;\r\n        }\r\n      }\r\n      return true;\r\n    };\r\n    this._resetOnPosition = function(nPosition) {\r\n      var i, item, j = onPositionItems.length;\r\n      if (!j) return false;\r\n      for (i = j - 1; i >= 0; i--) {\r\n        item = onPositionItems[i];\r\n        if (item.fired && nPosition <= item.position) {\r\n          item.fired = false;\r\n          onPositionFired--;\r\n        }\r\n      }\r\n      return true;\r\n    };\r\n    applyFromTo = function() {\r\n      var instanceOptions = s._iO,\r\n          f = instanceOptions.from,\r\n          t = instanceOptions.to,\r\n          start, end;\r\n      end = function() {\r\n        s.clearOnPosition(t, end);\r\n        s.stop();\r\n      };\r\n      start = function() {\r\n        if (t !== null && !isNaN(t)) {\r\n          s.onPosition(t, end);\r\n        }\r\n      };\r\n      if (f !== null && !isNaN(f)) {\r\n        instanceOptions.position = f;\r\n        instanceOptions.multiShot = false;\r\n        start();\r\n      }\r\n      return instanceOptions;\r\n    };\r\n    attachOnPosition = function() {\r\n      var item,\r\n          op = s._iO.onposition;\r\n      if (op) {\r\n        for (item in op) {\r\n          if (op.hasOwnProperty(item)) {\r\n            s.onPosition(parseInt(item, 10), op[item]);\r\n          }\r\n        }\r\n      }\r\n    };\r\n    detachOnPosition = function() {\r\n      var item,\r\n          op = s._iO.onposition;\r\n      if (op) {\r\n        for (item in op) {\r\n          if (op.hasOwnProperty(item)) {\r\n            s.clearOnPosition(parseInt(item, 10));\r\n          }\r\n        }\r\n      }\r\n    };\r\n    start_html5_timer = function() {\r\n      if (s.isHTML5) {\r\n        startTimer(s);\r\n      }\r\n    };\r\n    stop_html5_timer = function() {\r\n      if (s.isHTML5) {\r\n        stopTimer(s);\r\n      }\r\n    };\r\n    resetProperties = function(retainPosition) {\r\n      if (!retainPosition) {\r\n        onPositionItems = [];\r\n        onPositionFired = 0;\r\n      }\r\n      onplay_called = false;\r\n      s._hasTimer = null;\r\n      s._a = null;\r\n      s._html5_canplay = false;\r\n      s.bytesLoaded = null;\r\n      s.bytesTotal = null;\r\n      s.duration = (s._iO && s._iO.duration ? s._iO.duration : null);\r\n      s.durationEstimate = null;\r\n      s.buffered = [];\r\n      s.eqData = [];\r\n      s.eqData.left = [];\r\n      s.eqData.right = [];\r\n      s.failures = 0;\r\n      s.isBuffering = false;\r\n      s.instanceOptions = {};\r\n      s.instanceCount = 0;\r\n      s.loaded = false;\r\n      s.metadata = {};\r\n      s.readyState = 0;\r\n      s.muted = false;\r\n      s.paused = false;\r\n      s.peakData = {\r\n        left: 0,\r\n        right: 0\r\n      };\r\n      s.waveformData = {\r\n        left: [],\r\n        right: []\r\n      };\r\n      s.playState = 0;\r\n      s.position = null;\r\n      s.id3 = {};\r\n    };\r\n    resetProperties();\r\n    this._onTimer = function(bForce) {\r\n      var duration, isNew = false, time, x = {};\r\n      if (s._hasTimer || bForce) {\r\n        if (s._a && (bForce || ((s.playState > 0 || s.readyState === 1) && !s.paused))) {\r\n          duration = s._get_html5_duration();\r\n          if (duration !== lastHTML5State.duration) {\r\n            lastHTML5State.duration = duration;\r\n            s.duration = duration;\r\n            isNew = true;\r\n          }\r\n          s.durationEstimate = s.duration;\r\n          time = (s._a.currentTime * msecScale || 0);\r\n          if (time !== lastHTML5State.time) {\r\n            lastHTML5State.time = time;\r\n            isNew = true;\r\n          }\r\n          if (isNew || bForce) {\r\n            s._whileplaying(time, x, x, x, x);\r\n          }\r\n        }\r\n      }\r\n      return isNew;\r\n    };\r\n    this._get_html5_duration = function() {\r\n      var instanceOptions = s._iO,\r\n          d = (s._a && s._a.duration ? s._a.duration * msecScale : (instanceOptions && instanceOptions.duration ? instanceOptions.duration : null)),\r\n          result = (d && !isNaN(d) && d !== Infinity ? d : null);\r\n      return result;\r\n    };\r\n    this._apply_loop = function(a, nLoops) {\r\n      a.loop = (nLoops > 1 ? 'loop' : '');\r\n    };\r\n    this._setup_html5 = function(options) {\r\n      var instanceOptions = mixin(s._iO, options),\r\n          a = useGlobalHTML5Audio ? globalHTML5Audio : s._a,\r\n          dURL = decodeURI(instanceOptions.url),\r\n          sameURL;\r\n      if (useGlobalHTML5Audio) {\r\n        if (dURL === decodeURI(lastGlobalHTML5URL)) {\r\n          sameURL = true;\r\n        }\r\n      } else if (dURL === decodeURI(lastURL)) {\r\n        sameURL = true;\r\n      }\r\n      if (a) {\r\n        if (a._s) {\r\n          if (useGlobalHTML5Audio) {\r\n            if (a._s && a._s.playState && !sameURL) {\r\n              a._s.stop();\r\n            }\r\n          } else if (!useGlobalHTML5Audio && dURL === decodeURI(lastURL)) {\r\n            s._apply_loop(a, instanceOptions.loops);\r\n            return a;\r\n          }\r\n        }\r\n        if (!sameURL) {\r\n          if (lastURL) {\r\n            resetProperties(false);\r\n          }\r\n          a.src = instanceOptions.url;\r\n          s.url = instanceOptions.url;\r\n          lastURL = instanceOptions.url;\r\n          lastGlobalHTML5URL = instanceOptions.url;\r\n          a._called_load = false;\r\n        }\r\n      } else {\r\n        if (instanceOptions.autoLoad || instanceOptions.autoPlay) {\r\n          s._a = new Audio(instanceOptions.url);\r\n          s._a.load();\r\n        } else {\r\n          s._a = (isOpera && opera.version() < 10 ? new Audio(null) : new Audio());\r\n        }\r\n        a = s._a;\r\n        a._called_load = false;\r\n        if (useGlobalHTML5Audio) {\r\n          globalHTML5Audio = a;\r\n        }\r\n      }\r\n      s.isHTML5 = true;\r\n      s._a = a;\r\n      a._s = s;\r\n      add_html5_events();\r\n      s._apply_loop(a, instanceOptions.loops);\r\n      if (instanceOptions.autoLoad || instanceOptions.autoPlay) {\r\n        s.load();\r\n      } else {\r\n        a.autobuffer = false;\r\n        a.preload = 'auto';\r\n      }\r\n      return a;\r\n    };\r\n    add_html5_events = function() {\r\n      if (s._a._added_events) return false;\r\n      var f;\r\n      function add(oEvt, oFn, bCapture) {\r\n        return s._a ? s._a.addEventListener(oEvt, oFn, bCapture || false) : null;\r\n      }\r\n      s._a._added_events = true;\r\n      for (f in html5_events) {\r\n        if (html5_events.hasOwnProperty(f)) {\r\n          add(f, html5_events[f]);\r\n        }\r\n      }\r\n      return true;\r\n    };\r\n    remove_html5_events = function() {\r\n      var f;\r\n      function remove(oEvt, oFn, bCapture) {\r\n        return (s._a ? s._a.removeEventListener(oEvt, oFn, bCapture || false) : null);\r\n      }\r\n      s._a._added_events = false;\r\n      for (f in html5_events) {\r\n        if (html5_events.hasOwnProperty(f)) {\r\n          remove(f, html5_events[f]);\r\n        }\r\n      }\r\n    };\r\n    this._onload = function(nSuccess) {\r\n      var loadOK = !!nSuccess || (!s.isHTML5 && fV === 8 && s.duration);\r\n      s.loaded = loadOK;\r\n      s.readyState = (loadOK ? 3 : 2);\r\n      s._onbufferchange(0);\r\n      if (!loadOK && !s.isHTML5) {\r\n        s._onerror();\r\n      }\r\n      if (s._iO.onload) {\r\n        wrapCallback(s, function() {\r\n          s._iO.onload.apply(s, [loadOK]);\r\n        });\r\n      }\r\n      return true;\r\n    };\r\n    this._onerror = function(errorCode, description) {\r\n      if (s._iO.onerror) {\r\n        wrapCallback(s, function() {\r\n          s._iO.onerror.apply(s, [errorCode, description]);\r\n        });\r\n      }\r\n    };\r\n    this._onbufferchange = function(nIsBuffering) {\r\n      if (s.playState === 0) return false;\r\n      if ((nIsBuffering && s.isBuffering) || (!nIsBuffering && !s.isBuffering)) return false;\r\n      s.isBuffering = (nIsBuffering === 1);\r\n      if (s._iO.onbufferchange) {\r\n        s._iO.onbufferchange.apply(s, [nIsBuffering]);\r\n      }\r\n      return true;\r\n    };\r\n    this._onsuspend = function() {\r\n      if (s._iO.onsuspend) {\r\n        s._iO.onsuspend.apply(s);\r\n      }\r\n      return true;\r\n    };\r\n    this._onfailure = function(msg, level, code) {\r\n      s.failures++;\r\n      if (s._iO.onfailure && s.failures === 1) {\r\n        s._iO.onfailure(msg, level, code);\r\n      }\r\n    };\r\n    this._onwarning = function(msg, level, code) {\r\n      if (s._iO.onwarning) {\r\n        s._iO.onwarning(msg, level, code);\r\n      }\r\n    };\r\n    this._onfinish = function() {\r\n      var io_onfinish = s._iO.onfinish;\r\n      s._onbufferchange(0);\r\n      s._resetOnPosition(0);\r\n      if (s.instanceCount) {\r\n        s.instanceCount--;\r\n        if (!s.instanceCount) {\r\n          detachOnPosition();\r\n          s.playState = 0;\r\n          s.paused = false;\r\n          s.instanceCount = 0;\r\n          s.instanceOptions = {};\r\n          s._iO = {};\r\n          stop_html5_timer();\r\n          if (s.isHTML5) {\r\n            s.position = 0;\r\n          }\r\n        }\r\n        if (!s.instanceCount || s._iO.multiShotEvents) {\r\n          if (io_onfinish) {\r\n            wrapCallback(s, function() {\r\n              io_onfinish.apply(s);\r\n            });\r\n          }\r\n        }\r\n      }\r\n    };\r\n    this._whileloading = function(nBytesLoaded, nBytesTotal, nDuration, nBufferLength) {\r\n      var instanceOptions = s._iO;\r\n      s.bytesLoaded = nBytesLoaded;\r\n      s.bytesTotal = nBytesTotal;\r\n      s.duration = Math.floor(nDuration);\r\n      s.bufferLength = nBufferLength;\r\n      if (!s.isHTML5 && !instanceOptions.isMovieStar) {\r\n        if (instanceOptions.duration) {\r\n          s.durationEstimate = (s.duration > instanceOptions.duration) ? s.duration : instanceOptions.duration;\r\n        } else {\r\n          s.durationEstimate = parseInt((s.bytesTotal / s.bytesLoaded) * s.duration, 10);\r\n        }\r\n      } else {\r\n        s.durationEstimate = s.duration;\r\n      }\r\n      if (!s.isHTML5) {\r\n        s.buffered = [{\r\n          start: 0,\r\n          end: s.duration\r\n        }];\r\n      }\r\n      if ((s.readyState !== 3 || s.isHTML5) && instanceOptions.whileloading) {\r\n        instanceOptions.whileloading.apply(s);\r\n      }\r\n    };\r\n    this._whileplaying = function(nPosition, oPeakData, oWaveformDataLeft, oWaveformDataRight, oEQData) {\r\n      var instanceOptions = s._iO,\r\n          eqLeft;\r\n      if (isNaN(nPosition) || nPosition === null) return false;\r\n      s.position = Math.max(0, nPosition);\r\n      s._processOnPosition();\r\n      if (!s.isHTML5 && fV > 8) {\r\n        if (instanceOptions.usePeakData && oPeakData !== _undefined && oPeakData) {\r\n          s.peakData = {\r\n            left: oPeakData.leftPeak,\r\n            right: oPeakData.rightPeak\r\n          };\r\n        }\r\n        if (instanceOptions.useWaveformData && oWaveformDataLeft !== _undefined && oWaveformDataLeft) {\r\n          s.waveformData = {\r\n            left: oWaveformDataLeft.split(','),\r\n            right: oWaveformDataRight.split(',')\r\n          };\r\n        }\r\n        if (instanceOptions.useEQData) {\r\n          if (oEQData !== _undefined && oEQData && oEQData.leftEQ) {\r\n            eqLeft = oEQData.leftEQ.split(',');\r\n            s.eqData = eqLeft;\r\n            s.eqData.left = eqLeft;\r\n            if (oEQData.rightEQ !== _undefined && oEQData.rightEQ) {\r\n              s.eqData.right = oEQData.rightEQ.split(',');\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (s.playState === 1) {\r\n        if (!s.isHTML5 && fV === 8 && !s.position && s.isBuffering) {\r\n          s._onbufferchange(0);\r\n        }\r\n        if (instanceOptions.whileplaying) {\r\n          instanceOptions.whileplaying.apply(s);\r\n        }\r\n      }\r\n      return true;\r\n    };\r\n    this._oncaptiondata = function(oData) {\r\n      s.captiondata = oData;\r\n      if (s._iO.oncaptiondata) {\r\n        s._iO.oncaptiondata.apply(s, [oData]);\r\n      }\r\n    };\r\n    this._onmetadata = function(oMDProps, oMDData) {\r\n      var oData = {}, i, j;\r\n      for (i = 0, j = oMDProps.length; i < j; i++) {\r\n        oData[oMDProps[i]] = oMDData[i];\r\n      }\r\n      s.metadata = oData;\r\n      if (s._iO.onmetadata) {\r\n        s._iO.onmetadata.call(s, s.metadata);\r\n      }\r\n    };\r\n    this._onid3 = function(oID3Props, oID3Data) {\r\n      var oData = [], i, j;\r\n      for (i = 0, j = oID3Props.length; i < j; i++) {\r\n        oData[oID3Props[i]] = oID3Data[i];\r\n      }\r\n      s.id3 = mixin(s.id3, oData);\r\n      if (s._iO.onid3) {\r\n        s._iO.onid3.apply(s);\r\n      }\r\n    };\r\n    this._onconnect = function(bSuccess) {\r\n      bSuccess = (bSuccess === 1);\r\n      s.connected = bSuccess;\r\n      if (bSuccess) {\r\n        s.failures = 0;\r\n        if (idCheck(s.id)) {\r\n          if (s.getAutoPlay()) {\r\n            s.play(_undefined, s.getAutoPlay());\r\n          } else if (s._iO.autoLoad) {\r\n            s.load();\r\n          }\r\n        }\r\n        if (s._iO.onconnect) {\r\n          s._iO.onconnect.apply(s, [bSuccess]);\r\n        }\r\n      }\r\n    };\r\n    this._ondataerror = function(sError) {\r\n      if (s.playState > 0) {\r\n        if (s._iO.ondataerror) {\r\n          s._iO.ondataerror.apply(s);\r\n        }\r\n      }\r\n    };\r\n  };\r\n  getDocument = function() {\r\n    return (doc.body || doc.getElementsByTagName('div')[0]);\r\n  };\r\n  id = function(sID) {\r\n    return doc.getElementById(sID);\r\n  };\r\n  mixin = function(oMain, oAdd) {\r\n    var o1 = (oMain || {}), o2, o;\r\n    o2 = (oAdd === _undefined ? sm2.defaultOptions : oAdd);\r\n    for (o in o2) {\r\n      if (o2.hasOwnProperty(o) && o1[o] === _undefined) {\r\n        if (typeof o2[o] !== 'object' || o2[o] === null) {\r\n          o1[o] = o2[o];\r\n        } else {\r\n          o1[o] = mixin(o1[o], o2[o]);\r\n        }\r\n      }\r\n    }\r\n    return o1;\r\n  };\r\n  wrapCallback = function(oSound, callback) {\r\n    if (!oSound.isHTML5 && fV === 8) {\r\n      window.setTimeout(callback, 0);\r\n    } else {\r\n      callback();\r\n    }\r\n  };\r\n  extraOptions = {\r\n    onready: 1,\r\n    ontimeout: 1,\r\n    defaultOptions: 1,\r\n    flash9Options: 1,\r\n    movieStarOptions: 1\r\n  };\r\n  assign = function(o, oParent) {\r\n    var i,\r\n        result = true,\r\n        hasParent = (oParent !== _undefined),\r\n        setupOptions = sm2.setupOptions,\r\n        bonusOptions = extraOptions;\r\n    for (i in o) {\r\n      if (o.hasOwnProperty(i)) {\r\n        if (typeof o[i] !== 'object' || o[i] === null || o[i] instanceof Array || o[i] instanceof RegExp) {\r\n          if (hasParent && bonusOptions[oParent] !== _undefined) {\r\n            sm2[oParent][i] = o[i];\r\n          } else if (setupOptions[i] !== _undefined) {\r\n            sm2.setupOptions[i] = o[i];\r\n            sm2[i] = o[i];\r\n          } else if (bonusOptions[i] === _undefined) {\r\n            result = false;\r\n          } else if (sm2[i] instanceof Function) {\r\n            sm2[i].apply(sm2, (o[i] instanceof Array ? o[i] : [o[i]]));\r\n          } else {\r\n            sm2[i] = o[i];\r\n          }\r\n        } else if (bonusOptions[i] === _undefined) {\r\n          result = false;\r\n        } else {\r\n          return assign(o[i], i);\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n  function preferFlashCheck(kind) {\r\n    return (sm2.preferFlash && hasFlash && !sm2.ignoreFlash && (sm2.flash[kind] !== _undefined && sm2.flash[kind]));\r\n  }\r\n  event = (function() {\r\n    var old = (window.attachEvent),\r\n    evt = {\r\n      add: (old ? 'attachEvent' : 'addEventListener'),\r\n      remove: (old ? 'detachEvent' : 'removeEventListener')\r\n    };\r\n    function getArgs(oArgs) {\r\n      var args = slice.call(oArgs),\r\n          len = args.length;\r\n      if (old) {\r\n        args[1] = 'on' + args[1];\r\n        if (len > 3) {\r\n          args.pop();\r\n        }\r\n      } else if (len === 3) {\r\n        args.push(false);\r\n      }\r\n      return args;\r\n    }\r\n    function apply(args, sType) {\r\n      var element = args.shift(),\r\n          method = [evt[sType]];\r\n      if (old) {\r\n        element[method](args[0], args[1]);\r\n      } else {\r\n        element[method].apply(element, args);\r\n      }\r\n    }\r\n    function add() {\r\n      apply(getArgs(arguments), 'add');\r\n    }\r\n    function remove() {\r\n      apply(getArgs(arguments), 'remove');\r\n    }\r\n    return {\r\n      add: add,\r\n      remove: remove\r\n    };\r\n  }());\r\n  function html5_event(oFn) {\r\n    return function(e) {\r\n      var s = this._s,\r\n          result;\r\n      if (!s || !s._a) {\r\n        result = null;\r\n      } else {\r\n        result = oFn.call(this, e);\r\n      }\r\n      return result;\r\n    };\r\n  }\r\n  html5_events = {\r\n    abort: html5_event(function() {\r\n    }),\r\n    canplay: html5_event(function() {\r\n      var s = this._s,\r\n          position1K;\r\n      if (s._html5_canplay) {\r\n        return;\r\n      }\r\n      s._html5_canplay = true;\r\n      s._onbufferchange(0);\r\n      position1K = (s._iO.position !== _undefined && !isNaN(s._iO.position) ? s._iO.position / msecScale : null);\r\n      if (this.currentTime !== position1K) {\r\n        try {\r\n          this.currentTime = position1K;\r\n        } catch(ee) {\r\n        }\r\n      }\r\n      if (s._iO._oncanplay) {\r\n        s._iO._oncanplay();\r\n      }\r\n    }),\r\n    canplaythrough: html5_event(function() {\r\n      var s = this._s;\r\n      if (!s.loaded) {\r\n        s._onbufferchange(0);\r\n        s._whileloading(s.bytesLoaded, s.bytesTotal, s._get_html5_duration());\r\n        s._onload(true);\r\n      }\r\n    }),\r\n    durationchange: html5_event(function() {\r\n      var s = this._s,\r\n          duration;\r\n      duration = s._get_html5_duration();\r\n      if (!isNaN(duration) && duration !== s.duration) {\r\n        s.durationEstimate = s.duration = duration;\r\n      }\r\n    }),\r\n    ended: html5_event(function() {\r\n      var s = this._s;\r\n      s._onfinish();\r\n    }),\r\n    error: html5_event(function() {\r\n      var description = (html5ErrorCodes[this.error.code] || null);\r\n      this._s._onload(false);\r\n      this._s._onerror(this.error.code, description);\r\n    }),\r\n    loadeddata: html5_event(function() {\r\n      var s = this._s;\r\n      if (!s._loaded && !isSafari) {\r\n        s.duration = s._get_html5_duration();\r\n      }\r\n    }),\r\n    loadedmetadata: html5_event(function() {\r\n    }),\r\n    loadstart: html5_event(function() {\r\n      this._s._onbufferchange(1);\r\n    }),\r\n    play: html5_event(function() {\r\n      this._s._onbufferchange(0);\r\n    }),\r\n    playing: html5_event(function() {\r\n      this._s._onbufferchange(0);\r\n    }),\r\n    progress: html5_event(function(e) {\r\n      var s = this._s,\r\n          i, j, buffered = 0,\r\n          isProgress = (e.type === 'progress'),\r\n          ranges = e.target.buffered,\r\n          loaded = (e.loaded || 0),\r\n          total = (e.total || 1);\r\n      s.buffered = [];\r\n      if (ranges && ranges.length) {\r\n        for (i = 0, j = ranges.length; i < j; i++) {\r\n          s.buffered.push({\r\n            start: ranges.start(i) * msecScale,\r\n            end: ranges.end(i) * msecScale\r\n          });\r\n        }\r\n        buffered = (ranges.end(0) - ranges.start(0)) * msecScale;\r\n        loaded = Math.min(1, buffered / (e.target.duration * msecScale));\r\n      }\r\n      if (!isNaN(loaded)) {\r\n        s._whileloading(loaded, total, s._get_html5_duration());\r\n        if (loaded && total && loaded === total) {\r\n          html5_events.canplaythrough.call(this, e);\r\n        }\r\n      }\r\n    }),\r\n    ratechange: html5_event(function() {\r\n    }),\r\n    suspend: html5_event(function(e) {\r\n      var s = this._s;\r\n      html5_events.progress.call(this, e);\r\n      s._onsuspend();\r\n    }),\r\n    stalled: html5_event(function() {\r\n    }),\r\n    timeupdate: html5_event(function() {\r\n      this._s._onTimer();\r\n    }),\r\n    waiting: html5_event(function() {\r\n      var s = this._s;\r\n      s._onbufferchange(1);\r\n    })\r\n  };\r\n  html5OK = function(iO) {\r\n    var result;\r\n    if (!iO || (!iO.type && !iO.url && !iO.serverURL)) {\r\n      result = false;\r\n    } else if (iO.serverURL || (iO.type && preferFlashCheck(iO.type))) {\r\n      result = false;\r\n    } else {\r\n      result = ((iO.type ? html5CanPlay({ type: iO.type }) : html5CanPlay({ url: iO.url }) || sm2.html5Only || iO.url.match(/data:/i)));\r\n    }\r\n    return result;\r\n  };\r\n  html5Unload = function(oAudio) {\r\n    var url;\r\n    if (oAudio) {\r\n      url = (isSafari ? emptyURL : (sm2.html5.canPlayType('audio/wav') ? emptyWAV : emptyURL));\r\n      oAudio.src = url;\r\n      if (oAudio._called_unload !== _undefined) {\r\n        oAudio._called_load = false;\r\n      }\r\n    }\r\n    if (useGlobalHTML5Audio) {\r\n      lastGlobalHTML5URL = null;\r\n    }\r\n    return url;\r\n  };\r\n  html5CanPlay = function(o) {\r\n    if (!sm2.useHTML5Audio || !sm2.hasHTML5) return false;\r\n    var url = (o.url || null),\r\n        mime = (o.type || null),\r\n        aF = sm2.audioFormats,\r\n        result,\r\n        offset,\r\n        fileExt,\r\n        item;\r\n    if (mime && sm2.html5[mime] !== _undefined) return (sm2.html5[mime] && !preferFlashCheck(mime));\r\n    if (!html5Ext) {\r\n      html5Ext = [];\r\n      for (item in aF) {\r\n        if (aF.hasOwnProperty(item)) {\r\n          html5Ext.push(item);\r\n          if (aF[item].related) {\r\n            html5Ext = html5Ext.concat(aF[item].related);\r\n          }\r\n        }\r\n      }\r\n      html5Ext = new RegExp('\\\\.(' + html5Ext.join('|') + ')(\\\\?.*)?$', 'i');\r\n    }\r\n    fileExt = (url ? url.toLowerCase().match(html5Ext) : null);\r\n    if (!fileExt || !fileExt.length) {\r\n      if (!mime) {\r\n        result = false;\r\n      } else {\r\n        offset = mime.indexOf(';');\r\n        fileExt = (offset !== -1 ? mime.substr(0, offset) : mime).substr(6);\r\n      }\r\n    } else {\r\n      fileExt = fileExt[1];\r\n    }\r\n    if (fileExt && sm2.html5[fileExt] !== _undefined) {\r\n      result = (sm2.html5[fileExt] && !preferFlashCheck(fileExt));\r\n    } else {\r\n      mime = 'audio/' + fileExt;\r\n      result = sm2.html5.canPlayType({ type: mime });\r\n      sm2.html5[fileExt] = result;\r\n      result = (result && sm2.html5[mime] && !preferFlashCheck(mime));\r\n    }\r\n    return result;\r\n  };\r\n  testHTML5 = function() {\r\n    if (!sm2.useHTML5Audio || !sm2.hasHTML5) {\r\n      sm2.html5.usingFlash = true;\r\n      needsFlash = true;\r\n      return false;\r\n    }\r\n    var a = (Audio !== _undefined ? (isOpera && opera.version() < 10 ? new Audio(null) : new Audio()) : null),\r\n        item, lookup, support = {}, aF, i;\r\n    function cp(m) {\r\n      var canPlay, j,\r\n          result = false,\r\n          isOK = false;\r\n      if (!a || typeof a.canPlayType !== 'function') return result;\r\n      if (m instanceof Array) {\r\n        for (i = 0, j = m.length; i < j; i++) {\r\n          if (sm2.html5[m[i]] || a.canPlayType(m[i]).match(sm2.html5Test)) {\r\n            isOK = true;\r\n            sm2.html5[m[i]] = true;\r\n            sm2.flash[m[i]] = !!(m[i].match(flashMIME));\r\n          }\r\n        }\r\n        result = isOK;\r\n      } else {\r\n        canPlay = (a && typeof a.canPlayType === 'function' ? a.canPlayType(m) : false);\r\n        result = !!(canPlay && (canPlay.match(sm2.html5Test)));\r\n      }\r\n      return result;\r\n    }\r\n    aF = sm2.audioFormats;\r\n    for (item in aF) {\r\n      if (aF.hasOwnProperty(item)) {\r\n        lookup = 'audio/' + item;\r\n        support[item] = cp(aF[item].type);\r\n        support[lookup] = support[item];\r\n        if (item.match(flashMIME)) {\r\n          sm2.flash[item] = true;\r\n          sm2.flash[lookup] = true;\r\n        } else {\r\n          sm2.flash[item] = false;\r\n          sm2.flash[lookup] = false;\r\n        }\r\n        if (aF[item] && aF[item].related) {\r\n          for (i = aF[item].related.length - 1; i >= 0; i--) {\r\n            support['audio/' + aF[item].related[i]] = support[item];\r\n            sm2.html5[aF[item].related[i]] = support[item];\r\n            sm2.flash[aF[item].related[i]] = support[item];\r\n          }\r\n        }\r\n      }\r\n    }\r\n    support.canPlayType = (a ? cp : null);\r\n    sm2.html5 = mixin(sm2.html5, support);\r\n    sm2.html5.usingFlash = featureCheck();\r\n    needsFlash = sm2.html5.usingFlash;\r\n    return true;\r\n  };\r\n  strings = {\r\n  };\r\n  str = function() {\r\n  };\r\n  loopFix = function(sOpt) {\r\n    if (fV === 8 && sOpt.loops > 1 && sOpt.stream) {\r\n      sOpt.stream = false;\r\n    }\r\n    return sOpt;\r\n  };\r\n  policyFix = function(sOpt, sPre) {\r\n    if (sOpt && !sOpt.usePolicyFile && (sOpt.onid3 || sOpt.usePeakData || sOpt.useWaveformData || sOpt.useEQData)) {\r\n      sOpt.usePolicyFile = true;\r\n    }\r\n    return sOpt;\r\n  };\r\n  doNothing = function() {\r\n    return false;\r\n  };\r\n  disableObject = function(o) {\r\n    var oProp;\r\n    for (oProp in o) {\r\n      if (o.hasOwnProperty(oProp) && typeof o[oProp] === 'function') {\r\n        o[oProp] = doNothing;\r\n      }\r\n    }\r\n    oProp = null;\r\n  };\r\n  failSafely = function(bNoDisable) {\r\n    if (bNoDisable === _undefined) {\r\n      bNoDisable = false;\r\n    }\r\n    if (disabled || bNoDisable) {\r\n      sm2.disable(bNoDisable);\r\n    }\r\n  };\r\n  normalizeMovieURL = function(movieURL) {\r\n    var urlParams = null, url;\r\n    if (movieURL) {\r\n      if (movieURL.match(/\\.swf(\\?.*)?$/i)) {\r\n        urlParams = movieURL.substr(movieURL.toLowerCase().lastIndexOf('.swf?') + 4);\r\n        if (urlParams) return movieURL;\r\n      } else if (movieURL.lastIndexOf('/') !== movieURL.length - 1) {\r\n        movieURL += '/';\r\n      }\r\n    }\r\n    url = (movieURL && movieURL.lastIndexOf('/') !== -1 ? movieURL.substr(0, movieURL.lastIndexOf('/') + 1) : './') + sm2.movieURL;\r\n    if (sm2.noSWFCache) {\r\n      url += ('?ts=' + new Date().getTime());\r\n    }\r\n    return url;\r\n  };\r\n  setVersionInfo = function() {\r\n    fV = parseInt(sm2.flashVersion, 10);\r\n    if (fV !== 8 && fV !== 9) {\r\n      sm2.flashVersion = fV = defaultFlashVersion;\r\n    }\r\n    var isDebug = (sm2.debugMode || sm2.debugFlash ? '_debug.swf' : '.swf');\r\n    if (sm2.useHTML5Audio && !sm2.html5Only && sm2.audioFormats.mp4.required && fV < 9) {\r\n      sm2.flashVersion = fV = 9;\r\n    }\r\n    sm2.version = sm2.versionNumber + (sm2.html5Only ? ' (HTML5-only mode)' : (fV === 9 ? ' (AS3/Flash 9)' : ' (AS2/Flash 8)'));\r\n    if (fV > 8) {\r\n      sm2.defaultOptions = mixin(sm2.defaultOptions, sm2.flash9Options);\r\n      sm2.features.buffering = true;\r\n      sm2.defaultOptions = mixin(sm2.defaultOptions, sm2.movieStarOptions);\r\n      sm2.filePatterns.flash9 = new RegExp('\\\\.(mp3|' + netStreamTypes.join('|') + ')(\\\\?.*)?$', 'i');\r\n      sm2.features.movieStar = true;\r\n    } else {\r\n      sm2.features.movieStar = false;\r\n    }\r\n    sm2.filePattern = sm2.filePatterns[(fV !== 8 ? 'flash9' : 'flash8')];\r\n    sm2.movieURL = (fV === 8 ? 'soundmanager2.swf' : 'soundmanager2_flash9.swf').replace('.swf', isDebug);\r\n    sm2.features.peakData = sm2.features.waveformData = sm2.features.eqData = (fV > 8);\r\n  };\r\n  setPolling = function(bPolling, bHighPerformance) {\r\n    if (!flash) {\r\n      return;\r\n    }\r\n    flash._setPolling(bPolling, bHighPerformance);\r\n  };\r\n  initDebug = function() {\r\n  };\r\n  idCheck = this.getSoundById;\r\n  getSWFCSS = function() {\r\n    var css = [];\r\n    if (sm2.debugMode) {\r\n      css.push(swfCSS.sm2Debug);\r\n    }\r\n    if (sm2.debugFlash) {\r\n      css.push(swfCSS.flashDebug);\r\n    }\r\n    if (sm2.useHighPerformance) {\r\n      css.push(swfCSS.highPerf);\r\n    }\r\n    return css.join(' ');\r\n  };\r\n  flashBlockHandler = function() {\r\n    var name = str('fbHandler'),\r\n        p = sm2.getMoviePercent(),\r\n        css = swfCSS,\r\n        error = {\r\n          type: 'FLASHBLOCK'\r\n        };\r\n    if (sm2.html5Only) {\r\n      return;\r\n    }\r\n    if (!sm2.ok()) {\r\n      if (needsFlash) {\r\n        sm2.oMC.className = getSWFCSS() + ' ' + css.swfDefault + ' ' + (p === null ? css.swfTimedout : css.swfError);\r\n      }\r\n      sm2.didFlashBlock = true;\r\n      processOnEvents({\r\n        type: 'ontimeout',\r\n        ignoreInit: true,\r\n        error: error\r\n      });\r\n      catchError(error);\r\n    } else {\r\n      if (sm2.oMC) {\r\n        sm2.oMC.className = [getSWFCSS(), css.swfDefault, css.swfLoaded + (sm2.didFlashBlock ? ' ' + css.swfUnblocked : '')].join(' ');\r\n      }\r\n    }\r\n  };\r\n  addOnEvent = function(sType, oMethod, oScope) {\r\n    if (on_queue[sType] === _undefined) {\r\n      on_queue[sType] = [];\r\n    }\r\n    on_queue[sType].push({\r\n      method: oMethod,\r\n      scope: (oScope || null),\r\n      fired: false\r\n    });\r\n  };\r\n  processOnEvents = function(oOptions) {\r\n    if (!oOptions) {\r\n      oOptions = {\r\n        type: (sm2.ok() ? 'onready' : 'ontimeout')\r\n      };\r\n    }\r\n    if (!didInit && oOptions && !oOptions.ignoreInit) return false;\r\n    if (oOptions.type === 'ontimeout' && (sm2.ok() || (disabled && !oOptions.ignoreInit))) return false;\r\n    var status = {\r\n          success: (oOptions && oOptions.ignoreInit ? sm2.ok() : !disabled)\r\n        },\r\n        srcQueue = (oOptions && oOptions.type ? on_queue[oOptions.type] || [] : []),\r\n        queue = [], i, j,\r\n        args = [status],\r\n        canRetry = (needsFlash && !sm2.ok());\r\n    if (oOptions.error) {\r\n      args[0].error = oOptions.error;\r\n    }\r\n    for (i = 0, j = srcQueue.length; i < j; i++) {\r\n      if (srcQueue[i].fired !== true) {\r\n        queue.push(srcQueue[i]);\r\n      }\r\n    }\r\n    if (queue.length) {\r\n      for (i = 0, j = queue.length; i < j; i++) {\r\n        if (queue[i].scope) {\r\n          queue[i].method.apply(queue[i].scope, args);\r\n        } else {\r\n          queue[i].method.apply(this, args);\r\n        }\r\n        if (!canRetry) {\r\n          queue[i].fired = true;\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n  initUserOnload = function() {\r\n    window.setTimeout(function() {\r\n      if (sm2.useFlashBlock) {\r\n        flashBlockHandler();\r\n      }\r\n      processOnEvents();\r\n      if (typeof sm2.onload === 'function') {\r\n        sm2.onload.apply(window);\r\n      }\r\n      if (sm2.waitForWindowLoad) {\r\n        event.add(window, 'load', initUserOnload);\r\n      }\r\n    }, 1);\r\n  };\r\n  detectFlash = function() {\r\n    if (hasFlash !== _undefined) return hasFlash;\r\n    var hasPlugin = false, n = navigator, obj, type, types, AX = window.ActiveXObject;\r\n    var nP;\r\n    try {\r\n      nP = n.plugins;\r\n    } catch(e) {\r\n      nP = undefined;\r\n    }\r\n    if (nP && nP.length) {\r\n      type = 'application/x-shockwave-flash';\r\n      types = n.mimeTypes;\r\n      if (types && types[type] && types[type].enabledPlugin && types[type].enabledPlugin.description) {\r\n        hasPlugin = true;\r\n      }\r\n    } else if (AX !== _undefined && !ua.match(/MSAppHost/i)) {\r\n      try {\r\n        obj = new AX('ShockwaveFlash.ShockwaveFlash');\r\n      } catch(e) {\r\n        obj = null;\r\n      }\r\n      hasPlugin = (!!obj);\r\n      obj = null;\r\n    }\r\n    hasFlash = hasPlugin;\r\n    return hasPlugin;\r\n  };\r\n  featureCheck = function() {\r\n    var flashNeeded,\r\n        item,\r\n        formats = sm2.audioFormats,\r\n        isSpecial = (is_iDevice && !!(ua.match(/os (1|2|3_0|3_1)\\s/i)));\r\n    if (isSpecial) {\r\n      sm2.hasHTML5 = false;\r\n      sm2.html5Only = true;\r\n      if (sm2.oMC) {\r\n        sm2.oMC.style.display = 'none';\r\n      }\r\n    } else if (sm2.useHTML5Audio) {\r\n        if (!sm2.html5 || !sm2.html5.canPlayType) {\r\n          sm2.hasHTML5 = false;\r\n        }\r\n      }\r\n    if (sm2.useHTML5Audio && sm2.hasHTML5) {\r\n      canIgnoreFlash = true;\r\n      for (item in formats) {\r\n        if (formats.hasOwnProperty(item)) {\r\n          if (formats[item].required) {\r\n            if (!sm2.html5.canPlayType(formats[item].type)) {\r\n              canIgnoreFlash = false;\r\n              flashNeeded = true;\r\n            } else if (sm2.preferFlash && (sm2.flash[item] || sm2.flash[formats[item].type])) {\r\n              flashNeeded = true;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (sm2.ignoreFlash) {\r\n      flashNeeded = false;\r\n      canIgnoreFlash = true;\r\n    }\r\n    sm2.html5Only = (sm2.hasHTML5 && sm2.useHTML5Audio && !flashNeeded);\r\n    return (!sm2.html5Only);\r\n  };\r\n  parseURL = function(url) {\r\n    var i, j, urlResult = 0, result;\r\n    if (url instanceof Array) {\r\n      for (i = 0, j = url.length; i < j; i++) {\r\n        if (url[i] instanceof Object) {\r\n          if (sm2.canPlayMIME(url[i].type)) {\r\n            urlResult = i;\r\n            break;\r\n          }\r\n        } else if (sm2.canPlayURL(url[i])) {\r\n          urlResult = i;\r\n          break;\r\n        }\r\n      }\r\n      if (url[urlResult].url) {\r\n        url[urlResult] = url[urlResult].url;\r\n      }\r\n      result = url[urlResult];\r\n    } else {\r\n      result = url;\r\n    }\r\n    return result;\r\n  };\r\n  startTimer = function(oSound) {\r\n    if (!oSound._hasTimer) {\r\n      oSound._hasTimer = true;\r\n      if (!mobileHTML5 && sm2.html5PollingInterval) {\r\n        if (h5IntervalTimer === null && h5TimerCount === 0) {\r\n          h5IntervalTimer = setInterval(timerExecute, sm2.html5PollingInterval);\r\n        }\r\n        h5TimerCount++;\r\n      }\r\n    }\r\n  };\r\n  stopTimer = function(oSound) {\r\n    if (oSound._hasTimer) {\r\n      oSound._hasTimer = false;\r\n      if (!mobileHTML5 && sm2.html5PollingInterval) {\r\n        h5TimerCount--;\r\n      }\r\n    }\r\n  };\r\n  timerExecute = function() {\r\n    var i;\r\n    if (h5IntervalTimer !== null && !h5TimerCount) {\r\n      clearInterval(h5IntervalTimer);\r\n      h5IntervalTimer = null;\r\n      return;\r\n    }\r\n    for (i = sm2.soundIDs.length - 1; i >= 0; i--) {\r\n      if (sm2.sounds[sm2.soundIDs[i]].isHTML5 && sm2.sounds[sm2.soundIDs[i]]._hasTimer) {\r\n        sm2.sounds[sm2.soundIDs[i]]._onTimer();\r\n      }\r\n    }\r\n  };\r\n  catchError = function(options) {\r\n    options = (options !== _undefined ? options : {});\r\n    if (typeof sm2.onerror === 'function') {\r\n      sm2.onerror.apply(window, [{\r\n        type: (options.type !== _undefined ? options.type : null)\r\n      }]);\r\n    }\r\n    if (options.fatal !== _undefined && options.fatal) {\r\n      sm2.disable();\r\n    }\r\n  };\r\n  badSafariFix = function() {\r\n    if (!isBadSafari || !detectFlash()) {\r\n      return;\r\n    }\r\n    var aF = sm2.audioFormats, i, item;\r\n    for (item in aF) {\r\n      if (aF.hasOwnProperty(item)) {\r\n        if (item === 'mp3' || item === 'mp4') {\r\n          sm2.html5[item] = false;\r\n          if (aF[item] && aF[item].related) {\r\n            for (i = aF[item].related.length - 1; i >= 0; i--) {\r\n              sm2.html5[aF[item].related[i]] = false;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n  this._setSandboxType = function(sandboxType) {\r\n  };\r\n  this._externalInterfaceOK = function(swfVersion) {\r\n    if (sm2.swfLoaded) {\r\n      return;\r\n    }\r\n    sm2.swfLoaded = true;\r\n    tryInitOnFocus = false;\r\n    if (isBadSafari) {\r\n      badSafariFix();\r\n    }\r\n    setTimeout(init, isIE ? 100 : 1);\r\n  };\r\n  createMovie = function(movieID, movieURL) {\r\n    if (didAppend && appendSuccess) return false;\r\n    if (sm2.html5Only) {\r\n      setVersionInfo();\r\n      sm2.oMC = id(sm2.movieID);\r\n      init();\r\n      didAppend = true;\r\n      appendSuccess = true;\r\n      return false;\r\n    }\r\n    var remoteURL = (movieURL || sm2.url),\r\n    localURL = (sm2.altURL || remoteURL),\r\n    swfTitle = 'JS/Flash audio component (SoundManager 2)',\r\n    oTarget = getDocument(),\r\n    extraClass = getSWFCSS(),\r\n    isRTL = null,\r\n    html = doc.getElementsByTagName('html')[0],\r\n    oEmbed, oMovie, tmp, movieHTML, oEl, s, x, sClass;\r\n    isRTL = (html && html.dir && html.dir.match(/rtl/i));\r\n    movieID = (movieID === _undefined ? sm2.id : movieID);\r\n    function param(name, value) {\r\n      return '<param name=\"' + name + '\" value=\"' + value + '\" />';\r\n    }\r\n    setVersionInfo();\r\n    sm2.url = normalizeMovieURL(overHTTP ? remoteURL : localURL);\r\n    movieURL = sm2.url;\r\n    sm2.wmode = (!sm2.wmode && sm2.useHighPerformance ? 'transparent' : sm2.wmode);\r\n    if (sm2.wmode !== null && (ua.match(/msie 8/i) || (!isIE && !sm2.useHighPerformance)) && navigator.platform.match(/win32|win64/i)) {\r\n      messages.push(strings.spcWmode);\r\n      sm2.wmode = null;\r\n    }\r\n    oEmbed = {\r\n      name: movieID,\r\n      id: movieID,\r\n      src: movieURL,\r\n      quality: 'high',\r\n      allowScriptAccess: sm2.allowScriptAccess,\r\n      bgcolor: sm2.bgColor,\r\n      pluginspage: http + 'www.macromedia.com/go/getflashplayer',\r\n      title: swfTitle,\r\n      type: 'application/x-shockwave-flash',\r\n      wmode: sm2.wmode,\r\n      hasPriority: 'true'\r\n    };\r\n    if (sm2.debugFlash) {\r\n      oEmbed.FlashVars = 'debug=1';\r\n    }\r\n    if (!sm2.wmode) {\r\n      delete oEmbed.wmode;\r\n    }\r\n    if (isIE) {\r\n      oMovie = doc.createElement('div');\r\n      movieHTML = [\r\n        '<object id=\"' + movieID + '\" data=\"' + movieURL + '\" type=\"' + oEmbed.type + '\" title=\"' + oEmbed.title + '\" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0\">',\r\n        param('movie', movieURL),\r\n        param('AllowScriptAccess', sm2.allowScriptAccess),\r\n        param('quality', oEmbed.quality),\r\n        (sm2.wmode ? param('wmode', sm2.wmode) : ''),\r\n        param('bgcolor', sm2.bgColor),\r\n        param('hasPriority', 'true'),\r\n        (sm2.debugFlash ? param('FlashVars', oEmbed.FlashVars) : ''),\r\n        '</object>'\r\n      ].join('');\r\n    } else {\r\n      oMovie = doc.createElement('embed');\r\n      for (tmp in oEmbed) {\r\n        if (oEmbed.hasOwnProperty(tmp)) {\r\n          oMovie.setAttribute(tmp, oEmbed[tmp]);\r\n        }\r\n      }\r\n    }\r\n    initDebug();\r\n    extraClass = getSWFCSS();\r\n    oTarget = getDocument();\r\n    if (oTarget) {\r\n      sm2.oMC = (id(sm2.movieID) || doc.createElement('div'));\r\n      if (!sm2.oMC.id) {\r\n        sm2.oMC.id = sm2.movieID;\r\n        sm2.oMC.className = swfCSS.swfDefault + ' ' + extraClass;\r\n        s = null;\r\n        oEl = null;\r\n        if (!sm2.useFlashBlock) {\r\n          if (sm2.useHighPerformance) {\r\n            s = {\r\n              position: 'fixed',\r\n              width: '8px',\r\n              height: '8px',\r\n              bottom: '0px',\r\n              left: '0px',\r\n              overflow: 'hidden'\r\n            };\r\n          } else {\r\n            s = {\r\n              position: 'absolute',\r\n              width: '6px',\r\n              height: '6px',\r\n              top: '-9999px',\r\n              left: '-9999px'\r\n            };\r\n            if (isRTL) {\r\n              s.left = Math.abs(parseInt(s.left, 10)) + 'px';\r\n            }\r\n          }\r\n        }\r\n        if (isWebkit) {\r\n          sm2.oMC.style.zIndex = 10000;\r\n        }\r\n        if (!sm2.debugFlash) {\r\n          for (x in s) {\r\n            if (s.hasOwnProperty(x)) {\r\n              sm2.oMC.style[x] = s[x];\r\n            }\r\n          }\r\n        }\r\n        try {\r\n          if (!isIE) {\r\n            sm2.oMC.appendChild(oMovie);\r\n          }\r\n          oTarget.appendChild(sm2.oMC);\r\n          if (isIE) {\r\n            oEl = sm2.oMC.appendChild(doc.createElement('div'));\r\n            oEl.className = swfCSS.swfBox;\r\n            oEl.innerHTML = movieHTML;\r\n          }\r\n          appendSuccess = true;\r\n        } catch(e) {\r\n          throw new Error(str('domError') + ' \\n' + e.toString());\r\n        }\r\n      } else {\r\n        sClass = sm2.oMC.className;\r\n        sm2.oMC.className = (sClass ? sClass + ' ' : swfCSS.swfDefault) + (extraClass ? ' ' + extraClass : '');\r\n        sm2.oMC.appendChild(oMovie);\r\n        if (isIE) {\r\n          oEl = sm2.oMC.appendChild(doc.createElement('div'));\r\n          oEl.className = swfCSS.swfBox;\r\n          oEl.innerHTML = movieHTML;\r\n        }\r\n        appendSuccess = true;\r\n      }\r\n    }\r\n    didAppend = true;\r\n    return true;\r\n  };\r\n  initMovie = function() {\r\n    if (sm2.html5Only) {\r\n      createMovie();\r\n      return false;\r\n    }\r\n    if (flash) return false;\r\n    if (!sm2.url) {\r\n       return false;\r\n    }\r\n    flash = sm2.getMovie(sm2.id);\r\n    if (!flash) {\r\n      if (!oRemoved) {\r\n        createMovie(sm2.id, sm2.url);\r\n      } else {\r\n        if (!isIE) {\r\n          sm2.oMC.appendChild(oRemoved);\r\n        } else {\r\n          sm2.oMC.innerHTML = oRemovedHTML;\r\n        }\r\n        oRemoved = null;\r\n        didAppend = true;\r\n      }\r\n      flash = sm2.getMovie(sm2.id);\r\n    }\r\n    if (typeof sm2.oninitmovie === 'function') {\r\n      setTimeout(sm2.oninitmovie, 1);\r\n    }\r\n    return true;\r\n  };\r\n  delayWaitForEI = function() {\r\n    setTimeout(waitForEI, 1000);\r\n  };\r\n  rebootIntoHTML5 = function() {\r\n    window.setTimeout(function() {\r\n      sm2.setup({\r\n        preferFlash: false\r\n      }).reboot();\r\n      sm2.didFlashBlock = true;\r\n      sm2.beginDelayedInit();\r\n    }, 1);\r\n  };\r\n  waitForEI = function() {\r\n    var p,\r\n        loadIncomplete = false;\r\n    if (!sm2.url) {\r\n      return;\r\n    }\r\n    if (waitingForEI) {\r\n      return;\r\n    }\r\n    waitingForEI = true;\r\n    event.remove(window, 'load', delayWaitForEI);\r\n    if (hasFlash && tryInitOnFocus && !isFocused) {\r\n      return;\r\n    }\r\n    if (!didInit) {\r\n      p = sm2.getMoviePercent();\r\n      if (p > 0 && p < 100) {\r\n        loadIncomplete = true;\r\n      }\r\n    }\r\n    setTimeout(function() {\r\n      p = sm2.getMoviePercent();\r\n      if (loadIncomplete) {\r\n        waitingForEI = false;\r\n        window.setTimeout(delayWaitForEI, 1);\r\n        return;\r\n      }\r\n      if (!didInit && okToDisable) {\r\n        if (p === null) {\r\n          if (sm2.useFlashBlock || sm2.flashLoadTimeout === 0) {\r\n            if (sm2.useFlashBlock) {\r\n              flashBlockHandler();\r\n            }\r\n          } else if (!sm2.useFlashBlock && canIgnoreFlash) {\r\n            rebootIntoHTML5();\r\n          } else {\r\n            processOnEvents({\r\n              type: 'ontimeout',\r\n              ignoreInit: true,\r\n              error: {\r\n                type: 'INIT_FLASHBLOCK'\r\n              }\r\n            });\r\n          }\r\n        } else if (sm2.flashLoadTimeout === 0) ; else if (!sm2.useFlashBlock && canIgnoreFlash) {\r\n          rebootIntoHTML5();\r\n        } else {\r\n          failSafely(true);\r\n        }\r\n      }\r\n    }, sm2.flashLoadTimeout);\r\n  };\r\n  handleFocus = function() {\r\n    function cleanup() {\r\n      event.remove(window, 'focus', handleFocus);\r\n    }\r\n    if (isFocused || !tryInitOnFocus) {\r\n      cleanup();\r\n      return true;\r\n    }\r\n    okToDisable = true;\r\n    isFocused = true;\r\n    waitingForEI = false;\r\n    delayWaitForEI();\r\n    cleanup();\r\n    return true;\r\n  };\r\n  initComplete = function(bNoDisable) {\r\n    if (didInit) return false;\r\n    if (sm2.html5Only) {\r\n      didInit = true;\r\n      initUserOnload();\r\n      return true;\r\n    }\r\n    var wasTimeout = (sm2.useFlashBlock && sm2.flashLoadTimeout && !sm2.getMoviePercent()),\r\n        result = true,\r\n        error;\r\n    if (!wasTimeout) {\r\n      didInit = true;\r\n    }\r\n    error = {\r\n      type: (!hasFlash && needsFlash ? 'NO_FLASH' : 'INIT_TIMEOUT')\r\n    };\r\n    if (disabled || bNoDisable) {\r\n      if (sm2.useFlashBlock && sm2.oMC) {\r\n        sm2.oMC.className = getSWFCSS() + ' ' + (sm2.getMoviePercent() === null ? swfCSS.swfTimedout : swfCSS.swfError);\r\n      }\r\n      processOnEvents({\r\n        type: 'ontimeout',\r\n        error: error,\r\n        ignoreInit: true\r\n      });\r\n      catchError(error);\r\n      result = false;\r\n    }\r\n    if (!disabled) {\r\n      if (sm2.waitForWindowLoad && !windowLoaded) {\r\n        event.add(window, 'load', initUserOnload);\r\n      } else {\r\n        initUserOnload();\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n  setProperties = function() {\r\n    var i,\r\n        o = sm2.setupOptions;\r\n    for (i in o) {\r\n      if (o.hasOwnProperty(i)) {\r\n        if (sm2[i] === _undefined) {\r\n          sm2[i] = o[i];\r\n        } else if (sm2[i] !== o[i]) {\r\n          sm2.setupOptions[i] = sm2[i];\r\n        }\r\n      }\r\n    }\r\n  };\r\n  init = function() {\r\n    if (didInit) {\r\n      return false;\r\n    }\r\n    function cleanup() {\r\n      event.remove(window, 'load', sm2.beginDelayedInit);\r\n    }\r\n    if (sm2.html5Only) {\r\n      if (!didInit) {\r\n        cleanup();\r\n        sm2.enabled = true;\r\n        initComplete();\r\n      }\r\n      return true;\r\n    }\r\n    initMovie();\r\n    try {\r\n      flash._externalInterfaceTest(false);\r\n      setPolling(true, (sm2.flashPollingInterval || (sm2.useHighPerformance ? 10 : 50)));\r\n      if (!sm2.debugMode) {\r\n        flash._disableDebug();\r\n      }\r\n      sm2.enabled = true;\r\n      if (!sm2.html5Only) {\r\n        event.add(window, 'unload', doNothing);\r\n      }\r\n    } catch(e) {\r\n      catchError({\r\n        type: 'JS_TO_FLASH_EXCEPTION',\r\n        fatal: true\r\n      });\r\n      failSafely(true);\r\n      initComplete();\r\n      return false;\r\n    }\r\n    initComplete();\r\n    cleanup();\r\n    return true;\r\n  };\r\n  domContentLoaded = function() {\r\n    if (didDCLoaded) return false;\r\n    didDCLoaded = true;\r\n    setProperties();\r\n    initDebug();\r\n    if (!hasFlash && sm2.hasHTML5) {\r\n      sm2.setup({\r\n        useHTML5Audio: true,\r\n        preferFlash: false\r\n      });\r\n    }\r\n    testHTML5();\r\n    if (!hasFlash && needsFlash) {\r\n      messages.push(strings.needFlash);\r\n      sm2.setup({\r\n        flashLoadTimeout: 1\r\n      });\r\n    }\r\n    if (doc.removeEventListener) {\r\n      doc.removeEventListener('DOMContentLoaded', domContentLoaded, false);\r\n    }\r\n    initMovie();\r\n    return true;\r\n  };\r\n  domContentLoadedIE = function() {\r\n    if (doc.readyState === 'complete') {\r\n      domContentLoaded();\r\n      doc.detachEvent('onreadystatechange', domContentLoadedIE);\r\n    }\r\n    return true;\r\n  };\r\n  winOnLoad = function() {\r\n    windowLoaded = true;\r\n    domContentLoaded();\r\n    event.remove(window, 'load', winOnLoad);\r\n  };\r\n  detectFlash();\r\n  event.add(window, 'focus', handleFocus);\r\n  event.add(window, 'load', delayWaitForEI);\r\n  event.add(window, 'load', winOnLoad);\r\n  if (doc.addEventListener) {\r\n    doc.addEventListener('DOMContentLoaded', domContentLoaded, false);\r\n  } else if (doc.attachEvent) {\r\n    doc.attachEvent('onreadystatechange', domContentLoadedIE);\r\n  } else {\r\n    catchError({\r\n      type: 'NO_DOM2_EVENTS',\r\n      fatal: true\r\n    });\r\n  }\r\n}\r\n// SM2_DEFER details: http://www.schillmania.com/projects/soundmanager2/doc/getstarted/#lazy-loading\r\nif (window.SM2_DEFER === _undefined || !SM2_DEFER) {\r\n  soundManager = new SoundManager();\r\n}\r\nif ( module && 'object' === 'object') {\r\n  module.exports.SoundManager = SoundManager;\r\n  module.exports.soundManager = soundManager;\r\n}\r\n// standard browser case\r\n// constructor\r\nwindow.SoundManager = SoundManager;\r\n// public API, flash callbacks etc.\r\nwindow.soundManager = soundManager;\r\n}(window));\n});\nvar soundmanager2Nodebug_1 = soundmanager2Nodebug.SoundManager;\nvar soundmanager2Nodebug_2 = soundmanager2Nodebug.soundManager;\n\nvar lib = createCommonjsModule(function (module, exports) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n\n\nvar _react2 = _interopRequireDefault(React__default);\n\n\n\nvar _propTypes2 = _interopRequireDefault(PropTypes__default);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar pendingCalls = [];\nvar initialized = false;\n\nvar soundManager = void 0;\n// Allow server side rendering\nif (typeof window !== 'undefined') {\n  if (process.env.NODE_ENV !== 'production') {\n    var _require = soundmanager2;\n\n    soundManager = _require.soundManager;\n  } else {\n    var _require2 = soundmanager2Nodebug;\n\n    soundManager = _require2.soundManager;\n  }\n\n  soundManager.onready(function () {\n    pendingCalls.slice().forEach(function (cb) {\n      return cb();\n    });\n  });\n}\n\nfunction _createSound(options, cb) {\n  if (soundManager.ok()) {\n    cb(soundManager.createSound(options));\n    return function () {};\n  } else {\n    if (!initialized) {\n      initialized = true;\n      soundManager.beginDelayedInit();\n    }\n\n    var call = function call() {\n      cb(soundManager.createSound(options));\n    };\n\n    pendingCalls.push(call);\n\n    return function () {\n      pendingCalls.splice(pendingCalls.indexOf(call), 1);\n    };\n  }\n}\n\nfunction noop() {}\n\nvar playStatuses = {\n  PLAYING: 'PLAYING',\n  STOPPED: 'STOPPED',\n  PAUSED: 'PAUSED'\n};\n\nvar Sound = function (_React$Component) {\n  _inherits(Sound, _React$Component);\n\n  function Sound() {\n    _classCallCheck(this, Sound);\n\n    return _possibleConstructorReturn(this, (Sound.__proto__ || Object.getPrototypeOf(Sound)).apply(this, arguments));\n  }\n\n  _createClass(Sound, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.createSound(function (sound) {\n        return _this2.updateSound(sound);\n      });\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.removeSound();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _this3 = this;\n\n      if (this.props.url !== prevProps.url) {\n        this.createSound(function (sound) {\n          return _this3.updateSound(sound, prevProps);\n        });\n      } else {\n        this.updateSound(this.sound);\n      }\n    }\n  }, {\n    key: 'updateSound',\n    value: function updateSound(sound) {\n      var prevProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!sound) {\n        return;\n      }\n\n      if (this.props.playStatus === playStatuses.PLAYING) {\n        if (sound.playState === 0) {\n          sound.play();\n        }\n\n        if (sound.paused) {\n          sound.resume();\n        }\n      } else if (this.props.playStatus === playStatuses.STOPPED) {\n        if (sound.playState !== 0) {\n          sound.stop();\n        }\n      } else {\n        // this.props.playStatus === playStatuses.PAUSED\n        if (!sound.paused) {\n          sound.pause();\n        }\n      }\n\n      if (this.props.playFromPosition != null) {\n        if (this.props.playFromPosition !== prevProps.playFromPosition) {\n          sound.setPosition(this.props.playFromPosition);\n        }\n      }\n\n      if (this.props.position != null) {\n        if (sound.position !== this.props.position && Math.round(sound.position) !== Math.round(this.props.position)) {\n\n          sound.setPosition(this.props.position);\n        }\n      }\n\n      if (this.props.volume !== prevProps.volume) {\n        sound.setVolume(this.props.volume);\n      }\n\n      if (this.props.playbackRate !== prevProps.playbackRate) {\n        sound.setPlaybackRate(this.props.playbackRate);\n      }\n    }\n  }, {\n    key: 'createSound',\n    value: function createSound(callback) {\n      var _this4 = this;\n\n      this.removeSound();\n\n      var instance = this;\n\n      if (!this.props.url) {\n        return;\n      }\n\n      this.stopCreatingSound = _createSound({\n        url: this.props.url,\n        autoLoad: this.props.autoLoad,\n        volume: this.props.volume,\n        position: this.props.playFromPosition || this.props.position || 0,\n        playbackRate: this.props.playbackRate,\n        whileloading: function whileloading() {\n          instance.props.onLoading(this);\n        },\n        whileplaying: function whileplaying() {\n          instance.props.onPlaying(this);\n        },\n        onerror: function onerror(errorCode, description) {\n          instance.props.onError(errorCode, description, this);\n        },\n        onload: function onload() {\n          instance.props.onLoad(this);\n        },\n        onpause: function onpause() {\n          instance.props.onPause(this);\n        },\n        onresume: function onresume() {\n          instance.props.onResume(this);\n        },\n        onstop: function onstop() {\n          instance.props.onStop(this);\n        },\n        onfinish: function onfinish() {\n          if (instance.props.loop && instance.props.playStatus === playStatuses.PLAYING) {\n            instance.sound.play();\n          } else {\n            instance.props.onFinishedPlaying();\n          }\n        },\n        onbufferchange: function onbufferchange() {\n          instance.props.onBufferChange(this.isBuffering);\n        }\n      }, function (sound) {\n        _this4.sound = sound;\n        callback(sound);\n      });\n    }\n  }, {\n    key: 'removeSound',\n    value: function removeSound() {\n      if (this.stopCreatingSound) {\n        this.stopCreatingSound();\n        delete this.stopCreatingSound;\n      }\n\n      if (this.sound) {\n        try {\n          this.sound.destruct();\n        } catch (e) {} // eslint-disable-line\n\n        delete this.sound;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return Sound;\n}(_react2.default.Component);\n\nSound.status = playStatuses;\nSound.propTypes = {\n  url: _propTypes2.default.string.isRequired,\n  playStatus: _propTypes2.default.oneOf(Object.keys(playStatuses)).isRequired,\n  position: _propTypes2.default.number,\n  playFromPosition: _propTypes2.default.number,\n  volume: _propTypes2.default.number,\n  playbackRate: _propTypes2.default.number,\n  onError: _propTypes2.default.func,\n  onLoading: _propTypes2.default.func,\n  onLoad: _propTypes2.default.func,\n  onPlaying: _propTypes2.default.func,\n  onPause: _propTypes2.default.func,\n  onResume: _propTypes2.default.func,\n  onStop: _propTypes2.default.func,\n  onFinishedPlaying: _propTypes2.default.func,\n  onBufferChange: _propTypes2.default.func,\n  autoLoad: _propTypes2.default.bool,\n  loop: _propTypes2.default.bool\n};\nSound.defaultProps = {\n  volume: 100,\n  playbackRate: 1,\n  onError: noop,\n  onLoading: noop,\n  onPlaying: noop,\n  onLoad: noop,\n  onPause: noop,\n  onResume: noop,\n  onStop: noop,\n  onFinishedPlaying: noop,\n  onBufferChange: noop,\n  autoLoad: false,\n  loop: false\n};\nexports.default = Sound;\n});\n\nvar Sound = unwrapExports(lib);\n\nvar AppContext = createContext([]);\n\nvar Image = function Image(props) {\n  var _useContext = useContext(AppContext),\n      _useContext2 = _slicedToArray$1(_useContext, 2),\n      character = _useContext2[0],\n      setCharacter = _useContext2[1];\n\n  var chooseCharacter = function chooseCharacter() {\n    props.title && setCharacter(props.title);\n  };\n\n  return React__default.createElement(\"picture\", {\n    className: \"chapter_picture \".concat(props.option),\n    onClick: function onClick() {\n      return chooseCharacter();\n    }\n  }, React__default.createElement(\"source\", {\n    srcSet: \"./assets/\" + props.value + IMAGE_SUFFIX,\n    type: 'image/webp'\n  }), React__default.createElement(\"source\", {\n    srcSet: \"./assets/fallback/\" + props.value + IMAGE_SUFFIX_ALTERNATE,\n    type: 'image/png'\n  }), React__default.createElement(\"img\", {\n    draggable: \"false\",\n    src: \"./assets/fallback/\" + props.value + IMAGE_SUFFIX_ALTERNATE,\n    alt: props.title || props.value\n  }), props.title && React__default.createElement(\"div\", {\n    className: \"overlay\"\n  }, props.title));\n};\n\nvar items = ['abfahrt', 'abmarsch', 'kochen', 'lagerstruktur', 'morgen', 'schlafen', 'tanzen', 'waschen'];\nvar Memory = function Memory(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray$1(_useState, 2),\n      list = _useState2[0],\n      setList = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray$1(_useState3, 2),\n      visibleItems = _useState4[0],\n      setVisibleItems = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray$1(_useState5, 2),\n      finishedItems = _useState6[0],\n      setFinishedItems = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray$1(_useState7, 2),\n      winner = _useState8[0],\n      setWinner = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray$1(_useState9, 2),\n      winningSound = _useState10[0],\n      setWinningSound = _useState10[1];\n\n  var checkItems = function checkItems(firstIndex, secondIndex) {\n    if (firstIndex !== secondIndex && list[firstIndex].name === list[secondIndex].name) {\n      setFinishedItems([].concat(_toConsumableArray$1(finishedItems), [firstIndex, secondIndex]));\n    } else {\n      setTimeout(function () {\n        setVisibleItems([]);\n      }, 600);\n    }\n  };\n\n  useEffect(function () {\n    setList(items.concat(items).map(function (name, i) {\n      return {\n        name: name,\n        id: i\n      };\n    }).sort(function () {\n      return 0.5 - Math.random();\n    }));\n  }, []);\n  useEffect(function () {\n    if (finishedItems.length > 0 && finishedItems.length === list.length) {\n      setWinningSound(true);\n      setTimeout(function () {\n        return setWinner(true);\n      }, 2500);\n    }\n  }, [finishedItems, list]);\n  return React__default.createElement(\"div\", null, React__default.createElement(Grid, {\n    list: list,\n    visibleItems: visibleItems,\n    setVisibleItems: setVisibleItems,\n    finishedItems: finishedItems,\n    checkItems: checkItems\n  }), winningSound && React__default.createElement(Sound, {\n    url: \"./assets/sounds/game_won.mp3\",\n    playStatus: Sound.status.PLAYING\n  }), winner && React__default.createElement(Redirect, {\n    exact: true,\n    to: \"endkapitel\"\n  }));\n};\n\nvar Grid = function Grid(props) {\n  var list = props.list,\n      visibleItems = props.visibleItems,\n      setVisibleItems = props.setVisibleItems,\n      finishedItems = props.finishedItems,\n      checkItems = props.checkItems;\n  var useStyles = makeStyles$1(function () {\n    return {\n      card: {\n        \"&::after\": {\n          background: \"url(./assets/logo\".concat(IMAGE_SUFFIX, \")\")\n        }\n      }\n    };\n  });\n  var classes = useStyles();\n  return React__default.createElement(\"div\", {\n    className: \"memory\"\n  }, React__default.createElement(\"div\", {\n    className: \"cards\"\n  }, list.map(function (item, index) {\n    return React__default.createElement(Card, {\n      key: item.id,\n      className: \"card \".concat(classes.card, \" \").concat(visibleItems.includes(index) ? \"grid-card-show\" : \"\", \" \").concat(finishedItems.includes(index) ? \"grid-card-show grid-card-finished\" : \"\"),\n      onClick: function onClick() {\n        if (!finishedItems.includes(index)) {\n          switch (visibleItems.length) {\n            case 0:\n              setVisibleItems([index]);\n              break;\n\n            case 1:\n              if (visibleItems[0] !== index) {\n                setVisibleItems(visibleItems.concat(index));\n                checkItems(visibleItems[0], index);\n              }\n\n              break;\n\n            case 2:\n              setVisibleItems([index]);\n              break;\n\n            default:\n              setVisibleItems([]);\n          }\n        }\n      },\n      name: item.name\n    });\n  })));\n};\n\nGrid.defaultProps = {\n  list: []\n};\n\nvar Card = function Card(props) {\n  var name = props.name,\n      className = props.className,\n      onClick = props.onClick;\n  return React__default.createElement(\"div\", {\n    className: \"\".concat(className),\n    onClick: onClick\n  }, React__default.createElement(Image, {\n    value: \"memory_\".concat(name)\n  }));\n};\n\nvar dailyItems = [\"Waschen und Baden\", \"Frühstück\", \"Wanderungen machen\", \"Sprechstunde des Lagerarztes\", \"Lagerruhe - Post- und Zeitungsausgabe\", \"Tagung des Lagerparlaments\", \"Gemeinsame Veranstaltungen\", \"Zeltruhe\"];\nvar schedule = [\"6 Uhr\", \"8 Uhr\", \"8 ½ – 12 Uhr \", \"8 ½ – 9 ½\", \"12 ½ – 14 ½ \", \"18 – 19 Uhr\", \"19 ½ – 21 Uhr\", \"21 Uhr\"];\nvar Daily = function Daily(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray$1(_useState, 2),\n      result = _useState2[0],\n      setResult = _useState2[1];\n\n  var handleClick = function handleClick() {\n    setResult(true); //props.onCheckDaily();\n  };\n\n  var getItems = function getItems() {\n    if (result) return;\n    return React__default.createElement(\"div\", {\n      className: \"items\"\n    }, dailyItems.map(function (item, index) {\n      return React__default.createElement(\"div\", {\n        key: index,\n        className: \"item\"\n      }, React__default.createElement(DragDropContainer, {\n        targetKey: \"box\",\n        dragData: {\n          label: item\n        }\n      }, React__default.createElement(\"p\", null, item)));\n    }));\n  };\n\n  var showStatus = function showStatus() {\n    if (result) {\n      return React__default.createElement(Image, {\n        value: 'daily_result'\n      });\n    }\n\n    return React__default.createElement(React__default.Fragment, null, React__default.createElement(Box, {\n      targetKey: \"box\"\n    }), React__default.createElement(\"p\", {\n      className: \"redirect\",\n      onClick: function onClick() {\n        return handleClick();\n      }\n    }, \"Tagesplan anzeigen!\"));\n  };\n\n  return React__default.createElement(\"div\", {\n    className: \"daily\"\n  }, getItems(), showStatus());\n};\n\nvar Box = function Box(props) {\n  var useStyles = makeStyles$1(function () {\n    return {\n      box: {\n        background: 'url(./assets/daily.webp) no-repeat center center'\n      }\n    };\n  });\n  var classes = useStyles();\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray$1(_useState3, 2),\n      boxItems = _useState4[0],\n      setBoxItems = _useState4[1];\n\n  var handleDrop = function handleDrop(e) {\n    var items = boxItems.slice();\n    items.push({\n      label: e.dragData.label,\n      uid: shortid.generate()\n    });\n    setBoxItems(items);\n    e.containerElem.style.visibility = \"hidden\";\n  };\n\n  var swap = function swap(fromIndex, toIndex, dragData) {\n    var items = boxItems.slice();\n    var item = {\n      label: dragData.label,\n      uid: shortid.generate()\n    };\n    items.splice(toIndex, 0, item);\n    setBoxItems(items);\n  };\n\n  var kill = function kill(uid) {\n    var items = boxItems.slice();\n    var index = items.findIndex(function (item) {\n      return item.uid === uid;\n    });\n\n    if (index !== -1) {\n      items.splice(index, 1);\n    }\n\n    setBoxItems(items);\n  };\n\n  return React__default.createElement(DropTarget, {\n    onHit: handleDrop,\n    targetKey: props.targetKey,\n    dropData: {\n      name: props.name\n    }\n  }, React__default.createElement(DropTarget, {\n    onHit: handleDrop,\n    targetKey: \"boxItem\",\n    dropData: {\n      name: props.name\n    }\n  }, React__default.createElement(\"div\", {\n    className: \"component_box \".concat(classes.box)\n  }, boxItems.map(function (item, index) {\n    return React__default.createElement(BoxItem, {\n      key: item.uid,\n      uid: item.uid,\n      kill: kill,\n      index: index,\n      swap: swap\n    }, item.label);\n  }))));\n};\n\nvar BoxItem = function BoxItem(props) {\n  var handleDrop = function handleDrop(e) {\n    e.stopPropagation();\n    props.swap(e.dragData.index, props.index, e.dragData);\n    e.containerElem.style.visibility = \"hidden\";\n  };\n\n  var deleteMe = function deleteMe() {\n    props.kill(props.uid);\n  };\n\n  return React__default.createElement(\"div\", {\n    className: \"box_item_component\"\n  }, React__default.createElement(DragDropContainer, {\n    targetKey: \"boxItem\",\n    dragData: {\n      label: props.children,\n      index: props.index\n    },\n    onDrop: deleteMe,\n    disappearDraggedElement: true,\n    dragHandleClassName: \"grabber\"\n  }, React__default.createElement(DropTarget, {\n    onHit: handleDrop,\n    targetKey: \"boxItem\"\n  }, React__default.createElement(\"div\", {\n    className: \"outer\"\n  }, React__default.createElement(\"div\", {\n    className: \"item\"\n  }, React__default.createElement(\"span\", {\n    className: \"grabber\"\n  }, \"\\u2237\"), schedule[props.index], React__default.createElement(\"span\", null, \"\\u2003\"), props.children)))));\n};\n\nvar Square = function Square(_ref) {\n  var value = _ref.value,\n      onClick = _ref.onClick;\n  return React__default.createElement(\"div\", {\n    role: \"button\",\n    tabIndex: 0,\n    className: 'square',\n    onClick: onClick\n  }, value);\n};\n\nvar lines = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\nvar userSymbol = \"X\";\nvar computerSymbol = \"O\";\nvar TicTacToe = function TicTacToe(props) {\n  var _useState = useState(Array(9).fill(null)),\n      _useState2 = _slicedToArray$1(_useState, 2),\n      squares = _useState2[0],\n      setSquares = _useState2[1];\n\n  var _useState3 = useState(Sound.status.PLAYING),\n      _useState4 = _slicedToArray$1(_useState3, 2),\n      playStatus = _useState4[0],\n      setPlayStatus = _useState4[1];\n\n  var winner = calculateWinner(squares);\n\n  function getStatus() {\n    if (winner) {\n      document.querySelector('.result').scrollIntoView({\n        behavior: 'smooth'\n      });\n\n      if (winner === \"X\") {\n        return \"Du hast gewonnen!\";\n      } else {\n        return \"Es ist ja nur ein Spiel!\";\n      }\n    } else if (isBoardFull(squares)) {\n      document.querySelector('.result').scrollIntoView({\n        behavior: 'smooth'\n      });\n      return \"Ein solidarisches Remis!\";\n    } else {\n      return '';\n    }\n  }\n\n  function renderSquare(i) {\n    return React__default.createElement(Square, {\n      value: squares[i],\n      key: i,\n      onClick: function onClick() {\n        if (squares[i] != null || winner != null) {\n          return;\n        }\n\n        var nextSquares = squares.slice();\n        nextSquares[i] = userSymbol;\n        setSquares(nextSquares);\n\n        if (!calculateWinner(nextSquares)) {\n          setTimeout(function () {\n            var generatedSquares = nextSquares.slice();\n            var generatedSquare = setGeneratedSquare(generatedSquares);\n\n            if (generatedSquare != null) {\n              generatedSquares[generatedSquare] = computerSymbol;\n              setSquares(generatedSquares);\n            }\n          }, 300);\n        }\n      }\n    });\n  }\n\n  return React__default.createElement(\"div\", {\n    className: 'game'\n  }, React__default.createElement(\"div\", {\n    className: 'board'\n  }, squares.map(function (value, index) {\n    return renderSquare(index);\n  })), React__default.createElement(\"div\", {\n    className: 'result'\n  }, getStatus()), winner === \"X\" && React__default.createElement(Sound, {\n    url: \"./assets/sounds/game_won.mp3\",\n    playStatus: playStatus,\n    onFinishedPlaying: function onFinishedPlaying() {\n      return setPlayStatus(Sound.status.STOPPED);\n    }\n  }), winner === \"O\" && React__default.createElement(Sound, {\n    url: \"./assets/sounds/game_lost.mp3\",\n    playStatus: playStatus,\n    onFinishedPlaying: function onFinishedPlaying() {\n      return setPlayStatus(Sound.status.STOPPED);\n    }\n  }));\n};\n\nfunction setGeneratedSquare(squares) {\n  for (var i = 0; i < squares.length; i++) {\n    if (squares[i] == null) {\n      return i;\n    }\n  }\n\n  return null;\n}\n\nfunction calculateWinner(squares) {\n  // go over all possibly winning lines and check if they consist of only X's/only O's\n  for (var i = 0; i < lines.length; i++) {\n    var _lines$i = _slicedToArray$1(lines[i], 3),\n        a = _lines$i[0],\n        b = _lines$i[1],\n        c = _lines$i[2];\n\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return squares[a];\n    }\n  }\n\n  return null;\n}\n\nfunction isBoardFull(squares) {\n  for (var i = 0; i < squares.length; i++) {\n    if (squares[i] == null) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nvar globals = createCommonjsModule(function (module, exports) {\nfunction insertRule(e){try{return sheet.insertRule(e,sheet.cssRules.length)}catch(e){console.warn(\"react-reveal - animation failed\");}}function cascade(e,n,t,o,r){var s=Math.log(o),i=Math.log(r),a=(i-s)/(t-n);return Math.exp(s+a*(e-n))}function animation(e){if(!sheet)return \"\";var n=\"@keyframes \"+(name+counter)+\"{\"+e+\"}\",t=effectMap[e];return t?\"\"+name+t:(sheet.insertRule(n,sheet.cssRules.length),effectMap[e]=counter,\"\"+name+counter++)}function hideAll(){globalHide||(exports.globalHide=globalHide=!0,window.removeEventListener(\"scroll\",hideAll,!0),insertRule(\".\"+namespace+\" { opacity: 0; }\"),window.removeEventListener(\"orientationchange\",hideAll,!0),window.document.removeEventListener(\"visibilitychange\",hideAll));}function config(e){var n=e.ssrFadeout;exports.fadeOutEnabled=fadeOutEnabled=n;}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.insertRule=insertRule,exports.cascade=cascade,exports.animation=animation,exports.hideAll=hideAll,exports.default=config;var namespace=exports.namespace=\"react-reveal\",defaults=exports.defaults={duration:1e3,delay:0,count:1},ssr=exports.ssr=!0,observerMode=exports.observerMode=!1,raf=exports.raf=function(e){return window.setTimeout(e,66)},disableSsr=exports.disableSsr=function(){return exports.ssr=ssr=!1},fadeOutEnabled=exports.fadeOutEnabled=!1,ssrFadeout=exports.ssrFadeout=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return exports.fadeOutEnabled=fadeOutEnabled=e},globalHide=exports.globalHide=!1,ie10=exports.ie10=!1,collapseend=exports.collapseend=void 0,counter=1,effectMap={},sheet=!1,name=namespace+\"-\"+Math.floor(1e15*Math.random())+\"-\";if(\"undefined\"!=typeof window&&\"nodejs\"!==window.name&&window.document&&\"undefined\"!=typeof navigator){exports.observerMode=observerMode=\"IntersectionObserver\"in window&&\"IntersectionObserverEntry\"in window&&\"intersectionRatio\"in window.IntersectionObserverEntry.prototype&&/\\{\\s*\\[native code\\]\\s*\\}/.test(\"\"+IntersectionObserver),exports.raf=raf=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||raf,exports.ssr=ssr=window.document.querySelectorAll(\"div[data-reactroot]\").length>0,-1!==navigator.appVersion.indexOf(\"MSIE 10\")&&(exports.ie10=ie10=!0),ssr&&\"performance\"in window&&\"timing\"in window.performance&&\"domContentLoadedEventEnd\"in window.performance.timing&&window.performance.timing.domLoading&&Date.now()-window.performance.timing.domLoading<300&&(exports.ssr=ssr=!1),ssr&&window.setTimeout(disableSsr,1500),observerMode||(exports.collapseend=collapseend=document.createEvent(\"Event\"),collapseend.initEvent(\"collapseend\",!0,!0));var element=document.createElement(\"style\");document.head.appendChild(element),element.sheet&&element.sheet.cssRules&&element.sheet.insertRule&&(sheet=element.sheet,window.addEventListener(\"scroll\",hideAll,!0),window.addEventListener(\"orientationchange\",hideAll,!0),window.document.addEventListener(\"visibilitychange\",hideAll));}\n});\n\nunwrapExports(globals);\nvar globals_1 = globals.globalHide;\nvar globals_2 = globals.fadeOutEnabled;\nvar globals_3 = globals.insertRule;\nvar globals_4 = globals.cascade;\nvar globals_5 = globals.animation;\nvar globals_6 = globals.hideAll;\nvar globals_7 = globals.namespace;\nvar globals_8 = globals.defaults;\nvar globals_9 = globals.ssr;\nvar globals_10 = globals.observerMode;\nvar globals_11 = globals.raf;\nvar globals_12 = globals.disableSsr;\nvar globals_13 = globals.ssrFadeout;\nvar globals_14 = globals.ie10;\nvar globals_15 = globals.collapseend;\n\nvar RevealBase_1 = createCommonjsModule(function (module, exports) {\nfunction _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return !t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t);}Object.defineProperty(exports,\"__esModule\",{value:!0});var _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},_slicedToArray=function(){function e(e,t){var i=[],s=!0,o=!1,n=void 0;try{for(var r,a=e[Symbol.iterator]();!(s=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){o=!0,n=e;}finally{try{!s&&a.return&&a.return();}finally{if(o)throw n}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);}return e},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s);}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),_react2=_interopRequireDefault(React__default),inOut=(0, PropTypes__default.shape)({make:PropTypes__default.func,duration:PropTypes__default.number.isRequired,delay:PropTypes__default.number.isRequired,forever:PropTypes__default.bool,count:PropTypes__default.number.isRequired,style:PropTypes__default.object.isRequired,reverse:PropTypes__default.bool}),propTypes={collapse:PropTypes__default.bool,collapseEl:PropTypes__default.element,cascade:PropTypes__default.bool,wait:PropTypes__default.number,force:PropTypes__default.bool,disabled:PropTypes__default.bool,appear:PropTypes__default.bool,enter:PropTypes__default.bool,exit:PropTypes__default.bool,fraction:PropTypes__default.number,refProp:PropTypes__default.string,innerRef:PropTypes__default.func,onReveal:PropTypes__default.func,unmountOnExit:PropTypes__default.bool,mountOnEnter:PropTypes__default.bool,inEffect:inOut.isRequired,outEffect:(0, PropTypes__default.oneOfType)([inOut,(0, PropTypes__default.oneOf)([!1])]).isRequired,ssrReveal:PropTypes__default.bool,collapseOnly:PropTypes__default.bool,ssrFadeout:PropTypes__default.bool},defaultProps={fraction:.2,refProp:\"ref\"},contextTypes={transitionGroup:PropTypes__default.object},RevealBase=function(e){function t(e,i){_classCallCheck(this,t);var s=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return s.isOn=void 0===e.when||!!e.when,s.state={collapse:e.collapse?t.getInitialCollapseStyle(e):void 0,style:{opacity:s.isOn&&!e.ssrReveal||!e.outEffect?void 0:0}},s.savedChild=!1,s.isShown=!1,globals.observerMode?s.handleObserve=s.handleObserve.bind(s):(s.revealHandler=s.makeHandler(s.reveal),s.resizeHandler=s.makeHandler(s.resize)),s.saveRef=s.saveRef.bind(s),s}return _inherits(t,e),_createClass(t,[{key:\"saveRef\",value:function(e){this.childRef&&this.childRef(e),this.props.innerRef&&this.props.innerRef(e),this.el!==e&&(this.el=e&&\"offsetHeight\"in e?e:void 0,this.observe(this.props,!0));}},{key:\"invisible\",value:function(){this&&this.el&&(this.savedChild=!1,this.isShown||(this.setState({hasExited:!0,collapse:this.props.collapse?_extends({},this.state.collapse,{visibility:\"hidden\"}):null,style:{opacity:0}}),!globals.observerMode&&this.props.collapse&&window.document.dispatchEvent(globals.collapseend)));}},{key:\"animationEnd\",value:function(e,t,i){var s=this,o=i.forever,n=i.count,r=i.delay,a=i.duration;if(!o){var l=function(){s&&s.el&&(s.animationEndTimeout=void 0,e.call(s));};this.animationEndTimeout=window.setTimeout(l,r+(a+(t?a:0)*n));}}},{key:\"getDimensionValue\",value:function(){return this.el.offsetHeight+parseInt(window.getComputedStyle(this.el,null).getPropertyValue(\"margin-top\"),10)+parseInt(window.getComputedStyle(this.el,null).getPropertyValue(\"margin-bottom\"),10)}},{key:\"collapse\",value:function(e,t,i){var s=i.duration+(t.cascade?i.duration:0),o=this.isOn?this.getDimensionValue():0,n=void 0,r=void 0;if(t.collapseOnly)n=i.duration/3,r=i.delay;else{var a=s>>2,l=a>>1;n=a,r=i.delay+(this.isOn?0:s-a-l),e.style.animationDuration=s-a+(this.isOn?l:-l)+\"ms\",e.style.animationDelay=i.delay+(this.isOn?a-l:0)+\"ms\";}return e.collapse={height:o,transition:\"height \"+n+\"ms ease \"+r+\"ms\",overflow:t.collapseOnly?\"hidden\":void 0},e}},{key:\"animate\",value:function(e){if(this&&this.el&&(this.unlisten(),this.isShown!==this.isOn)){this.isShown=this.isOn;var t=!this.isOn&&e.outEffect,i=e[t?\"outEffect\":\"inEffect\"],s=\"style\"in i&&i.style.animationName||void 0,o=void 0;e.collapseOnly?o={hasAppeared:!0,hasExited:!1,style:{opacity:1}}:((e.outEffect||this.isOn)&&i.make&&(s=i.make),o={hasAppeared:!0,hasExited:!1,collapse:void 0,style:_extends({},i.style,{animationDuration:i.duration+\"ms\",animationDelay:i.delay+\"ms\",animationIterationCount:i.forever?\"infinite\":i.count,opacity:1,animationName:s}),className:i.className}),this.setState(e.collapse?this.collapse(o,e,i):o),t?(this.savedChild=_react2.default.cloneElement(this.getChild()),this.animationEnd(this.invisible,e.cascade,i)):this.savedChild=!1,this.onReveal(e);}}},{key:\"onReveal\",value:function(e){e.onReveal&&this.isOn&&(this.onRevealTimeout&&(this.onRevealTimeout=window.clearTimeout(this.onRevealTimeout)),e.wait?this.onRevealTimeout=window.setTimeout(e.onReveal,e.wait):e.onReveal());}},{key:\"componentWillUnmount\",value:function(){this.unlisten(),globals.ssr&&(0, globals.disableSsr)();}},{key:\"handleObserve\",value:function(e,t){_slicedToArray(e,1)[0].intersectionRatio>0&&(t.disconnect(),this.observer=null,this.reveal(this.props,!0));}},{key:\"observe\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.el&&globals.observerMode){if(this.observer){if(!t)return;this.observer.disconnect();}else if(t)return;this.observer=new IntersectionObserver(this.handleObserve,{threshold:e.fraction}),this.observer.observe(this.el);}}},{key:\"reveal\",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];globals.globalHide||(0, globals.hideAll)(),this&&this.el&&(e||(e=this.props),globals.ssr&&(0, globals.disableSsr)(),this.isOn&&this.isShown&&void 0!==e.spy?(this.isShown=!1,this.setState({style:{}}),window.setTimeout(function(){return t.reveal(e)},200)):i||this.inViewport(e)||e.force?this.animate(e):globals.observerMode?this.observe(e):this.listen());}},{key:\"componentDidMount\",value:function(){var e=this;if(this.el&&!this.props.disabled){this.props.collapseOnly||(\"make\"in this.props.inEffect&&this.props.inEffect.make(!1,this.props),void 0!==this.props.when&&this.props.outEffect&&\"make\"in this.props.outEffect&&this.props.outEffect.make(!0,this.props));var i=this.context.transitionGroup,s=i&&!i.isMounting?!(\"enter\"in this.props&&!1===this.props.enter):this.props.appear;return this.isOn&&((void 0!==this.props.when||void 0!==this.props.spy)&&!s||globals.ssr&&!globals.fadeOutEnabled&&!this.props.ssrFadeout&&this.props.outEffect&&!this.props.ssrReveal&&t.getTop(this.el)<window.pageYOffset+window.innerHeight)?(this.isShown=!0,this.setState({hasAppeared:!0,collapse:this.props.collapse?{height:this.getDimensionValue()}:this.state.collapse,style:{opacity:1}}),void this.onReveal(this.props)):globals.ssr&&(globals.fadeOutEnabled||this.props.ssrFadeout)&&this.props.outEffect&&t.getTop(this.el)<window.pageYOffset+window.innerHeight?(this.setState({style:{opacity:0,transition:\"opacity 1000ms 1000ms\"}}),void window.setTimeout(function(){return e.reveal(e.props,!0)},2e3)):void(this.isOn&&(this.props.force?this.animate(this.props):this.reveal(this.props)))}}},{key:\"cascade\",value:function(e){var t=this,i=void 0;i=\"string\"==typeof e?e.split(\"\").map(function(e,t){return _react2.default.createElement(\"span\",{key:t,style:{display:\"inline-block\",whiteSpace:\"pre\"}},e)}):_react2.default.Children.toArray(e);var s=this.props[this.isOn||!this.props.outEffect?\"inEffect\":\"outEffect\"],o=s.duration,n=s.reverse,r=i.length,a=2*o;this.props.collapse&&(a=parseInt(this.state.style.animationDuration,10),o=a/2);var l=n?r:0;return i=i.map(function(e){return \"object\"===(void 0===e?\"undefined\":_typeof(e))&&e?_react2.default.cloneElement(e,{style:_extends({},e.props.style,t.state.style,{animationDuration:Math.round((0, globals.cascade)(n?l--:l++,0,r,o,a))+\"ms\"})}):e})}},{key:\"componentWillReceiveProps\",value:function(e){if(void 0!==e.when&&(this.isOn=!!e.when),e.fraction!==this.props.fraction&&this.observe(e,!0),!this.isOn&&e.onExited&&\"exit\"in e&&!1===e.exit)return void e.onExited();e.disabled||(e.collapse&&!this.props.collapse&&(this.setState({style:{},collapse:t.getInitialCollapseStyle(e)}),this.isShown=!1),e.when===this.props.when&&e.spy===this.props.spy||this.reveal(e),this.onRevealTimeout&&!this.isOn&&(this.onRevealTimeout=window.clearTimeout(this.onRevealTimeout)));}},{key:\"getChild\",value:function(){if(this.savedChild&&!this.props.disabled)return this.savedChild;if(\"object\"===_typeof(this.props.children)){var e=_react2.default.Children.only(this.props.children);return \"type\"in e&&\"string\"==typeof e.type||\"ref\"!==this.props.refProp?e:_react2.default.createElement(\"div\",null,e)}return _react2.default.createElement(\"div\",null,this.props.children)}},{key:\"render\",value:function(){var e=void 0;e=this.state.hasAppeared?!this.props.unmountOnExit||!this.state.hasExited||this.isOn:!this.props.mountOnEnter||this.isOn;var t=this.getChild();\"function\"==typeof t.ref&&(this.childRef=t.ref);var i=!1,s=t.props,o=s.style,n=s.className,r=s.children,a=this.props.disabled?n:(this.props.outEffect?globals.namespace:\"\")+(this.state.className?\" \"+this.state.className:\"\")+(n?\" \"+n:\"\")||void 0,l=void 0;\"function\"==typeof this.state.style.animationName&&(this.state.style.animationName=this.state.style.animationName(!this.isOn,this.props)),this.props.cascade&&!this.props.disabled&&r&&this.state.style.animationName?(i=this.cascade(r),l=_extends({},o,{opacity:1})):l=this.props.disabled?o:_extends({},o,this.state.style);var p=_extends({},this.props.props,_defineProperty({className:a,style:l},this.props.refProp,this.saveRef)),h=_react2.default.cloneElement(t,p,e?i||r:void 0);return void 0!==this.props.collapse?this.props.collapseEl?_react2.default.cloneElement(this.props.collapseEl,{style:_extends({},this.props.collapseEl.style,this.props.disabled?void 0:this.state.collapse),children:h}):_react2.default.createElement(\"div\",{style:this.props.disabled?void 0:this.state.collapse,children:h}):h}},{key:\"makeHandler\",value:function(e){var t=this,i=function(){e.call(t,t.props),t.ticking=!1;};return function(){t.ticking||((0, globals.raf)(i),t.ticking=!0);}}},{key:\"inViewport\",value:function(e){if(!this.el||window.document.hidden)return !1;var i=this.el.offsetHeight,s=window.pageYOffset-t.getTop(this.el),o=Math.min(i,window.innerHeight)*(globals.globalHide?e.fraction:0);return s>o-window.innerHeight&&s<i-o}},{key:\"resize\",value:function(e){this&&this.el&&this.isOn&&this.inViewport(e)&&(this.unlisten(),this.isShown=this.isOn,this.setState({hasExited:!this.isOn,hasAppeared:!0,collapse:void 0,style:{opacity:this.isOn||!e.outEffect?1:0}}),this.onReveal(e));}},{key:\"listen\",value:function(){globals.observerMode||this.isListener||(this.isListener=!0,window.addEventListener(\"scroll\",this.revealHandler,{passive:!0}),window.addEventListener(\"orientationchange\",this.revealHandler,{passive:!0}),window.document.addEventListener(\"visibilitychange\",this.revealHandler,{passive:!0}),window.document.addEventListener(\"collapseend\",this.revealHandler,{passive:!0}),window.addEventListener(\"resize\",this.resizeHandler,{passive:!0}));}},{key:\"unlisten\",value:function(){!globals.observerMode&&this.isListener&&(window.removeEventListener(\"scroll\",this.revealHandler,{passive:!0}),window.removeEventListener(\"orientationchange\",this.revealHandler,{passive:!0}),window.document.removeEventListener(\"visibilitychange\",this.revealHandler,{passive:!0}),window.document.removeEventListener(\"collapseend\",this.revealHandler,{passive:!0}),window.removeEventListener(\"resize\",this.resizeHandler,{passive:!0}),this.isListener=!1),this.onRevealTimeout&&(this.onRevealTimeout=window.clearTimeout(this.onRevealTimeout)),this.animationEndTimeout&&(this.animationEndTimeout=window.clearTimeout(this.animationEndTimeout));}}],[{key:\"getInitialCollapseStyle\",value:function(e){return {height:0,visibility:e.when?void 0:\"hidden\"}}},{key:\"getTop\",value:function(e){for(;void 0===e.offsetTop;)e=e.parentNode;for(var t=e.offsetTop;e.offsetParent;t+=e.offsetTop)e=e.offsetParent;return t}}]),t}(_react2.default.Component);RevealBase.propTypes=propTypes,RevealBase.defaultProps=defaultProps,RevealBase.contextTypes=contextTypes,RevealBase.displayName=\"RevealBase\",exports.default=RevealBase,module.exports=exports.default;\n});\n\nunwrapExports(RevealBase_1);\n\nvar wrap_1 = createCommonjsModule(function (module, exports) {\nfunction _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function wrap(e,t,a,r){return \"in\"in e&&(e.when=e.in),_react2.default.Children.count(r)<2?_react2.default.createElement(_RevealBase2.default,_extends({},e,{inEffect:t,outEffect:a,children:r})):(r=_react2.default.Children.map(r,function(r){return _react2.default.createElement(_RevealBase2.default,_extends({},e,{inEffect:t,outEffect:a,children:r}))}),\"Fragment\"in _react2.default?_react2.default.createElement(_react2.default.Fragment,null,r):_react2.default.createElement(\"span\",null,r))}Object.defineProperty(exports,\"__esModule\",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);}return e};exports.default=wrap;var _react2=_interopRequireDefault(React__default),_RevealBase2=_interopRequireDefault(RevealBase_1);module.exports=exports.default;\n});\n\nunwrapExports(wrap_1);\n\nvar Shake_1 = createCommonjsModule(function (module, exports) {\nfunction _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,r){var o={};for(var t in e)r.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);return o}function make(){return name||(name=(0, globals.animation)(rule))}function Shake(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globals.defaults,r=e.children,o=(e.out,e.timeout),t=e.duration,a=void 0===t?globals.defaults.duration:t,n=e.delay,u=void 0===n?globals.defaults.delay:n,p=e.count,l=void 0===p?globals.defaults.count:p,i=e.forever,s=_objectWithoutProperties(e,[\"children\",\"out\",\"timeout\",\"duration\",\"delay\",\"count\",\"forever\"]),d={make:make,duration:void 0===o?a:o,delay:u,forever:i,count:l,style:{animationFillMode:\"both\"}};return (0, _wrap2.default)(s,d,!1,r,!0)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _wrap2=_interopRequireDefault(wrap_1),propTypes={duration:PropTypes__default.number,timeout:PropTypes__default.number,delay:PropTypes__default.number,count:PropTypes__default.number,forever:PropTypes__default.bool},rule=\"\\nfrom, to {\\n    transform: translate3d(0, 0, 0);\\n  }\\n\\n  10%, 30%, 50%, 70%, 90% {\\n    transform: translate3d(-10px, 0, 0);\\n  }\\n\\n  20%, 40%, 60%, 80% {\\n    transform: translate3d(10px, 0, 0);\\n}\\n\",name=!1;Shake.propTypes=propTypes,exports.default=Shake,module.exports=exports.default;\n});\n\nvar Shake = unwrapExports(Shake_1);\n\nvar Jump_1 = createCommonjsModule(function (module, exports) {\nfunction _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,r){var t={};for(var n in e)r.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function make(){return name||(name=(0, globals.animation)(rule))}function Jump(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globals.defaults,r=e.children,t=(e.out,e.timeout),n=e.duration,o=void 0===n?globals.defaults.duration:n,a=e.delay,i=void 0===a?globals.defaults.delay:a,u=e.count,p=void 0===u?globals.defaults.count:u,l=e.forever,s=_objectWithoutProperties(e,[\"children\",\"out\",\"timeout\",\"duration\",\"delay\",\"count\",\"forever\"]),d={make:make,duration:void 0===t?o:t,delay:i,forever:l,count:p,style:{animationFillMode:\"both\"}};return (0, _wrap2.default)(s,d,!1,r,!0)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _wrap2=_interopRequireDefault(wrap_1),propTypes={duration:PropTypes__default.number,timeout:PropTypes__default.number,delay:PropTypes__default.number,count:PropTypes__default.number,forever:PropTypes__default.bool},rule=\"\\n from, 20%, 53%, 80%, to {\\n    animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\\n    transform: translate3d(0,0,0);\\n  }\\n\\n  40%, 43% {\\n    animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);\\n    transform: translate3d(0, -30px, 0);\\n  }\\n\\n  70% {\\n    animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);\\n    transform: translate3d(0, -15px, 0);\\n  }\\n\\n  90% {\\n    transform: translate3d(0, -4px, 0);\\n}\\n\",name=!1;Jump.propTypes=propTypes,exports.default=Jump,module.exports=exports.default;\n});\n\nvar Jump = unwrapExports(Jump_1);\n\nvar Suitcase = function Suitcase(props) {\n  var _useContext = useContext(AppContext),\n      _useContext2 = _slicedToArray$1(_useContext, 2),\n      character = _useContext2[0],\n      setCharacter = _useContext2[1];\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray$1(_useState, 2),\n      drag = _useState2[0],\n      setDrag = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray$1(_useState3, 2),\n      bagCounter = _useState4[0],\n      setBagCounter = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray$1(_useState5, 2),\n      showResult = _useState6[0],\n      setShowResult = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray$1(_useState7, 2),\n      winningSound = _useState8[0],\n      setWinningSound = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray$1(_useState9, 2),\n      lostSound = _useState10[0],\n      setLostSound = _useState10[1];\n\n  var _useState11 = useState(Sound.status.PLAYING),\n      _useState12 = _slicedToArray$1(_useState11, 2),\n      playStatus = _useState12[0],\n      setPlayStatus = _useState12[1];\n\n  var _useState13 = useState(0),\n      _useState14 = _slicedToArray$1(_useState13, 2),\n      falseCounter = _useState14[0],\n      setFalseCounter = _useState14[1];\n\n  useEffect(function () {\n    setPlayStatus(Sound.status.PLAYING);\n  }, [falseCounter]);\n\n  var dropped = function dropped(e) {\n    e.containerElem.style.visibility = \"hidden\";\n    setBagCounter(bagCounter + 1);\n    setDrag(\"\".concat(character, \" packt \").concat(e.dragData.label, \" ein.\"));\n\n    if (bagCounter === 4) {\n      setWinningSound(true);\n      setTimeout(function () {\n        return setShowResult(true);\n      }, 1500);\n    }\n  };\n\n  var droppedFalseItem = function droppedFalseItem(e) {\n    setDrag(\"\".concat(character, \" braucht \").concat(e.dragData.label, \" wohl eher nicht.\"));\n    setLostSound(true);\n    setFalseCounter(falseCounter + 1);\n  };\n\n  return React__default.createElement(\"div\", {\n    className: 'suitcase'\n  }, React__default.createElement(\"div\", {\n    className: 'items'\n  }, React__default.createElement(Items, {\n    targetKey: 'bag',\n    label: 'ein Hemd',\n    image: 'suitcase_hemd'\n  }), React__default.createElement(Items, {\n    targetKey: 'bag',\n    label: 'eine Feldflasche',\n    image: 'suitcase_feldflasche'\n  }), React__default.createElement(Items, {\n    targetKey: 'negative',\n    label: 'ein Radio',\n    image: 'suitcase_radio'\n  }), React__default.createElement(Items, {\n    targetKey: 'bag',\n    label: 'eine Seife',\n    image: 'suitcase_seife'\n  }), React__default.createElement(Items, {\n    targetKey: 'negative',\n    label: 'ein Smartphone',\n    image: 'suitcase_smartphone'\n  }), React__default.createElement(Items, {\n    targetKey: 'bag',\n    label: \"eine Zahnb\\xFCrste\",\n    image: \"suitcase_zahnb\\xFCrste\"\n  }), React__default.createElement(Items, {\n    targetKey: 'negative',\n    label: 'eine Karaffe',\n    image: 'suitcase_karaffe'\n  }), React__default.createElement(Items, {\n    targetKey: 'negative',\n    label: 'eine Topfpflanze',\n    image: 'suitcase_topfpflanze'\n  }), React__default.createElement(Items, {\n    targetKey: 'bag',\n    label: \"einen L\\xF6ffel\",\n    image: \"suitcase_l\\xF6ffel\"\n  }), React__default.createElement(Items, {\n    targetKey: 'negative',\n    label: 'einen Hammer',\n    image: 'suitcase_hammer'\n  })), React__default.createElement(DropTarget, {\n    onHit: function onHit(e) {\n      return dropped(e);\n    },\n    targetKey: 'bag'\n  }, React__default.createElement(DropTarget, {\n    onHit: function onHit(e) {\n      return droppedFalseItem(e);\n    },\n    targetKey: 'negative'\n  }, React__default.createElement(Jump, {\n    spy: bagCounter\n  }, React__default.createElement(Shake, {\n    spy: falseCounter\n  }, React__default.createElement(\"div\", {\n    className: 'bag'\n  }, React__default.createElement(Image, {\n    value: 'suitcase'\n  }), React__default.createElement(\"div\", {\n    className: 'dragText'\n  }, drag)))))), winningSound && React__default.createElement(Sound, {\n    url: \"./assets/sounds/game_won.mp3\",\n    playStatus: Sound.status.PLAYING\n  }), lostSound && React__default.createElement(Sound, {\n    url: \"./assets/sounds/game_lost.mp3\",\n    playStatus: playStatus,\n    onFinishedPlaying: function onFinishedPlaying() {\n      return setPlayStatus(Sound.status.STOPPED);\n    }\n  }), showResult && React__default.createElement(Redirect, {\n    exact: true,\n    to: \"reise\"\n  }));\n};\n\nvar Items = function Items(props) {\n  return React__default.createElement(DragDropContainer, {\n    targetKey: props.targetKey,\n    dragData: {\n      label: props.label\n    },\n    render: function render() {\n      return React__default.createElement(Image, {\n        value: props.image\n      });\n    }\n  });\n};\n\nvar Title = function Title(props) {\n  return React__default.createElement(\"div\", {\n    className: \"title\"\n  }, React__default.createElement(\"h1\", null, props.text));\n};\n\nvar Scrollicon = function Scrollicon(props) {\n  return React__default.createElement(\"div\", {\n    className: 'icon-scroll'\n  });\n};\n\nvar Header = function Header(props) {\n  var useStyles = makeStyles$1(function () {\n    return {\n      chapter: {\n        backgroundImage: \"url(\".concat(\"./assets/\" + props.link + IMAGE_SUFFIX, \")\"),\n        boxShadow: '0 0 8px 8px #dcd5cc inset',\n        flexDirection: 'column'\n      }\n    };\n  });\n  var classes = useStyles();\n  return React__default.createElement(\"section\", {\n    className: 'parallax__group parallax__header'\n  }, props.option === 'rain' && React__default.createElement(Rain, null), React__default.createElement(\"div\", {\n    className: \"parallax__layer parallax__layer--base fade-in-scale \".concat(classes.chapter)\n  }, props.option === 'birds' && React__default.createElement(Birds, null), React__default.createElement(Title, {\n    text: props.name\n  }), React__default.createElement(Scrollicon, null)));\n};\n\nvar Video = function Video(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray$1(_useState, 2),\n      isPlaying = _useState2[0],\n      setPlaying = _useState2[1];\n\n  var playVideo = function playVideo(playing) {\n    setPlaying(playing);\n    playing && document.querySelector('.theater').scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n\n  return React__default.createElement(\"div\", {\n    className: \"chapter_video \".concat(props.option, \" \").concat(isPlaying ? 'theater' : '')\n  }, React__default.createElement(\"p\", null, props.title), React__default.createElement(\"video\", {\n    controls: true,\n    onPlaying: function onPlaying() {\n      return playVideo(true);\n    },\n    onPause: function onPause() {\n      return playVideo(false);\n    }\n  }, React__default.createElement(\"source\", {\n    type: 'video/mp4',\n    src: \"./assets/movies/\" + props.value + VIDEO_SUFFIX\n  }), \"Your browser does not support the video tag.\"));\n};\n\nvar Fade_1 = createCommonjsModule(function (module, exports) {\nfunction _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}function _objectWithoutProperties(o,e){var r={};for(var t in o)e.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(o,t)&&(r[t]=o[t]);return r}function make(o,e){var r=e.distance,t=e.left,p=e.right,a=e.up,l=e.down,i=e.top,u=e.bottom,n=e.big,s=e.mirror,d=e.opposite,_=(r?r.toString():0)+((t?1:0)|(p?2:0)|(i||l?4:0)|(u||a?8:0)|(s?16:0)|(d?32:0)|(o?64:0)|(n?128:0));if(lookup.hasOwnProperty(_))return lookup[_];var f=t||p||a||l||i||u,y=void 0,b=void 0;if(f){if(!s!=!(o&&d)){var v=[p,t,u,i,l,a];t=v[0],p=v[1],i=v[2],u=v[3],a=v[4],l=v[5];}var c=r||(n?\"2000px\":\"100%\");y=t?\"-\"+c:p?c:\"0\",b=l||i?\"-\"+c:a||u?c:\"0\";}return lookup[_]=(0, globals.animation)((o?\"to\":\"from\")+\" {opacity: 0;\"+(f?\" transform: translate3d(\"+y+\", \"+b+\", 0);\":\"\")+\"}\\n     \"+(o?\"from\":\"to\")+\" {opacity: 1;transform: none;} \"),lookup[_]}function Fade(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:globals.defaults,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=o.children,t=(o.out,o.forever),p=o.timeout,a=o.duration,l=void 0===a?globals.defaults.duration:a,i=o.delay,u=void 0===i?globals.defaults.delay:i,n=o.count,s=void 0===n?globals.defaults.count:n,d=_objectWithoutProperties(o,[\"children\",\"out\",\"forever\",\"timeout\",\"duration\",\"delay\",\"count\"]),_={make:make,duration:void 0===p?l:p,delay:u,forever:t,count:s,style:{animationFillMode:\"both\"},reverse:d.left};return e?(0, _wrap2.default)(d,_,_,r):_}Object.defineProperty(exports,\"__esModule\",{value:!0});var _wrap2=_interopRequireDefault(wrap_1),propTypes={out:PropTypes__default.bool,left:PropTypes__default.bool,right:PropTypes__default.bool,top:PropTypes__default.bool,bottom:PropTypes__default.bool,big:PropTypes__default.bool,mirror:PropTypes__default.bool,opposite:PropTypes__default.bool,duration:PropTypes__default.number,timeout:PropTypes__default.number,distance:PropTypes__default.string,delay:PropTypes__default.number,count:PropTypes__default.number,forever:PropTypes__default.bool},lookup={};Fade.propTypes=propTypes,exports.default=Fade,module.exports=exports.default;\n});\n\nvar Fade = unwrapExports(Fade_1);\n\nvar Reveal_1 = createCommonjsModule(function (module, exports) {\nfunction _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}function Reveal(e){function t(e){return e?_?{duration:n,delay:f,count:s,forever:d,className:_,style:{}}:y:i?{duration:void 0===o?u:o,delay:p,count:a,forever:l,className:i,style:{}}:c}var r=e.children,o=e.timeout,u=e.duration,p=e.delay,a=e.count,l=e.forever,n=e.durationOut,f=e.delayOut,s=e.countOut,d=e.foreverOut,i=e.effect,_=e.effectOut,c=e.inEffect,y=e.outEffect,O=_objectWithoutProperties(e,[\"children\",\"timeout\",\"duration\",\"delay\",\"count\",\"forever\",\"durationOut\",\"delayOut\",\"countOut\",\"foreverOut\",\"effect\",\"effectOut\",\"inEffect\",\"outEffect\"]);return (0, _wrap2.default)(O,t(!1),t(!0),r)}Object.defineProperty(exports,\"__esModule\",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);}return e},_wrap2=_interopRequireDefault(wrap_1),_Fade2=_interopRequireDefault(Fade_1),propTypes={in:PropTypes__default.object,out:(0, PropTypes__default.oneOfType)([PropTypes__default.object,(0, PropTypes__default.oneOf)([!1])]),effect:PropTypes__default.string,effectOut:PropTypes__default.string,duration:PropTypes__default.number,timeout:PropTypes__default.number,delay:PropTypes__default.number,count:PropTypes__default.number,forever:PropTypes__default.bool,durationOut:PropTypes__default.number,delayOut:PropTypes__default.number,countOut:PropTypes__default.number,foreverOut:PropTypes__default.bool},defaultProps=_extends({},globals.defaults,{durationOut:globals.defaults.duration,delayOut:globals.defaults.delay,countOut:globals.defaults.count,foreverOut:globals.defaults.forever,inEffect:(0, _Fade2.default)(globals.defaults),outEffect:(0, _Fade2.default)(_extends({out:!0},globals.defaults))});Reveal.propTypes=propTypes,Reveal.defaultProps=defaultProps,exports.default=Reveal,module.exports=exports.default;\n});\n\nvar Reveal = unwrapExports(Reveal_1);\n\nvar Text = function Text(props) {\n  var isRevealing = props.option === 'reveal';\n\n  if (isRevealing) {\n    return React__default.createElement(\"div\", {\n      className: 'box'\n    }, React__default.createElement(Reveal, {\n      effect: \"reveal\",\n      duration: 100\n    }, React__default.createElement(\"p\", null, props.value.split(\"\").map(function (_char, index) {\n      return React__default.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        key: index,\n        style: {\n          animationDelay: 0.1 + index / 10 + \"s\"\n        }\n      }, _char);\n    }))));\n  }\n\n  return React__default.createElement(\"div\", {\n    className: \"box \".concat(props.option)\n  }, React__default.createElement(Fade, {\n    bottom: true,\n    duration: 5000\n  }, props.option === 'link' ? React__default.createElement(\"p\", {\n    className: \"link\",\n    dangerouslySetInnerHTML: {\n      __html: props.value\n    }\n  }) : React__default.createElement(\"p\", null, props.value)));\n};\n\nvar Decission = function Decission(props) {\n  return React__default.createElement(\"div\", {\n    className: 'box'\n  }, React__default.createElement(\"p\", null, props.value), \"!\");\n};\n\nvar Smokingpit = function Smokingpit(props) {\n  return React__default.createElement(\"div\", {\n    className: 'smokingPit'\n  }, React__default.createElement(Image, {\n    value: 'daheim_arbeiterschaft'\n  }), React__default.createElement(\"div\", {\n    className: 'smoke'\n  }, React__default.createElement(\"span\", {\n    className: 's0'\n  }), React__default.createElement(\"span\", {\n    className: 's1'\n  }), React__default.createElement(\"span\", {\n    className: 's2'\n  }), React__default.createElement(\"span\", {\n    className: 's3'\n  }), React__default.createElement(\"span\", {\n    className: 's4'\n  }), React__default.createElement(\"span\", {\n    className: 's5'\n  }), React__default.createElement(\"span\", {\n    className: 's6'\n  }), React__default.createElement(\"span\", {\n    className: 's7'\n  }), React__default.createElement(\"span\", {\n    className: 's8'\n  }), React__default.createElement(\"span\", {\n    className: 's9'\n  })));\n};\n\nvar Puzzle = /*#__PURE__*/function (_Component) {\n  _inherits(Puzzle, _Component);\n\n  var _super = _createSuper(Puzzle);\n\n  function Puzzle() {\n    var _this;\n\n    _classCallCheck(this, Puzzle);\n\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      pieces: [],\n      shuffled: [],\n      solved: [],\n      winner: false,\n      winningSound: false,\n      chance: false,\n      playStatus: Sound.status.PLAYING\n    };\n    return _this;\n  }\n\n  _createClass$1(Puzzle, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var pieces = _toConsumableArray$1(Array(16)).map(function (_, i) {\n        return {\n          img: \"daheim_puzzle_\".concat((\"0\" + (i + 1)).substr(-2), \".webp\"),\n          order: i,\n          board: \"shuffled\"\n        };\n      });\n\n      this.setState({\n        pieces: pieces,\n        shuffled: this.shufflePieces(pieces),\n        solved: _toConsumableArray$1(Array(16))\n      });\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, index, targetName) {\n      var _this$setState;\n\n      e.preventDefault();\n      var target = this.state[targetName];\n      if (target[index]) return;\n      var pieceOrder = e.dataTransfer.getData(\"text\");\n      var pieceData = this.state.pieces.find(function (p) {\n        return p.order === +pieceOrder;\n      });\n      var origin = this.state[pieceData.board];\n      if (targetName === pieceData.board) target = origin;\n      origin[origin.indexOf(pieceData)] = undefined;\n      target[index] = pieceData;\n      pieceData.board = targetName;\n      this.setState((_this$setState = {}, _defineProperty$1(_this$setState, pieceData.board, origin), _defineProperty$1(_this$setState, targetName, target), _defineProperty$1(_this$setState, \"chance\", false), _this$setState));\n      this.checkWinner();\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, order) {\n      var dt = e.dataTransfer;\n      dt.setData(\"text/plain\", order);\n      dt.effectAllowed = \"move\";\n    }\n  }, {\n    key: \"checkWinner\",\n    value: function checkWinner() {\n      var _this2 = this;\n\n      for (var i = 0, l = this.state.solved.length; i < l; i++) {\n        if (typeof this.state.solved[i] === 'undefined') return;\n      }\n      var finished = this.state.solved.find(function (piece, index) {\n        return piece.order !== index;\n      });\n\n      if (finished === undefined) {\n        this.setState({\n          winningSound: true\n        });\n        setTimeout(function () {\n          return _this2.setState({\n            winner: true\n          });\n        }, 2500);\n      } else {\n        this.setState({\n          chance: true\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React__default.createElement(React__default.Fragment, null, React__default.createElement(\"div\", {\n        className: 'puzzle'\n      }, React__default.createElement(\"ul\", {\n        className: 'puzzle__shuffled-board'\n      }, this.state.shuffled.map(function (piece, i) {\n        return _this3.renderPieceContainer(piece, i, \"shuffled\");\n      })), React__default.createElement(\"ol\", {\n        className: 'puzzle__solved-board',\n        style: {\n          backgroundImage: \"url(./assets/daheim_puzzle.webp)\"\n        }\n      }, this.state.solved.map(function (piece, i) {\n        return _this3.renderPieceContainer(piece, i, \"solved\");\n      })), this.state.winningSound && React__default.createElement(Sound, {\n        url: \"./assets/sounds/game_won.mp3\",\n        playStatus: Sound.status.PLAYING\n      }), this.state.winner && React__default.createElement(Redirect, {\n        exact: true,\n        to: \"ortsgruppe\"\n      })), this.state.chance && React__default.createElement(React__default.Fragment, null, React__default.createElement(\"p\", null, \"Der Weg scheint noch nicht ganz richtig. Versuch es noch einmal!\"), React__default.createElement(Sound, {\n        url: \"./assets/sounds/game_lost.mp3\",\n        playStatus: this.state.playStatus,\n        onFinishedPlaying: function onFinishedPlaying() {\n          return _this3.setState({\n            playStatus: Sound.status.STOPPED\n          });\n        }\n      })));\n    }\n  }, {\n    key: \"renderPieceContainer\",\n    value: function renderPieceContainer(piece, index, boardName) {\n      var _this4 = this;\n\n      return React__default.createElement(\"li\", {\n        key: index,\n        onDragOver: function onDragOver(e) {\n          return e.preventDefault();\n        },\n        onDrop: function onDrop(e) {\n          return _this4.handleDrop(e, index, boardName);\n        }\n      }, piece && React__default.createElement(\"img\", {\n        draggable: true,\n        alt: \"\",\n        onDragStart: function onDragStart(e) {\n          return _this4.handleDragStart(e, piece.order);\n        },\n        src: \"./assets/\".concat(piece.img)\n      }));\n    }\n  }, {\n    key: \"shufflePieces\",\n    value: function shufflePieces(pieces) {\n      var shuffled = _toConsumableArray$1(pieces);\n\n      for (var i = shuffled.length - 1; i > 0; i--) {\n        var j = Math.floor(Math.random() * (i + 1));\n        var _ref = [shuffled[j], shuffled[i]];\n        shuffled[i] = _ref[0];\n        shuffled[j] = _ref[1];\n      }\n\n      return shuffled;\n    }\n  }]);\n\n  return Puzzle;\n}(Component);\n\nvar RedirectComponent = function RedirectComponent(props) {\n  var _useContext = useContext(AppContext),\n      _useContext2 = _slicedToArray$1(_useContext, 2),\n      character = _useContext2[0],\n      setCharacter = _useContext2[1];\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray$1(_useState, 2),\n      redirect = _useState2[0],\n      setRedirect = _useState2[1];\n\n  var handleRedirect = function handleRedirect() {\n    props.avatar && setCharacter(props.avatar);\n    setRedirect(true);\n  };\n\n  return React__default.createElement(React__default.Fragment, null, React__default.createElement(\"p\", {\n    className: \"redirect \".concat(props.option),\n    onClick: function onClick() {\n      return handleRedirect();\n    }\n  }, props.title), redirect && React__default.createElement(Redirect, {\n    exact: true,\n    to: props.value\n  }));\n};\n\nvar Info = function Info(props) {\n  var useStyles = makeStyles(function () {\n    return {\n      info: {\n        background: 'url(./assets/info.svg) no-repeat 0 0 transparent',\n        \"&:hover\": {\n          background: 'url(./assets/info_highlighted.svg) no-repeat 0 0 transparent'\n        }\n      }\n    };\n  });\n  var classes = useStyles();\n  return React__default.createElement(Fade, {\n    left: true,\n    delay: 2000\n  }, React__default.createElement(\"div\", {\n    className: \"infoLink \".concat(classes.info)\n  }, React__default.createElement(\"div\", {\n    className: \"infoText\"\n  }, React__default.createElement(\"p\", {\n    dangerouslySetInnerHTML: {\n      __html: props.value\n    }\n  }))));\n};\n\nvar ContentType = {\n  text: Text,\n  redirect: RedirectComponent,\n  video: Video,\n  image: Image,\n  smokingpit: Smokingpit,\n  puzzle: Puzzle,\n  memory: Memory,\n  suitcase: Suitcase,\n  summary: Summary,\n  tictactoe: TicTacToe,\n  daily: Daily,\n  decission: Decission\n};\nvar Group = function Group(_ref) {\n  var grouped = _ref.grouped,\n      row = _ref.row,\n      info = _ref.info,\n      background = _ref.background,\n      contentList = _ref.content;\n\n  var renderBackground = function renderBackground() {\n    return React__default.createElement(\"div\", {\n      className: \"parallax__layer parallax__layer--back\"\n    }, React__default.createElement(Image, {\n      value: background,\n      option: 'bg'\n    }));\n  };\n\n  var renderGroupContent = function renderGroupContent() {\n    var chapterGroupedContent = React__default.createElement(\"div\", {\n      className: \"parallax__layer parallax__layer--base grouped \".concat(row ? 'row' : 'column')\n    }, info && React__default.createElement(Info, {\n      value: info\n    }), contentList.map(function (content, index) {\n      return renderContent(content, index);\n    }));\n    var chapterContent = contentList.map(function (content, index) {\n      return React__default.createElement(\"div\", {\n        key: index,\n        className: \"parallax__layer parallax__layer--\".concat(content.layer)\n      }, info && content.layer === 'fore' && React__default.createElement(Info, {\n        value: info\n      }), renderContent(content, index));\n    });\n    return grouped ? chapterGroupedContent : chapterContent;\n  };\n\n  var renderContent = function renderContent(content, index) {\n    return React__default.createElement(Fragment, {\n      key: index\n    }, React__default.createElement(ContentType[content.type], Object.assign({}, content)));\n  };\n\n  return React__default.createElement(React__default.Fragment, null, background && renderBackground(), contentList && renderGroupContent());\n};\n\nvar Footer = function Footer(props) {\n  return React__default.createElement(\"footer\", null, React__default.createElement(\"p\", null, \"Footer\"));\n};\n\nvar Nav = function Nav(props) {\n  var renderChapterNav = function renderChapterNav() {\n    return props.chapters.map(function (chapter, index) {\n      return React__default.createElement(\"li\", {\n        className: 'navigation--item',\n        key: index\n      }, React__default.createElement(NavLink, {\n        to: \"/chapter/\".concat(chapter.link)\n      }, React__default.createElement(\"p\", null, chapter.name)));\n    });\n  };\n\n  return React__default.createElement(\"nav\", {\n    className: \"app-nav\"\n  }, React__default.createElement(\"ul\", {\n    className: 'navigation'\n  }, React__default.createElement(\"li\", {\n    className: 'navigation--item'\n  }, React__default.createElement(NavLink, {\n    exact: true,\n    to: \"/\"\n  }, \"Demokratie erLeben\")), renderChapterNav()));\n};\n\nvar isProduction$1 = process.env.NODE_ENV === 'production';\nvar prefix$1 = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction$1) {\n        throw new Error(prefix$1);\n    }\n    throw new Error(prefix$1 + \": \" + (message || ''));\n}\n\nfunction _defineProperty$2(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends$1() {\n  _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$1.apply(this, arguments);\n}\n\nfunction _inheritsLoose$1(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutPropertiesLoose$1(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized$2(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nvar INSTANCE_MAP = new Map();\nvar OBSERVER_MAP = new Map();\nvar ROOT_IDS = new Map();\nvar consecutiveRootId = 0;\n/**\n * Generate a unique ID for the root element\n * @param root\n */\n\nfunction getRootId(root) {\n  if (!root) return '';\n  if (ROOT_IDS.has(root)) return ROOT_IDS.get(root);\n  consecutiveRootId += 1;\n  ROOT_IDS.set(root, consecutiveRootId.toString());\n  return ROOT_IDS.get(root) + '_';\n}\n/**\n * Monitor element, and trigger callback when element becomes inView\n * @param element {HTMLElement}\n * @param callback {Function} Called with inView\n * @param options {Object} InterSection observer options\n * @param options.threshold {Number} Number between 0 and 1, indicating how much of the element should be inView before triggering\n * @param options.root {HTMLElement}\n * @param options.rootMargin {String} The CSS margin to apply to the root element.\n */\n\n\nfunction observe(element, callback, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  // IntersectionObserver needs a threshold to trigger, so set it to 0 if it's not defined.\n  // Modify the options object, since it's used in the onChange handler.\n  if (!options.threshold) options.threshold = 0;\n  var _options = options,\n      root = _options.root,\n      rootMargin = _options.rootMargin,\n      threshold = _options.threshold; // Validate that the element is not being used in another <Observer />\n\n  !!INSTANCE_MAP.has(element) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"react-intersection-observer: Trying to observe %s, but it's already being observed by another instance.\\nMake sure the `ref` is only used by a single <Observer /> instance.\\n\\n%s\") : invariant(false) : void 0;\n  /* istanbul ignore if */\n\n  if (!element) return; // Create a unique ID for this observer instance, based on the root, root margin and threshold.\n  // An observer with the same options can be reused, so lets use this fact\n\n  var observerId = getRootId(root) + (rootMargin ? threshold.toString() + \"_\" + rootMargin : threshold.toString());\n  var observerInstance = OBSERVER_MAP.get(observerId);\n\n  if (!observerInstance) {\n    observerInstance = new IntersectionObserver(onChange, options);\n    /* istanbul ignore else  */\n\n    if (observerId) OBSERVER_MAP.set(observerId, observerInstance);\n  }\n\n  var instance = {\n    callback: callback,\n    element: element,\n    inView: false,\n    observerId: observerId,\n    observer: observerInstance,\n    // Make sure we have the thresholds value. It's undefined on a browser like Chrome 51.\n    thresholds: observerInstance.thresholds || (Array.isArray(threshold) ? threshold : [threshold])\n  };\n  INSTANCE_MAP.set(element, instance);\n  observerInstance.observe(element);\n  return instance;\n}\n/**\n * Stop observing an element. If an element is removed from the DOM or otherwise destroyed,\n * make sure to call this method.\n * @param element {Element}\n */\n\nfunction unobserve(element) {\n  if (!element) return;\n  var instance = INSTANCE_MAP.get(element);\n\n  if (instance) {\n    var observerId = instance.observerId,\n        observer = instance.observer;\n    var root = observer.root;\n    observer.unobserve(element); // Check if we are still observing any elements with the same threshold.\n\n    var itemsLeft = false; // Check if we still have observers configured with the same root.\n\n    var rootObserved = false;\n    /* istanbul ignore else  */\n\n    if (observerId) {\n      INSTANCE_MAP.forEach(function (item, key) {\n        if (key !== element) {\n          if (item.observerId === observerId) {\n            itemsLeft = true;\n            rootObserved = true;\n          }\n\n          if (item.observer.root === root) {\n            rootObserved = true;\n          }\n        }\n      });\n    }\n\n    if (!rootObserved && root) ROOT_IDS[\"delete\"](root);\n\n    if (observer && !itemsLeft) {\n      // No more elements to observe for threshold, disconnect observer\n      observer.disconnect();\n    } // Remove reference to element\n\n\n    INSTANCE_MAP[\"delete\"](element);\n  }\n}\n\nfunction onChange(changes) {\n  changes.forEach(function (intersection) {\n    var isIntersecting = intersection.isIntersecting,\n        intersectionRatio = intersection.intersectionRatio,\n        target = intersection.target;\n    var instance = INSTANCE_MAP.get(target); // Firefox can report a negative intersectionRatio when scrolling.\n\n    /* istanbul ignore else */\n\n    if (instance && intersectionRatio >= 0) {\n      // If threshold is an array, check if any of them intersects. This just triggers the onChange event multiple times.\n      var inView = instance.thresholds.some(function (threshold) {\n        return instance.inView ? intersectionRatio > threshold : intersectionRatio >= threshold;\n      });\n\n      if (isIntersecting !== undefined) {\n        // If isIntersecting is defined, ensure that the element is actually intersecting.\n        // Otherwise it reports a threshold of 0\n        inView = inView && isIntersecting;\n      }\n\n      instance.inView = inView;\n      instance.callback(inView, intersection);\n    }\n  });\n}\n\nfunction isPlainChildren(props) {\n  return typeof props.children !== 'function';\n}\n/**\n * Monitors scroll, and triggers the children function with updated props\n *\n <InView>\n {({inView, ref}) => (\n   <h1 ref={ref}>{`${inView}`}</h1>\n )}\n </InView>\n */\n\n\nvar InView = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose$1(InView, _React$Component);\n\n  function InView() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _defineProperty$2(_assertThisInitialized$2(_this), \"state\", {\n      inView: false,\n      entry: undefined\n    });\n\n    _defineProperty$2(_assertThisInitialized$2(_this), \"node\", null);\n\n    _defineProperty$2(_assertThisInitialized$2(_this), \"handleNode\", function (node) {\n      if (_this.node) {\n        unobserve(_this.node);\n\n        if (!node && !_this.props.triggerOnce) {\n          _this.setState({\n            inView: false,\n            entry: undefined\n          });\n        }\n      }\n\n      _this.node = node ? node : null;\n\n      _this.observeNode();\n    });\n\n    _defineProperty$2(_assertThisInitialized$2(_this), \"handleChange\", function (inView, entry) {\n      // Only trigger a state update if inView has changed.\n      // This prevents an unnecessary extra state update during mount, when the element stats outside the viewport\n      if (inView !== _this.state.inView || inView) {\n        _this.setState({\n          inView: inView,\n          entry: entry\n        });\n      }\n\n      if (_this.props.onChange) {\n        // If the user is actively listening for onChange, always trigger it\n        _this.props.onChange(inView, entry);\n      }\n    });\n\n    return _this;\n  }\n\n  var _proto = InView.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    !this.node ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"react-intersection-observer: No DOM node found. Make sure you forward \\\"ref\\\" to the root DOM element you want to observe.\") : invariant(false) : void 0;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    // If a IntersectionObserver option changed, reinit the observer\n    if (prevProps.rootMargin !== this.props.rootMargin || prevProps.root !== this.props.root || prevProps.threshold !== this.props.threshold) {\n      unobserve(this.node);\n      this.observeNode();\n    }\n\n    if (prevState.inView !== this.state.inView) {\n      if (this.state.inView && this.props.triggerOnce) {\n        unobserve(this.node);\n        this.node = null;\n      }\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.node) {\n      unobserve(this.node);\n      this.node = null;\n    }\n  };\n\n  _proto.observeNode = function observeNode() {\n    if (!this.node) return;\n    var _this$props = this.props,\n        threshold = _this$props.threshold,\n        root = _this$props.root,\n        rootMargin = _this$props.rootMargin;\n    observe(this.node, this.handleChange, {\n      threshold: threshold,\n      root: root,\n      rootMargin: rootMargin\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$state = this.state,\n        inView = _this$state.inView,\n        entry = _this$state.entry;\n\n    if (!isPlainChildren(this.props)) {\n      return this.props.children({\n        inView: inView,\n        entry: entry,\n        ref: this.handleNode\n      });\n    }\n\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        as = _this$props2.as,\n        tag = _this$props2.tag,\n        triggerOnce = _this$props2.triggerOnce,\n        threshold = _this$props2.threshold,\n        root = _this$props2.root,\n        rootMargin = _this$props2.rootMargin,\n        onChange = _this$props2.onChange,\n        props = _objectWithoutPropertiesLoose$1(_this$props2, [\"children\", \"as\", \"tag\", \"triggerOnce\", \"threshold\", \"root\", \"rootMargin\", \"onChange\"]);\n\n    return createElement(as || tag || 'div', _extends$1({\n      ref: this.handleNode\n    }, props), children);\n  };\n\n  return InView;\n}(Component);\n\n_defineProperty$2(InView, \"displayName\", 'InView');\n\n_defineProperty$2(InView, \"defaultProps\", {\n  threshold: 0,\n  triggerOnce: false\n});\n\nvar Chapter = function Chapter(props) {\n  var _useContext = useContext(AppContext),\n      _useContext2 = _slicedToArray$1(_useContext, 2),\n      character = _useContext2[0],\n      setCharacter = _useContext2[1];\n\n  var renderChapterGroups = function renderChapterGroups() {\n    return props.groups.map(function (group, index) {\n      return React__default.createElement(Fragment, {\n        key: index\n      }, (!group.character || group.character === character) && React__default.createElement(InView, {\n        threshold: 0.5\n      }, function (_ref) {\n        var inView = _ref.inView,\n            ref = _ref.ref,\n            entry = _ref.entry;\n        return React__default.createElement(\"section\", {\n          ref: ref,\n          key: index,\n          className: \"parallax__group \".concat(group.background ? 'back' : '', \" \").concat(inView ? 'active' : '')\n        }, React__default.createElement(Group, Object.assign({}, group)));\n      }));\n    });\n  };\n\n  return React__default.createElement(InView, {\n    as: \"div\"\n  }, React__default.createElement(Sound, {\n    url: \"./assets/sounds/\".concat(props.link, \".mp3\"),\n    loop: true,\n    playStatus: Sound.status.PLAYING\n  }), React__default.createElement(\"div\", {\n    className: 'parallax'\n  }, React__default.createElement(Header, Object.assign({}, props)), props.groups && renderChapterGroups()));\n};\n\nvar Ui = function Ui(props) {\n  return React__default.createElement(\"div\", null, React__default.createElement(\"h1\", null, \"Welcome to ui component!\"));\n};\n\nexport { AppContext, Chapter, Daily, Decission, Footer, Group, Header, Image, Info, Memory, Nav, RedirectComponent, Scrollicon, Smokingpit, Suitcase, Summary, Text, TicTacToe, Title, Ui, Video };\n","module.exports = \":root {\\n  --color-text: #96271f;\\n  --color-title: #781f19;\\n  --color-link: #d6ae01;\\n  --color-link-highlighted: #96271f;\\n}\\n\\n@font-face {\\n  font-family: \\\"FundamentalBrigade\\\";\\n  font-display: swap;\\n  src: url('Fundamental_Brigade_Schlank.ttf') format(\\\"truetype\\\");\\n}\\n\\n@font-face {\\n  font-family: \\\"LinolschriftHeavy\\\";\\n  font-display: swap;\\n  src: url('Linolschrift_Heavy.ttf') format(\\\"truetype\\\");\\n}\\n\\n*,\\n*::before,\\n*::after {\\n  box-sizing: border-box;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\nhtml {\\n  overflow: hidden;\\n  min-height: 100vh;\\n  scroll-behavior: smooth;\\n  text-rendering: optimizeSpeed;\\n  line-height: 1.2;\\n}\\n\\nhtml, body, div, span, applet, object, iframe,\\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\\na, abbr, acronym, address, big, cite, code,\\ndel, dfn, em, img, ins, kbd, q, s, samp,\\nsmall, strike, strong, sub, sup, tt, var,\\nb, u, i, center,\\ndl, dt, dd, ol, ul, li,\\nfieldset, form, label, legend,\\ntable, caption, tbody, tfoot, thead, tr, th, td,\\narticle, aside, canvas, details, embed,\\nfigure, figcaption, footer, header, hgroup,\\nmenu, nav, output, ruby, section, summary,\\ntime, mark, audio, video {\\n  margin: 0;\\n  padding: 0;\\n  border: 0;\\n}\\n\\nbody {\\n  background-image: url('background.webp');\\n  color: var(--color-text);\\n  font-size: clamp(1em, 1em + 2vw, 3em);\\n  font-family: FundamentalBrigade, arial, sans-serif;\\n  font-weight: normal;\\n  height: 100%;\\n  overflow-x: hidden;\\n  -webkit-perspective: 1px;\\n          perspective: 1px;\\n  -webkit-transform-style: preserve-3d;\\n          transform-style: preserve-3d;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2dtL0RldmVsb3BtZW50L3BsYXlncm91bmQvZGVtb2tyYXRpZWVybGViZW4yMDIwL2FwcHMvZGVtb2wvc3JjL2FwcC9hcHAuc2NzcyIsImFwcHMvZGVtb2wvc3JjL2FwcC9hcHAuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHFCQUFBO0VBQ0Esc0JBQUE7RUFDQSxxQkFBQTtFQUNBLGlDQUFBO0FDQ0Y7O0FERUE7RUFDRSxpQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsOERBQUE7QUNDRjs7QURFQTtFQUNFLGdDQUFBO0VBQ0Esa0JBQUE7RUFDQSxxREFBQTtBQ0FGOztBREdBOzs7RUFHRSxzQkFBQTtFQUNBLG1DQUFBO0VBQ0Esa0NBQUE7QUNERjs7QURJQTtFQUNFLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSx1QkFBQTtFQUNBLDZCQUFBO0VBQ0EsZ0JBQUE7QUNERjs7QURJQTs7Ozs7Ozs7Ozs7OztFQWFDLFNBQUE7RUFDQSxVQUFBO0VBQ0MsU0FBQTtBQ0RGOztBRElBO0VBQ0Usd0NBQUE7RUFDQSx3QkFBQTtFQUNBLHFDQUFBO0VBQ0Esa0RBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLHdCQUFBO1VBQUEsZ0JBQUE7RUFDQSxvQ0FBQTtVQUFBLDRCQUFBO0FDREYiLCJmaWxlIjoiYXBwcy9kZW1vbC9zcmMvYXBwL2FwcC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOnJvb3Qge1xuICAtLWNvbG9yLXRleHQ6ICM5NjI3MWY7XG4gIC0tY29sb3ItdGl0bGU6ICM3ODFmMTk7XG4gIC0tY29sb3ItbGluazogI2Q2YWUwMTtcbiAgLS1jb2xvci1saW5rLWhpZ2hsaWdodGVkOiAjOTYyNzFmO1xufVxuXG5AZm9udC1mYWNlIHtcbiAgZm9udC1mYW1pbHk6ICdGdW5kYW1lbnRhbEJyaWdhZGUnO1xuICBmb250LWRpc3BsYXk6IHN3YXA7XG4gIHNyYzogdXJsKCcuLi9hc3NldHMvZm9udHMvRnVuZGFtZW50YWxfQnJpZ2FkZV9TY2hsYW5rLnR0ZicpIGZvcm1hdCgndHJ1ZXR5cGUnKTtcbn1cblxuQGZvbnQtZmFjZSB7XG4gIGZvbnQtZmFtaWx5OiAnTGlub2xzY2hyaWZ0SGVhdnknO1xuICBmb250LWRpc3BsYXk6IHN3YXA7XG4gIHNyYzogdXJsKCcuLi9hc3NldHMvZm9udHMvTGlub2xzY2hyaWZ0X0hlYXZ5LnR0ZicpIGZvcm1hdCgndHJ1ZXR5cGUnKTtcbn1cblxuKixcbio6OmJlZm9yZSxcbio6OmFmdGVyIHtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XG4gIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XG59XG5cbmh0bWwge1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBtaW4taGVpZ2h0OiAxMDB2aDtcbiAgc2Nyb2xsLWJlaGF2aW9yOiBzbW9vdGg7XG4gIHRleHQtcmVuZGVyaW5nOiBvcHRpbWl6ZVNwZWVkO1xuICBsaW5lLWhlaWdodDogMS4yO1xufVxuXG5odG1sLCBib2R5LCBkaXYsIHNwYW4sIGFwcGxldCwgb2JqZWN0LCBpZnJhbWUsXG5oMSwgaDIsIGgzLCBoNCwgaDUsIGg2LCBwLCBibG9ja3F1b3RlLCBwcmUsXG5hLCBhYmJyLCBhY3JvbnltLCBhZGRyZXNzLCBiaWcsIGNpdGUsIGNvZGUsXG5kZWwsIGRmbiwgZW0sIGltZywgaW5zLCBrYmQsIHEsIHMsIHNhbXAsXG5zbWFsbCwgc3RyaWtlLCBzdHJvbmcsIHN1Yiwgc3VwLCB0dCwgdmFyLFxuYiwgdSwgaSwgY2VudGVyLFxuZGwsIGR0LCBkZCwgb2wsIHVsLCBsaSxcbmZpZWxkc2V0LCBmb3JtLCBsYWJlbCwgbGVnZW5kLFxudGFibGUsIGNhcHRpb24sIHRib2R5LCB0Zm9vdCwgdGhlYWQsIHRyLCB0aCwgdGQsXG5hcnRpY2xlLCBhc2lkZSwgY2FudmFzLCBkZXRhaWxzLCBlbWJlZCwgXG5maWd1cmUsIGZpZ2NhcHRpb24sIGZvb3RlciwgaGVhZGVyLCBoZ3JvdXAsIFxubWVudSwgbmF2LCBvdXRwdXQsIHJ1YnksIHNlY3Rpb24sIHN1bW1hcnksXG50aW1lLCBtYXJrLCBhdWRpbywgdmlkZW8ge1xuXHRtYXJnaW46IDA7XG5cdHBhZGRpbmc6IDA7XG4gIGJvcmRlcjogMDtcbn1cblxuYm9keSB7XG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9hc3NldHMvYmFja2dyb3VuZC53ZWJwKTtcbiAgY29sb3I6IHZhcigtLWNvbG9yLXRleHQpO1xuICBmb250LXNpemU6ICN7J2NsYW1wKDFlbSwgMWVtICsgMnZ3LCAzZW0pJ307XG4gIGZvbnQtZmFtaWx5OiBGdW5kYW1lbnRhbEJyaWdhZGUsIGFyaWFsLCBzYW5zLXNlcmlmO1xuICBmb250LXdlaWdodDogbm9ybWFsO1xuICBoZWlnaHQ6IDEwMCU7XG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgcGVyc3BlY3RpdmU6IDFweDtcbiAgdHJhbnNmb3JtLXN0eWxlOiBwcmVzZXJ2ZS0zZDtcbn0iLCI6cm9vdCB7XG4gIC0tY29sb3ItdGV4dDogIzk2MjcxZjtcbiAgLS1jb2xvci10aXRsZTogIzc4MWYxOTtcbiAgLS1jb2xvci1saW5rOiAjZDZhZTAxO1xuICAtLWNvbG9yLWxpbmstaGlnaGxpZ2h0ZWQ6ICM5NjI3MWY7XG59XG5cbkBmb250LWZhY2Uge1xuICBmb250LWZhbWlseTogXCJGdW5kYW1lbnRhbEJyaWdhZGVcIjtcbiAgZm9udC1kaXNwbGF5OiBzd2FwO1xuICBzcmM6IHVybChcIi4uL2Fzc2V0cy9mb250cy9GdW5kYW1lbnRhbF9CcmlnYWRlX1NjaGxhbmsudHRmXCIpIGZvcm1hdChcInRydWV0eXBlXCIpO1xufVxuQGZvbnQtZmFjZSB7XG4gIGZvbnQtZmFtaWx5OiBcIkxpbm9sc2NocmlmdEhlYXZ5XCI7XG4gIGZvbnQtZGlzcGxheTogc3dhcDtcbiAgc3JjOiB1cmwoXCIuLi9hc3NldHMvZm9udHMvTGlub2xzY2hyaWZ0X0hlYXZ5LnR0ZlwiKSBmb3JtYXQoXCJ0cnVldHlwZVwiKTtcbn1cbiosXG4qOjpiZWZvcmUsXG4qOjphZnRlciB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xufVxuXG5odG1sIHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgbWluLWhlaWdodDogMTAwdmg7XG4gIHNjcm9sbC1iZWhhdmlvcjogc21vb3RoO1xuICB0ZXh0LXJlbmRlcmluZzogb3B0aW1pemVTcGVlZDtcbiAgbGluZS1oZWlnaHQ6IDEuMjtcbn1cblxuaHRtbCwgYm9keSwgZGl2LCBzcGFuLCBhcHBsZXQsIG9iamVjdCwgaWZyYW1lLFxuaDEsIGgyLCBoMywgaDQsIGg1LCBoNiwgcCwgYmxvY2txdW90ZSwgcHJlLFxuYSwgYWJiciwgYWNyb255bSwgYWRkcmVzcywgYmlnLCBjaXRlLCBjb2RlLFxuZGVsLCBkZm4sIGVtLCBpbWcsIGlucywga2JkLCBxLCBzLCBzYW1wLFxuc21hbGwsIHN0cmlrZSwgc3Ryb25nLCBzdWIsIHN1cCwgdHQsIHZhcixcbmIsIHUsIGksIGNlbnRlcixcbmRsLCBkdCwgZGQsIG9sLCB1bCwgbGksXG5maWVsZHNldCwgZm9ybSwgbGFiZWwsIGxlZ2VuZCxcbnRhYmxlLCBjYXB0aW9uLCB0Ym9keSwgdGZvb3QsIHRoZWFkLCB0ciwgdGgsIHRkLFxuYXJ0aWNsZSwgYXNpZGUsIGNhbnZhcywgZGV0YWlscywgZW1iZWQsXG5maWd1cmUsIGZpZ2NhcHRpb24sIGZvb3RlciwgaGVhZGVyLCBoZ3JvdXAsXG5tZW51LCBuYXYsIG91dHB1dCwgcnVieSwgc2VjdGlvbiwgc3VtbWFyeSxcbnRpbWUsIG1hcmssIGF1ZGlvLCB2aWRlbyB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgYm9yZGVyOiAwO1xufVxuXG5ib2R5IHtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uL2Fzc2V0cy9iYWNrZ3JvdW5kLndlYnApO1xuICBjb2xvcjogdmFyKC0tY29sb3ItdGV4dCk7XG4gIGZvbnQtc2l6ZTogY2xhbXAoMWVtLCAxZW0gKyAydncsIDNlbSk7XG4gIGZvbnQtZmFtaWx5OiBGdW5kYW1lbnRhbEJyaWdhZGUsIGFyaWFsLCBzYW5zLXNlcmlmO1xuICBmb250LXdlaWdodDogbm9ybWFsO1xuICBoZWlnaHQ6IDEwMCU7XG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgcGVyc3BlY3RpdmU6IDFweDtcbiAgdHJhbnNmb3JtLXN0eWxlOiBwcmVzZXJ2ZS0zZDtcbn0iXX0= */\"","var content = require(\"!!../../../../node_modules/postcss-loader/src/index.js??embedded!../../../../node_modules/sass-loader/lib/loader.js??ref--5-oneOf-3-2!./app.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport ScrollIntoView from \"./scrollintoview\";\nimport usePersistedState from './usepersistedstate';\nimport { Home } from '@gerdesque/home';\nimport { Nav, Chapter, AppContext } from '@gerdesque/ui';  \nimport { ChapterProps } from '@gerdesque/data';\nimport './app.scss';\n\nimport app from './app.json';\n\n(window as any).soundManager.setup({debugMode: false});\n\nexport const App = () => {\n  const [character, setCharacter] = usePersistedState('character', 'default');\n\n  const renderChapter = (routerProps) => {\n    const chapterLink = routerProps.match.params.link\n    const chapter: ChapterProps = app.chapters.find(chapterObj => chapterObj.link === chapterLink)\n    return (chapter && <Chapter {...chapter} />)\n  }\n\n  return (\n    <AppContext.Provider value={[character, setCharacter]}>\n    <BrowserRouter basename=\"/demokratieerleben2020\"> \n      <div className=\"app\">\n        <Nav chapters = {app.chapters}/>\n        <ScrollIntoView>\n        <div className=\"app-content\">\n          <Switch>\n            <Route path=\"/\" exact component={Home} />\n            <Route path=\"/chapter/:link\" render={renderChapter} />\n          </Switch>\n        </div>\n        </ScrollIntoView>\n      </div>\n    </BrowserRouter>\n    </AppContext.Provider>\n  );\n};\n\nexport default App;\n","import { useEffect, useRef } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst ScrollIntoView = ({ children, location }) => {\n  const prevLocation = useRef();\n\n  useEffect(() => {\n    if (prevLocation.current !== location.pathname) {\n      document.querySelector('.parallax__header').scrollIntoView({ behavior: 'smooth' });\n      prevLocation.current = location.pathname;\n    }\n  }, [location]);\n\n  return children;\n};\n\nScrollIntoView.propTypes = {\n  children: PropTypes.node,\n  location: PropTypes.object\n};\n\nexport default withRouter(ScrollIntoView);\n","import React from 'react';\n\nexport default function usePersistedState(key, defaultValue) {\n  const [state, setState] = React.useState(() => {\n    const persistedState = localStorage.getItem(key);\n    return persistedState ? JSON.parse(persistedState) : defaultValue;\n  });\n  React.useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(state));\n  }, [state, key]);\n  return [state, setState];\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app/app';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":"webpack:///"}